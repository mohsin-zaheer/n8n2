{
  "testName": "User Test",
  "userPrompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days",
  "sessionId": "complete_e2e_user_test_1755001859878",
  "timestamp": "2025-08-12T12:30:59.879Z",
  "duration": 89812,
  "success": false,
  "phases": {
    "discovery": {
      "name": "Discovery",
      "success": true,
      "metrics": {
        "startTime": 1755001860408,
        "endTime": 1755001886729,
        "duration": 26321,
        "memoryUsage": {
          "heapUsed": 5313400,
          "heapTotal": 33423360,
          "external": 6522609
        }
      },
      "logs": [
        {
          "timestamp": "2025-08-12T12:31:00.409Z",
          "level": "INFO",
          "source": "Orchestrator",
          "message": "Starting discovery phase"
        },
        {
          "timestamp": "2025-08-12T12:31:00.409Z",
          "level": "DEBUG",
          "source": "Claude",
          "message": "Sending request for discovery phase"
        },
        {
          "timestamp": "2025-08-12T12:31:16.426Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: get_node_for_task"
        },
        {
          "timestamp": "2025-08-12T12:31:16.426Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"task\":\"get_api_data\"}"
        },
        {
          "timestamp": "2025-08-12T12:31:16.427Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: get_node_for_task"
        },
        {
          "timestamp": "2025-08-12T12:31:16.427Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"task\":\"chat_with_ai\"}"
        },
        {
          "timestamp": "2025-08-12T12:31:16.427Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: get_node_for_task"
        },
        {
          "timestamp": "2025-08-12T12:31:16.427Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"task\":\"filter_data\"}"
        },
        {
          "timestamp": "2025-08-12T12:31:16.595Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool get_node_for_task completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:16.599Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool get_node_for_task completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:16.935Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool get_node_for_task completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:16.935Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: search_nodes"
        },
        {
          "timestamp": "2025-08-12T12:31:16.935Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"query\":\"apollo\",\"limit\":20}"
        },
        {
          "timestamp": "2025-08-12T12:31:16.935Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: search_nodes"
        },
        {
          "timestamp": "2025-08-12T12:31:16.936Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"query\":\"linkedin\",\"limit\":20}"
        },
        {
          "timestamp": "2025-08-12T12:31:16.936Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: search_nodes"
        },
        {
          "timestamp": "2025-08-12T12:31:16.936Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"query\":\"company\",\"limit\":20}"
        },
        {
          "timestamp": "2025-08-12T12:31:16.936Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: search_nodes"
        },
        {
          "timestamp": "2025-08-12T12:31:16.936Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"query\":\"gmail\",\"limit\":20}"
        },
        {
          "timestamp": "2025-08-12T12:31:16.936Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: search_nodes"
        },
        {
          "timestamp": "2025-08-12T12:31:16.936Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"query\":\"hubspot\",\"limit\":20}"
        },
        {
          "timestamp": "2025-08-12T12:31:16.936Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: search_nodes"
        },
        {
          "timestamp": "2025-08-12T12:31:16.936Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"query\":\"gmail\",\"limit\":20}"
        },
        {
          "timestamp": "2025-08-12T12:31:16.936Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: search_nodes"
        },
        {
          "timestamp": "2025-08-12T12:31:16.936Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"query\":\"schedule\",\"limit\":20}"
        },
        {
          "timestamp": "2025-08-12T12:31:17.053Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool search_nodes completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:17.067Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool search_nodes completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:17.069Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool search_nodes completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:17.069Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: search_nodes"
        },
        {
          "timestamp": "2025-08-12T12:31:17.069Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"query\":\"sales\",\"limit\":20}"
        },
        {
          "timestamp": "2025-08-12T12:31:17.095Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool search_nodes completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:17.105Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool search_nodes completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:17.107Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool search_nodes completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:17.167Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool search_nodes completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:17.181Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool search_nodes completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:26.619Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.openAi (Send a message to an AI model and get response)"
        },
        {
          "timestamp": "2025-08-12T12:31:26.619Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.httpRequest (Make a simple GET request to retrieve data from an API)"
        },
        {
          "timestamp": "2025-08-12T12:31:26.619Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.if (Filter items based on conditions)"
        },
        {
          "timestamp": "2025-08-12T12:31:26.619Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.linkedIn (Enrich leads with LinkedIn profile data using LinkedIn API)"
        },
        {
          "timestamp": "2025-08-12T12:31:26.619Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.clearbit (Enrich leads with comprehensive company data and firmographic information)"
        },
        {
          "timestamp": "2025-08-12T12:31:26.619Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.scheduleTrigger (Schedule follow-up reminders after 5 days if no email reply received)"
        },
        {
          "timestamp": "2025-08-12T12:31:26.619Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.gmail (Send personalized cold emails and monitor for replies)"
        },
        {
          "timestamp": "2025-08-12T12:31:26.619Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.hubspot (Log lead activity and email interactions in HubSpot CRM)"
        },
        {
          "timestamp": "2025-08-12T12:31:26.728Z",
          "level": "DEBUG",
          "source": "Orchestrator",
          "message": "Session state updated"
        },
        {
          "timestamp": "2025-08-12T12:31:26.728Z",
          "level": "INFO",
          "source": "Orchestrator",
          "message": "Data flow captured: 3 transformations"
        }
      ],
      "nodes": [
        {
          "id": "task_node_2",
          "type": "nodes-base.openAi",
          "purpose": "Send a message to an AI model and get response"
        },
        {
          "id": "task_node_1",
          "type": "nodes-base.httpRequest",
          "purpose": "Make a simple GET request to retrieve data from an API"
        },
        {
          "id": "task_node_3",
          "type": "nodes-base.if",
          "purpose": "Filter items based on conditions"
        },
        {
          "id": "search_node_1",
          "type": "nodes-base.linkedIn",
          "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
        },
        {
          "id": "search_node_2",
          "type": "nodes-base.clearbit",
          "purpose": "Enrich leads with comprehensive company data and firmographic information"
        },
        {
          "id": "search_node_3",
          "type": "nodes-base.scheduleTrigger",
          "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
        },
        {
          "id": "search_node_4",
          "type": "nodes-base.gmail",
          "purpose": "Send personalized cold emails and monitor for replies"
        },
        {
          "id": "search_node_5",
          "type": "nodes-base.hubspot",
          "purpose": "Log lead activity and email interactions in HubSpot CRM"
        }
      ],
      "sessionState": {
        "sessionId": "complete_e2e_user_test_1755001859878",
        "createdAt": "2025-08-12T12:31:00.377Z",
        "state": {
          "phase": "configuration",
          "userPrompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days",
          "discovered": [
            {
              "id": "task_node_2",
              "type": "nodes-base.openAi",
              "config": {
                "modelId": "gpt-3.5-turbo",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "messages": {
                  "values": [
                    {
                      "role": "user",
                      "content": ""
                    }
                  ]
                },
                "resource": "chat",
                "operation": "message",
                "retryOnFail": true,
                "alwaysOutputData": true,
                "waitBetweenTries": 5000
              },
              "purpose": "Send a message to an AI model and get response",
              "displayName": "chat with ai",
              "isPreConfigured": true
            },
            {
              "id": "task_node_1",
              "type": "nodes-base.httpRequest",
              "config": {
                "url": "",
                "method": "GET",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "retryOnFail": true,
                "authentication": "none",
                "alwaysOutputData": true,
                "waitBetweenTries": 1000
              },
              "purpose": "Make a simple GET request to retrieve data from an API",
              "displayName": "get api data",
              "isPreConfigured": true
            },
            {
              "id": "task_node_3",
              "type": "nodes-base.if",
              "config": {
                "conditions": {
                  "conditions": [
                    {
                      "operator": {
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "",
                      "rightValue": ""
                    }
                  ]
                }
              },
              "purpose": "Filter items based on conditions",
              "displayName": "filter data",
              "isPreConfigured": true
            },
            {
              "id": "search_node_1",
              "type": "nodes-base.linkedIn",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
            },
            {
              "id": "search_node_2",
              "type": "nodes-base.clearbit",
              "purpose": "Enrich leads with comprehensive company data and firmographic information"
            },
            {
              "id": "search_node_3",
              "type": "nodes-base.scheduleTrigger",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
            },
            {
              "id": "search_node_4",
              "type": "nodes-base.gmail",
              "purpose": "Send personalized cold emails and monitor for replies"
            },
            {
              "id": "search_node_5",
              "type": "nodes-base.hubspot",
              "purpose": "Log lead activity and email interactions in HubSpot CRM"
            }
          ],
          "selected": [
            "task_node_2",
            "task_node_1",
            "task_node_3",
            "search_node_1",
            "search_node_2",
            "search_node_3",
            "search_node_4",
            "search_node_5"
          ],
          "configured": {},
          "validated": {},
          "workflow": {
            "nodes": [],
            "settings": {},
            "connections": {}
          },
          "buildPhases": [],
          "operationHistory": [
            {
              "type": "completePhase",
              "phase": "discovery",
              "timestamp": "2025-08-12T12:31:25.605Z"
            },
            {
              "node": {
                "id": "task_node_2",
                "type": "nodes-base.openAi",
                "config": {
                  "modelId": "gpt-3.5-turbo",
                  "onError": "continueRegularOutput",
                  "maxTries": 3,
                  "messages": {
                    "values": [
                      {
                        "role": "user",
                        "content": ""
                      }
                    ]
                  },
                  "resource": "chat",
                  "operation": "message",
                  "retryOnFail": true,
                  "alwaysOutputData": true,
                  "waitBetweenTries": 5000
                },
                "purpose": "Send a message to an AI model and get response",
                "displayName": "chat with ai",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_2",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "task_node_1",
                "type": "nodes-base.httpRequest",
                "config": {
                  "url": "",
                  "method": "GET",
                  "onError": "continueRegularOutput",
                  "maxTries": 3,
                  "retryOnFail": true,
                  "authentication": "none",
                  "alwaysOutputData": true,
                  "waitBetweenTries": 1000
                },
                "purpose": "Make a simple GET request to retrieve data from an API",
                "displayName": "get api data",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_1",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "task_node_3",
                "type": "nodes-base.if",
                "config": {
                  "conditions": {
                    "conditions": [
                      {
                        "operator": {
                          "type": "string",
                          "operation": "equals"
                        },
                        "leftValue": "",
                        "rightValue": ""
                      }
                    ]
                  }
                },
                "purpose": "Filter items based on conditions",
                "displayName": "filter data",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_3",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_1",
                "type": "nodes-base.linkedIn",
                "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_1",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_2",
                "type": "nodes-base.clearbit",
                "purpose": "Enrich leads with comprehensive company data and firmographic information"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_2",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_3",
                "type": "nodes-base.scheduleTrigger",
                "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_3",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "node": {
                "id": "search_node_4",
                "type": "nodes-base.gmail",
                "purpose": "Send personalized cold emails and monitor for replies"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_4",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "node": {
                "id": "search_node_5",
                "type": "nodes-base.hubspot",
                "purpose": "Log lead activity and email interactions in HubSpot CRM"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_5",
              "timestamp": "2025-08-12T12:31:26.399Z"
            }
          ],
          "pendingClarifications": [],
          "clarificationHistory": []
        }
      },
      "stateChanges": {},
      "dataFlow": {
        "input": {
          "prompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days"
        },
        "output": {
          "nodes": [
            {
              "id": "task_node_2",
              "type": "nodes-base.openAi",
              "displayName": "chat with ai",
              "purpose": "Send a message to an AI model and get response",
              "isPreConfigured": true,
              "config": {
                "resource": "chat",
                "operation": "message",
                "modelId": "gpt-3.5-turbo",
                "messages": {
                  "values": [
                    {
                      "role": "user",
                      "content": ""
                    }
                  ]
                },
                "onError": "continueRegularOutput",
                "retryOnFail": true,
                "maxTries": 3,
                "waitBetweenTries": 5000,
                "alwaysOutputData": true
              }
            },
            {
              "id": "task_node_1",
              "type": "nodes-base.httpRequest",
              "displayName": "get api data",
              "purpose": "Make a simple GET request to retrieve data from an API",
              "isPreConfigured": true,
              "config": {
                "method": "GET",
                "url": "",
                "authentication": "none",
                "onError": "continueRegularOutput",
                "retryOnFail": true,
                "maxTries": 3,
                "waitBetweenTries": 1000,
                "alwaysOutputData": true
              }
            },
            {
              "id": "task_node_3",
              "type": "nodes-base.if",
              "displayName": "filter data",
              "purpose": "Filter items based on conditions",
              "isPreConfigured": true,
              "config": {
                "conditions": {
                  "conditions": [
                    {
                      "leftValue": "",
                      "rightValue": "",
                      "operator": {
                        "type": "string",
                        "operation": "equals"
                      }
                    }
                  ]
                }
              }
            },
            {
              "id": "search_node_1",
              "type": "nodes-base.linkedIn",
              "displayName": "nodes-base.linkedIn",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
              "needsConfiguration": true
            },
            {
              "id": "search_node_2",
              "type": "nodes-base.clearbit",
              "displayName": "nodes-base.clearbit",
              "purpose": "Enrich leads with comprehensive company data and firmographic information",
              "needsConfiguration": true
            },
            {
              "id": "search_node_3",
              "type": "nodes-base.scheduleTrigger",
              "displayName": "nodes-base.scheduleTrigger",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
              "needsConfiguration": true
            },
            {
              "id": "search_node_4",
              "type": "nodes-base.gmail",
              "displayName": "nodes-base.gmail",
              "purpose": "Send personalized cold emails and monitor for replies",
              "needsConfiguration": true
            },
            {
              "id": "search_node_5",
              "type": "nodes-base.hubspot",
              "displayName": "nodes-base.hubspot",
              "purpose": "Log lead activity and email interactions in HubSpot CRM",
              "needsConfiguration": true
            }
          ]
        },
        "transformations": [
          "Intent Analysis",
          "Node Discovery",
          "Selection"
        ]
      }
    },
    "configuration": {
      "name": "Configuration",
      "success": true,
      "metrics": {
        "startTime": 1755001886729,
        "endTime": 1755001906370,
        "duration": 19641,
        "memoryUsage": {
          "heapUsed": 2928296,
          "heapTotal": 36372480,
          "external": 7670485
        }
      },
      "logs": [
        {
          "timestamp": "2025-08-12T12:31:26.729Z",
          "level": "INFO",
          "source": "Orchestrator",
          "message": "Starting configuration phase"
        },
        {
          "timestamp": "2025-08-12T12:31:26.729Z",
          "level": "DEBUG",
          "source": "Claude",
          "message": "Sending request for configuration phase"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: get_node_essentials"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.openAi\"}"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: get_node_essentials"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.httpRequest\"}"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: get_node_essentials"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.if\"}"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: get_node_essentials"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.linkedIn\"}"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: get_node_essentials"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.clearbit\"}"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: get_node_essentials"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.scheduleTrigger\"}"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: get_node_essentials"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.gmail\"}"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: get_node_essentials"
        },
        {
          "timestamp": "2025-08-12T12:31:26.781Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.hubspot\"}"
        },
        {
          "timestamp": "2025-08-12T12:31:26.961Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool get_node_essentials completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:26.983Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool get_node_essentials completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:26.989Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool get_node_essentials completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:26.992Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool get_node_essentials completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:26.997Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool get_node_essentials completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:27.329Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool get_node_essentials completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:27.336Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool get_node_essentials completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:27.340Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool get_node_essentials completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:32.565Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: validate_node_minimal"
        },
        {
          "timestamp": "2025-08-12T12:31:32.566Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.linkedIn\",\"config\":{\"authentication\":\"standard\",\"resource\":\"post\",\"postAs\":\"person\",\"person\":\"={{ $json.linkedinProfileId || $json.email }}\",\"binaryPropertyName\":\"data\"}}"
        },
        {
          "timestamp": "2025-08-12T12:31:32.701Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: validate_node_minimal"
        },
        {
          "timestamp": "2025-08-12T12:31:32.701Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.clearbit\",\"config\":{\"resource\":\"company\",\"operation\":\"enrich\",\"domain\":\"={{ $json.company_domain || $json.domain }}\"}}"
        },
        {
          "timestamp": "2025-08-12T12:31:32.717Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool validate_node_minimal completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:32.894Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool validate_node_minimal completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:33.804Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: validate_node_minimal"
        },
        {
          "timestamp": "2025-08-12T12:31:33.804Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.if\",\"config\":{\"conditions\":{\"conditions\":[{\"operator\":{\"type\":\"number\",\"operation\":\"largerEqual\"},\"leftValue\":\"{{ $json.ai_score }}\",\"rightValue\":7}]}}}"
        },
        {
          "timestamp": "2025-08-12T12:31:33.923Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool validate_node_minimal completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:38.512Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: validate_node_minimal"
        },
        {
          "timestamp": "2025-08-12T12:31:38.512Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.scheduleTrigger\",\"config\":{\"notice\":\"\",\"rule\":\"interval\",\"interval\":[{\"field\":\"days\",\"value\":5}]}}"
        },
        {
          "timestamp": "2025-08-12T12:31:38.661Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool validate_node_minimal completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:38.919Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: validate_node_minimal"
        },
        {
          "timestamp": "2025-08-12T12:31:38.919Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.httpRequest\",\"config\":{\"url\":\"https://api.apollo.io/v1/people/search\",\"method\":\"GET\",\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"apolloApi\",\"headers\":{\"Content-Type\":\"application/json\",\"Cache-Control\":\"no-cache\"},\"qs\":{\"page\":\"1\",\"per_page\":\"25\",\"person_titles\":\"{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}\",\"organization_num_employees_ranges\":\"{{ $json.companySizeRange || '11,50' }}\",\"q_keywords\":\"{{ $json.keywords || 'SaaS,software,technology' }}\"},\"options\":{\"timeout\":30000,\"response\":{\"response\":{\"fullResponse\":false,\"responseFormat\":\"json\"}}}}}"
        },
        {
          "timestamp": "2025-08-12T12:31:39.030Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool validate_node_minimal completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:39.679Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: validate_node_minimal"
        },
        {
          "timestamp": "2025-08-12T12:31:39.679Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.gmail\",\"config\":{\"resource\":\"message\",\"operation\":\"send\",\"sendTo\":\"={{ $json.email }}\",\"subject\":\"={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}\",\"emailType\":\"html\",\"message\":\"={{ $json.personalizedEmail }}\"}}"
        },
        {
          "timestamp": "2025-08-12T12:31:39.795Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool validate_node_minimal completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:41.741Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: validate_node_minimal"
        },
        {
          "timestamp": "2025-08-12T12:31:41.741Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.openAi\",\"config\":{\"modelId\":\"gpt-4\",\"messages\":{\"values\":[{\"role\":\"system\",\"content\":\"You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach.\"},{\"role\":\"user\",\"content\":\"Please score this lead based on our ICP criteria:\\n\\nLead Data:\\n- Name: {{ $json.name }}\\n- Company: {{ $json.company }}\\n- Title: {{ $json.title }}\\n- Industry: {{ $json.industry }}\\n- Company Size: {{ $json.company_size }}\\n- Location: {{ $json.location }}\\n- LinkedIn Profile: {{ $json.linkedin_profile }}\\n- Company Description: {{ $json.company_description }}\\n- Technologies Used: {{ $json.technologies }}\\n- Recent Activity: {{ $json.recent_activity }}\\n\\nICP Criteria:\\n- Target Industries: SaaS, Technology, E-commerce\\n- Company Size: 50-500 employees\\n- Decision Maker Titles: VP, Director, C-Level\\n- Geographic Focus: North America, Europe\\n- Tech Stack Alignment: Modern web technologies\\n\\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes.\"}]},\"resource\":\"chat\",\"operation\":\"message\",\"options\":{\"temperature\":0.3,\"maxTokens\":500}}}"
        },
        {
          "timestamp": "2025-08-12T12:31:41.851Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool validate_node_minimal completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:43.742Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: validate_node_minimal"
        },
        {
          "timestamp": "2025-08-12T12:31:43.742Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"nodeType\":\"nodes-base.hubspot\",\"config\":{\"resource\":\"contact\",\"operation\":\"upsert\",\"email\":\"={{ $json.email }}\",\"additionalFields\":{\"firstname\":\"={{ $json.firstName }}\",\"lastname\":\"={{ $json.lastName }}\",\"company\":\"={{ $json.company }}\",\"jobtitle\":\"={{ $json.jobTitle }}\",\"phone\":\"={{ $json.phone }}\",\"website\":\"={{ $json.companyWebsite }}\",\"lifecyclestage\":\"lead\",\"lead_status\":\"new\",\"hs_lead_status\":\"NEW\",\"lead_source\":\"Apollo.io\",\"ai_lead_score\":\"={{ $json.aiScore }}\",\"linkedin_profile\":\"={{ $json.linkedinProfile }}\",\"last_email_sent\":\"={{ new Date().toISOString() }}\",\"email_campaign\":\"Cold Outreach\",\"notes_last_contacted\":\"Initial cold email sent via automated workflow\"}}}"
        },
        {
          "timestamp": "2025-08-12T12:31:43.946Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool validate_node_minimal completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:31:46.305Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.openAi (Send a message to an AI model and get response)"
        },
        {
          "timestamp": "2025-08-12T12:31:46.305Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.httpRequest (Make a simple GET request to retrieve data from an API)"
        },
        {
          "timestamp": "2025-08-12T12:31:46.306Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.if (Filter items based on conditions)"
        },
        {
          "timestamp": "2025-08-12T12:31:46.306Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.linkedIn (Enrich leads with LinkedIn profile data using LinkedIn API)"
        },
        {
          "timestamp": "2025-08-12T12:31:46.306Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.clearbit (Enrich leads with comprehensive company data and firmographic information)"
        },
        {
          "timestamp": "2025-08-12T12:31:46.306Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.scheduleTrigger (Schedule follow-up reminders after 5 days if no email reply received)"
        },
        {
          "timestamp": "2025-08-12T12:31:46.306Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.gmail (Send personalized cold emails and monitor for replies)"
        },
        {
          "timestamp": "2025-08-12T12:31:46.306Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: nodes-base.hubspot (Log lead activity and email interactions in HubSpot CRM)"
        },
        {
          "timestamp": "2025-08-12T12:31:46.370Z",
          "level": "DEBUG",
          "source": "Orchestrator",
          "message": "Session state updated"
        },
        {
          "timestamp": "2025-08-12T12:31:46.370Z",
          "level": "INFO",
          "source": "Orchestrator",
          "message": "Data flow captured: 3 transformations"
        }
      ],
      "nodes": [
        {
          "id": "task_node_2",
          "type": "nodes-base.openAi",
          "purpose": "Send a message to an AI model and get response",
          "configuration": {
            "onError": "continueRegularOutput",
            "maxTries": 3,
            "retryOnFail": true,
            "alwaysOutputData": true,
            "waitBetweenTries": 5000,
            "notes": "AI Lead Scoring - Uses OpenAI to analyze lead data from Apollo.io and LinkedIn enrichment to score leads against ICP criteria for personalized outreach prioritization",
            "typeVersion": "1",
            "parameters": {
              "modelId": "gpt-4",
              "messages": {
                "values": [
                  {
                    "role": "system",
                    "content": "You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach."
                  },
                  {
                    "role": "user",
                    "content": "Please score this lead based on our ICP criteria:\n\nLead Data:\n- Name: {{ $json.name }}\n- Company: {{ $json.company }}\n- Title: {{ $json.title }}\n- Industry: {{ $json.industry }}\n- Company Size: {{ $json.company_size }}\n- Location: {{ $json.location }}\n- LinkedIn Profile: {{ $json.linkedin_profile }}\n- Company Description: {{ $json.company_description }}\n- Technologies Used: {{ $json.technologies }}\n- Recent Activity: {{ $json.recent_activity }}\n\nICP Criteria:\n- Target Industries: SaaS, Technology, E-commerce\n- Company Size: 50-500 employees\n- Decision Maker Titles: VP, Director, C-Level\n- Geographic Focus: North America, Europe\n- Tech Stack Alignment: Modern web technologies\n\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes."
                  }
                ]
              },
              "resource": "chat",
              "operation": "message",
              "options": {
                "temperature": 0.3,
                "maxTokens": 500
              }
            }
          },
          "validationStatus": "valid"
        },
        {
          "id": "task_node_1",
          "type": "nodes-base.httpRequest",
          "purpose": "Make a simple GET request to retrieve data from an API",
          "configuration": {
            "onError": "continueRegularOutput",
            "maxTries": 3,
            "retryOnFail": true,
            "alwaysOutputData": true,
            "waitBetweenTries": 1000,
            "notes": "Retrieve new leads from Apollo.io API - first step in lead enrichment and scoring workflow",
            "typeVersion": "1",
            "parameters": {
              "url": "https://api.apollo.io/v1/people/search",
              "method": "GET",
              "authentication": "predefinedCredentialType",
              "nodeCredentialType": "apolloApi",
              "headers": {
                "Content-Type": "application/json",
                "Cache-Control": "no-cache"
              },
              "qs": {
                "page": "1",
                "per_page": "25",
                "person_titles": "{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}",
                "organization_num_employees_ranges": "{{ $json.companySizeRange || '11,50' }}",
                "q_keywords": "{{ $json.keywords || 'SaaS,software,technology' }}"
              },
              "options": {
                "timeout": 30000,
                "response": {
                  "response": {
                    "fullResponse": false,
                    "responseFormat": "json"
                  }
                }
              }
            }
          },
          "validationStatus": "valid"
        },
        {
          "id": "task_node_3",
          "type": "nodes-base.if",
          "purpose": "Filter items based on conditions",
          "configuration": {
            "notes": "Filter leads based on AI scoring results - only process leads that meet ICP criteria threshold for personalized outreach",
            "typeVersion": "1",
            "parameters": {
              "conditions": {
                "conditions": [
                  {
                    "operator": {
                      "type": "number",
                      "operation": "largerEqual"
                    },
                    "leftValue": "{{ $json.ai_score }}",
                    "rightValue": 7
                  }
                ]
              }
            }
          },
          "validationStatus": "valid"
        },
        {
          "id": "search_node_1",
          "type": "nodes-base.linkedIn",
          "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
          "configuration": {
            "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
            "typeVersion": "1",
            "parameters": {
              "authentication": "standard",
              "resource": "post",
              "postAs": "person",
              "person": "={{ $json.linkedinProfileId || $json.email }}",
              "binaryPropertyName": "data"
            }
          },
          "validationStatus": "valid"
        },
        {
          "id": "search_node_2",
          "type": "nodes-base.clearbit",
          "purpose": "Enrich leads with comprehensive company data and firmographic information",
          "configuration": {
            "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
            "typeVersion": "1",
            "parameters": {
              "resource": "company",
              "operation": "enrich",
              "domain": "={{ $json.company_domain || $json.domain }}"
            }
          },
          "validationStatus": "valid"
        },
        {
          "id": "search_node_3",
          "type": "nodes-base.scheduleTrigger",
          "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
          "configuration": {
            "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
            "typeVersion": "1.2",
            "parameters": {
              "notice": "",
              "rule": "interval",
              "interval": [
                {
                  "field": "days",
                  "value": 5
                }
              ]
            }
          },
          "validationStatus": "valid"
        },
        {
          "id": "search_node_4",
          "type": "nodes-base.gmail",
          "purpose": "Send personalized cold emails and monitor for replies",
          "configuration": {
            "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
            "typeVersion": "2.1",
            "parameters": {
              "resource": "message",
              "operation": "send",
              "sendTo": "={{ $json.email }}",
              "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
              "emailType": "html",
              "message": "={{ $json.personalizedEmail }}"
            }
          },
          "validationStatus": "valid"
        },
        {
          "id": "search_node_5",
          "type": "nodes-base.hubspot",
          "purpose": "Log lead activity and email interactions in HubSpot CRM",
          "configuration": {
            "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
            "typeVersion": "2.1",
            "parameters": {
              "resource": "contact",
              "operation": "upsert",
              "email": "={{ $json.email }}",
              "additionalFields": {
                "firstname": "={{ $json.firstName }}",
                "lastname": "={{ $json.lastName }}",
                "company": "={{ $json.company }}",
                "jobtitle": "={{ $json.jobTitle }}",
                "phone": "={{ $json.phone }}",
                "website": "={{ $json.companyWebsite }}",
                "lifecyclestage": "lead",
                "lead_status": "new",
                "hs_lead_status": "NEW",
                "lead_source": "Apollo.io",
                "ai_lead_score": "={{ $json.aiScore }}",
                "linkedin_profile": "={{ $json.linkedinProfile }}",
                "last_email_sent": "={{ new Date().toISOString() }}",
                "email_campaign": "Cold Outreach",
                "notes_last_contacted": "Initial cold email sent via automated workflow"
              }
            }
          },
          "validationStatus": "valid"
        }
      ],
      "sessionState": {
        "sessionId": "complete_e2e_user_test_1755001859878",
        "createdAt": "2025-08-12T12:31:00.377Z",
        "state": {
          "phase": "building",
          "userPrompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days",
          "discovered": [
            {
              "id": "task_node_2",
              "type": "nodes-base.openAi",
              "config": {
                "modelId": "gpt-3.5-turbo",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "messages": {
                  "values": [
                    {
                      "role": "user",
                      "content": ""
                    }
                  ]
                },
                "resource": "chat",
                "operation": "message",
                "retryOnFail": true,
                "alwaysOutputData": true,
                "waitBetweenTries": 5000
              },
              "purpose": "Send a message to an AI model and get response",
              "displayName": "chat with ai",
              "isPreConfigured": true
            },
            {
              "id": "task_node_1",
              "type": "nodes-base.httpRequest",
              "config": {
                "url": "",
                "method": "GET",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "retryOnFail": true,
                "authentication": "none",
                "alwaysOutputData": true,
                "waitBetweenTries": 1000
              },
              "purpose": "Make a simple GET request to retrieve data from an API",
              "displayName": "get api data",
              "isPreConfigured": true
            },
            {
              "id": "task_node_3",
              "type": "nodes-base.if",
              "config": {
                "conditions": {
                  "conditions": [
                    {
                      "operator": {
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "",
                      "rightValue": ""
                    }
                  ]
                }
              },
              "purpose": "Filter items based on conditions",
              "displayName": "filter data",
              "isPreConfigured": true
            },
            {
              "id": "search_node_1",
              "type": "nodes-base.linkedIn",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
            },
            {
              "id": "search_node_2",
              "type": "nodes-base.clearbit",
              "purpose": "Enrich leads with comprehensive company data and firmographic information"
            },
            {
              "id": "search_node_3",
              "type": "nodes-base.scheduleTrigger",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
            },
            {
              "id": "search_node_4",
              "type": "nodes-base.gmail",
              "purpose": "Send personalized cold emails and monitor for replies"
            },
            {
              "id": "search_node_5",
              "type": "nodes-base.hubspot",
              "purpose": "Log lead activity and email interactions in HubSpot CRM"
            }
          ],
          "selected": [
            "task_node_2",
            "task_node_1",
            "task_node_3",
            "search_node_1",
            "search_node_2",
            "search_node_3",
            "search_node_4",
            "search_node_5"
          ],
          "configured": {},
          "validated": {},
          "workflow": {
            "nodes": [],
            "settings": {},
            "connections": {}
          },
          "buildPhases": [],
          "operationHistory": [
            {
              "type": "completePhase",
              "phase": "discovery",
              "timestamp": "2025-08-12T12:31:25.605Z"
            },
            {
              "node": {
                "id": "task_node_2",
                "type": "nodes-base.openAi",
                "config": {
                  "modelId": "gpt-3.5-turbo",
                  "onError": "continueRegularOutput",
                  "maxTries": 3,
                  "messages": {
                    "values": [
                      {
                        "role": "user",
                        "content": ""
                      }
                    ]
                  },
                  "resource": "chat",
                  "operation": "message",
                  "retryOnFail": true,
                  "alwaysOutputData": true,
                  "waitBetweenTries": 5000
                },
                "purpose": "Send a message to an AI model and get response",
                "displayName": "chat with ai",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_2",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "task_node_1",
                "type": "nodes-base.httpRequest",
                "config": {
                  "url": "",
                  "method": "GET",
                  "onError": "continueRegularOutput",
                  "maxTries": 3,
                  "retryOnFail": true,
                  "authentication": "none",
                  "alwaysOutputData": true,
                  "waitBetweenTries": 1000
                },
                "purpose": "Make a simple GET request to retrieve data from an API",
                "displayName": "get api data",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_1",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "task_node_3",
                "type": "nodes-base.if",
                "config": {
                  "conditions": {
                    "conditions": [
                      {
                        "operator": {
                          "type": "string",
                          "operation": "equals"
                        },
                        "leftValue": "",
                        "rightValue": ""
                      }
                    ]
                  }
                },
                "purpose": "Filter items based on conditions",
                "displayName": "filter data",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_3",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_1",
                "type": "nodes-base.linkedIn",
                "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_1",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_2",
                "type": "nodes-base.clearbit",
                "purpose": "Enrich leads with comprehensive company data and firmographic information"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_2",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_3",
                "type": "nodes-base.scheduleTrigger",
                "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_3",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "node": {
                "id": "search_node_4",
                "type": "nodes-base.gmail",
                "purpose": "Send personalized cold emails and monitor for replies"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_4",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "node": {
                "id": "search_node_5",
                "type": "nodes-base.hubspot",
                "purpose": "Log lead activity and email interactions in HubSpot CRM"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_5",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "setPhase",
              "phase": "configuration",
              "timestamp": "2025-08-12T12:31:43.947Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "AI Lead Scoring - Uses OpenAI to analyze lead data from Apollo.io and LinkedIn enrichment to score leads against ICP criteria for personalized outreach prioritization",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "parameters": {
                  "modelId": "gpt-4",
                  "options": {
                    "maxTokens": 500,
                    "temperature": 0.3
                  },
                  "messages": {
                    "values": [
                      {
                        "role": "system",
                        "content": "You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach."
                      },
                      {
                        "role": "user",
                        "content": "Please score this lead based on our ICP criteria:\n\nLead Data:\n- Name: {{ $json.name }}\n- Company: {{ $json.company }}\n- Title: {{ $json.title }}\n- Industry: {{ $json.industry }}\n- Company Size: {{ $json.company_size }}\n- Location: {{ $json.location }}\n- LinkedIn Profile: {{ $json.linkedin_profile }}\n- Company Description: {{ $json.company_description }}\n- Technologies Used: {{ $json.technologies }}\n- Recent Activity: {{ $json.recent_activity }}\n\nICP Criteria:\n- Target Industries: SaaS, Technology, E-commerce\n- Company Size: 50-500 employees\n- Decision Maker Titles: VP, Director, C-Level\n- Geographic Focus: North America, Europe\n- Tech Stack Alignment: Modern web technologies\n\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes."
                      }
                    ]
                  },
                  "resource": "chat",
                  "operation": "message"
                },
                "retryOnFail": true,
                "typeVersion": "1",
                "alwaysOutputData": true,
                "waitBetweenTries": 5000
              },
              "nodeId": "task_node_2",
              "purpose": "Send a message to an AI model and get response",
              "nodeType": "nodes-base.openAi",
              "timestamp": "2025-08-12T12:31:44.187Z"
            },
            {
              "type": "validateNode",
              "nodeId": "task_node_2",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.365Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Retrieve new leads from Apollo.io API - first step in lead enrichment and scoring workflow",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "parameters": {
                  "qs": {
                    "page": "1",
                    "per_page": "25",
                    "q_keywords": "{{ $json.keywords || 'SaaS,software,technology' }}",
                    "person_titles": "{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}",
                    "organization_num_employees_ranges": "{{ $json.companySizeRange || '11,50' }}"
                  },
                  "url": "https://api.apollo.io/v1/people/search",
                  "method": "GET",
                  "headers": {
                    "Content-Type": "application/json",
                    "Cache-Control": "no-cache"
                  },
                  "options": {
                    "timeout": 30000,
                    "response": {
                      "response": {
                        "fullResponse": false,
                        "responseFormat": "json"
                      }
                    }
                  },
                  "authentication": "predefinedCredentialType",
                  "nodeCredentialType": "apolloApi"
                },
                "retryOnFail": true,
                "typeVersion": "1",
                "alwaysOutputData": true,
                "waitBetweenTries": 1000
              },
              "nodeId": "task_node_1",
              "purpose": "Make a simple GET request to retrieve data from an API",
              "nodeType": "nodes-base.httpRequest",
              "timestamp": "2025-08-12T12:31:44.365Z"
            },
            {
              "type": "validateNode",
              "nodeId": "task_node_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.518Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Filter leads based on AI scoring results - only process leads that meet ICP criteria threshold for personalized outreach",
                "parameters": {
                  "conditions": {
                    "conditions": [
                      {
                        "operator": {
                          "type": "number",
                          "operation": "largerEqual"
                        },
                        "leftValue": "{{ $json.ai_score }}",
                        "rightValue": 7
                      }
                    ]
                  }
                },
                "typeVersion": "1"
              },
              "nodeId": "task_node_3",
              "purpose": "Filter items based on conditions",
              "nodeType": "nodes-base.if",
              "timestamp": "2025-08-12T12:31:44.518Z"
            },
            {
              "type": "validateNode",
              "nodeId": "task_node_3",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.641Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "post",
                  "authentication": "standard",
                  "binaryPropertyName": "data"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_1",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
              "nodeType": "nodes-base.linkedIn",
              "reasoning": "This configuration sets up LinkedIn enrichment as part of the lead qualification workflow",
              "timestamp": "2025-08-12T12:31:44.641Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "post",
                  "authentication": "standard",
                  "binaryPropertyName": "data"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_1",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
              "nodeType": "nodes-base.linkedIn",
              "timestamp": "2025-08-12T12:31:44.760Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.878Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company",
                  "operation": "enrich"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_2",
              "purpose": "Enrich leads with comprehensive company data and firmographic information",
              "nodeType": "nodes-base.clearbit",
              "reasoning": "Configured Clearbit to enrich company data using domain from Apollo.io leads",
              "timestamp": "2025-08-12T12:31:44.879Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company",
                  "operation": "enrich"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_2",
              "purpose": "Enrich leads with comprehensive company data and firmographic information",
              "nodeType": "nodes-base.clearbit",
              "timestamp": "2025-08-12T12:31:45.055Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_2",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:45.186Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                "parameters": {
                  "rule": "interval",
                  "notice": "",
                  "interval": [
                    {
                      "field": "days",
                      "value": 5
                    }
                  ]
                },
                "typeVersion": "1.2"
              },
              "nodeId": "search_node_3",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
              "nodeType": "nodes-base.scheduleTrigger",
              "reasoning": "Configured Schedule Trigger to run every 5 days as specified in the user's requirement for follow-up reminders",
              "timestamp": "2025-08-12T12:31:45.186Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                "parameters": {
                  "rule": "interval",
                  "notice": "",
                  "interval": [
                    {
                      "field": "days",
                      "value": 5
                    }
                  ]
                },
                "typeVersion": "1.2"
              },
              "nodeId": "search_node_3",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
              "nodeType": "nodes-base.scheduleTrigger",
              "timestamp": "2025-08-12T12:31:45.389Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_3",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:45.554Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                  "resource": "message",
                  "emailType": "html",
                  "operation": "send"
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_4",
              "purpose": "Send personalized cold emails and monitor for replies",
              "nodeType": "nodes-base.gmail",
              "reasoning": "Configured Gmail node to send personalized cold emails using the 'message' resource with 'send' operation",
              "timestamp": "2025-08-12T12:31:45.554Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                  "resource": "message",
                  "emailType": "html",
                  "operation": "send"
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_4",
              "purpose": "Send personalized cold emails and monitor for replies",
              "nodeType": "nodes-base.gmail",
              "timestamp": "2025-08-12T12:31:45.685Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_4",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:45.809Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "phone": "={{ $json.phone }}",
                    "company": "={{ $json.company }}",
                    "website": "={{ $json.companyWebsite }}",
                    "jobtitle": "={{ $json.jobTitle }}",
                    "lastname": "={{ $json.lastName }}",
                    "firstname": "={{ $json.firstName }}",
                    "lead_source": "Apollo.io",
                    "lead_status": "new",
                    "ai_lead_score": "={{ $json.aiScore }}",
                    "email_campaign": "Cold Outreach",
                    "hs_lead_status": "NEW",
                    "lifecyclestage": "lead",
                    "last_email_sent": "={{ new Date().toISOString() }}",
                    "linkedin_profile": "={{ $json.linkedinProfile }}",
                    "notes_last_contacted": "Initial cold email sent via automated workflow"
                  }
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_5",
              "purpose": "Log lead activity and email interactions in HubSpot CRM",
              "nodeType": "nodes-base.hubspot",
              "reasoning": "Configured HubSpot to upsert contacts, ensuring leads from Apollo.io are properly logged without creating duplicates",
              "timestamp": "2025-08-12T12:31:45.809Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "phone": "={{ $json.phone }}",
                    "company": "={{ $json.company }}",
                    "website": "={{ $json.companyWebsite }}",
                    "jobtitle": "={{ $json.jobTitle }}",
                    "lastname": "={{ $json.lastName }}",
                    "firstname": "={{ $json.firstName }}",
                    "lead_source": "Apollo.io",
                    "lead_status": "new",
                    "ai_lead_score": "={{ $json.aiScore }}",
                    "email_campaign": "Cold Outreach",
                    "hs_lead_status": "NEW",
                    "lifecyclestage": "lead",
                    "last_email_sent": "={{ new Date().toISOString() }}",
                    "linkedin_profile": "={{ $json.linkedinProfile }}",
                    "notes_last_contacted": "Initial cold email sent via automated workflow"
                  }
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_5",
              "purpose": "Log lead activity and email interactions in HubSpot CRM",
              "nodeType": "nodes-base.hubspot",
              "timestamp": "2025-08-12T12:31:45.995Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_5",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:46.140Z"
            },
            {
              "type": "completePhase",
              "phase": "configuration",
              "timestamp": "2025-08-12T12:31:46.140Z"
            }
          ],
          "pendingClarifications": [],
          "clarificationHistory": []
        }
      },
      "stateChanges": {},
      "dataFlow": {
        "input": {
          "discoveredNodes": [
            {
              "id": "task_node_2",
              "type": "nodes-base.openAi",
              "displayName": "chat with ai",
              "purpose": "Send a message to an AI model and get response",
              "isPreConfigured": true,
              "config": {
                "resource": "chat",
                "operation": "message",
                "modelId": "gpt-3.5-turbo",
                "messages": {
                  "values": [
                    {
                      "role": "user",
                      "content": ""
                    }
                  ]
                },
                "onError": "continueRegularOutput",
                "retryOnFail": true,
                "maxTries": 3,
                "waitBetweenTries": 5000,
                "alwaysOutputData": true
              }
            },
            {
              "id": "task_node_1",
              "type": "nodes-base.httpRequest",
              "displayName": "get api data",
              "purpose": "Make a simple GET request to retrieve data from an API",
              "isPreConfigured": true,
              "config": {
                "method": "GET",
                "url": "",
                "authentication": "none",
                "onError": "continueRegularOutput",
                "retryOnFail": true,
                "maxTries": 3,
                "waitBetweenTries": 1000,
                "alwaysOutputData": true
              }
            },
            {
              "id": "task_node_3",
              "type": "nodes-base.if",
              "displayName": "filter data",
              "purpose": "Filter items based on conditions",
              "isPreConfigured": true,
              "config": {
                "conditions": {
                  "conditions": [
                    {
                      "leftValue": "",
                      "rightValue": "",
                      "operator": {
                        "type": "string",
                        "operation": "equals"
                      }
                    }
                  ]
                }
              }
            },
            {
              "id": "search_node_1",
              "type": "nodes-base.linkedIn",
              "displayName": "nodes-base.linkedIn",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
              "needsConfiguration": true
            },
            {
              "id": "search_node_2",
              "type": "nodes-base.clearbit",
              "displayName": "nodes-base.clearbit",
              "purpose": "Enrich leads with comprehensive company data and firmographic information",
              "needsConfiguration": true
            },
            {
              "id": "search_node_3",
              "type": "nodes-base.scheduleTrigger",
              "displayName": "nodes-base.scheduleTrigger",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
              "needsConfiguration": true
            },
            {
              "id": "search_node_4",
              "type": "nodes-base.gmail",
              "displayName": "nodes-base.gmail",
              "purpose": "Send personalized cold emails and monitor for replies",
              "needsConfiguration": true
            },
            {
              "id": "search_node_5",
              "type": "nodes-base.hubspot",
              "displayName": "nodes-base.hubspot",
              "purpose": "Log lead activity and email interactions in HubSpot CRM",
              "needsConfiguration": true
            }
          ]
        },
        "output": {
          "configuredNodes": [
            {
              "id": "task_node_2",
              "type": "nodes-base.openAi",
              "purpose": "Send a message to an AI model and get response",
              "config": {
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "retryOnFail": true,
                "alwaysOutputData": true,
                "waitBetweenTries": 5000,
                "notes": "AI Lead Scoring - Uses OpenAI to analyze lead data from Apollo.io and LinkedIn enrichment to score leads against ICP criteria for personalized outreach prioritization",
                "typeVersion": "1",
                "parameters": {
                  "modelId": "gpt-4",
                  "messages": {
                    "values": [
                      {
                        "role": "system",
                        "content": "You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach."
                      },
                      {
                        "role": "user",
                        "content": "Please score this lead based on our ICP criteria:\n\nLead Data:\n- Name: {{ $json.name }}\n- Company: {{ $json.company }}\n- Title: {{ $json.title }}\n- Industry: {{ $json.industry }}\n- Company Size: {{ $json.company_size }}\n- Location: {{ $json.location }}\n- LinkedIn Profile: {{ $json.linkedin_profile }}\n- Company Description: {{ $json.company_description }}\n- Technologies Used: {{ $json.technologies }}\n- Recent Activity: {{ $json.recent_activity }}\n\nICP Criteria:\n- Target Industries: SaaS, Technology, E-commerce\n- Company Size: 50-500 employees\n- Decision Maker Titles: VP, Director, C-Level\n- Geographic Focus: North America, Europe\n- Tech Stack Alignment: Modern web technologies\n\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes."
                      }
                    ]
                  },
                  "resource": "chat",
                  "operation": "message",
                  "options": {
                    "temperature": 0.3,
                    "maxTokens": 500
                  }
                }
              },
              "validated": true
            },
            {
              "id": "task_node_1",
              "type": "nodes-base.httpRequest",
              "purpose": "Make a simple GET request to retrieve data from an API",
              "config": {
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "retryOnFail": true,
                "alwaysOutputData": true,
                "waitBetweenTries": 1000,
                "notes": "Retrieve new leads from Apollo.io API - first step in lead enrichment and scoring workflow",
                "typeVersion": "1",
                "parameters": {
                  "url": "https://api.apollo.io/v1/people/search",
                  "method": "GET",
                  "authentication": "predefinedCredentialType",
                  "nodeCredentialType": "apolloApi",
                  "headers": {
                    "Content-Type": "application/json",
                    "Cache-Control": "no-cache"
                  },
                  "qs": {
                    "page": "1",
                    "per_page": "25",
                    "person_titles": "{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}",
                    "organization_num_employees_ranges": "{{ $json.companySizeRange || '11,50' }}",
                    "q_keywords": "{{ $json.keywords || 'SaaS,software,technology' }}"
                  },
                  "options": {
                    "timeout": 30000,
                    "response": {
                      "response": {
                        "fullResponse": false,
                        "responseFormat": "json"
                      }
                    }
                  }
                }
              },
              "validated": true
            },
            {
              "id": "task_node_3",
              "type": "nodes-base.if",
              "purpose": "Filter items based on conditions",
              "config": {
                "notes": "Filter leads based on AI scoring results - only process leads that meet ICP criteria threshold for personalized outreach",
                "typeVersion": "1",
                "parameters": {
                  "conditions": {
                    "conditions": [
                      {
                        "operator": {
                          "type": "number",
                          "operation": "largerEqual"
                        },
                        "leftValue": "{{ $json.ai_score }}",
                        "rightValue": 7
                      }
                    ]
                  }
                }
              },
              "validated": true
            },
            {
              "id": "search_node_1",
              "type": "nodes-base.linkedIn",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
              "config": {
                "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                "typeVersion": "1",
                "parameters": {
                  "authentication": "standard",
                  "resource": "post",
                  "postAs": "person",
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "binaryPropertyName": "data"
                }
              },
              "validated": true
            },
            {
              "id": "search_node_2",
              "type": "nodes-base.clearbit",
              "purpose": "Enrich leads with comprehensive company data and firmographic information",
              "config": {
                "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                "typeVersion": "1",
                "parameters": {
                  "resource": "company",
                  "operation": "enrich",
                  "domain": "={{ $json.company_domain || $json.domain }}"
                }
              },
              "validated": true
            },
            {
              "id": "search_node_3",
              "type": "nodes-base.scheduleTrigger",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
              "config": {
                "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                "typeVersion": "1.2",
                "parameters": {
                  "notice": "",
                  "rule": "interval",
                  "interval": [
                    {
                      "field": "days",
                      "value": 5
                    }
                  ]
                }
              },
              "validated": true
            },
            {
              "id": "search_node_4",
              "type": "nodes-base.gmail",
              "purpose": "Send personalized cold emails and monitor for replies",
              "config": {
                "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                "typeVersion": "2.1",
                "parameters": {
                  "resource": "message",
                  "operation": "send",
                  "sendTo": "={{ $json.email }}",
                  "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                  "emailType": "html",
                  "message": "={{ $json.personalizedEmail }}"
                }
              },
              "validated": true
            },
            {
              "id": "search_node_5",
              "type": "nodes-base.hubspot",
              "purpose": "Log lead activity and email interactions in HubSpot CRM",
              "config": {
                "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                "typeVersion": "2.1",
                "parameters": {
                  "resource": "contact",
                  "operation": "upsert",
                  "email": "={{ $json.email }}",
                  "additionalFields": {
                    "firstname": "={{ $json.firstName }}",
                    "lastname": "={{ $json.lastName }}",
                    "company": "={{ $json.company }}",
                    "jobtitle": "={{ $json.jobTitle }}",
                    "phone": "={{ $json.phone }}",
                    "website": "={{ $json.companyWebsite }}",
                    "lifecyclestage": "lead",
                    "lead_status": "new",
                    "hs_lead_status": "NEW",
                    "lead_source": "Apollo.io",
                    "ai_lead_score": "={{ $json.aiScore }}",
                    "linkedin_profile": "={{ $json.linkedinProfile }}",
                    "last_email_sent": "={{ new Date().toISOString() }}",
                    "email_campaign": "Cold Outreach",
                    "notes_last_contacted": "Initial cold email sent via automated workflow"
                  }
                }
              },
              "validated": true
            }
          ]
        },
        "transformations": [
          "Parameter Configuration",
          "Validation",
          "Type Checking"
        ]
      },
      "stateDelta": {
        "added": {},
        "modified": {
          "state": {
            "old": {
              "phase": "configuration",
              "userPrompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days",
              "discovered": [
                {
                  "id": "task_node_2",
                  "type": "nodes-base.openAi",
                  "config": {
                    "modelId": "gpt-3.5-turbo",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "messages": {
                      "values": [
                        {
                          "role": "user",
                          "content": ""
                        }
                      ]
                    },
                    "resource": "chat",
                    "operation": "message",
                    "retryOnFail": true,
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "purpose": "Send a message to an AI model and get response",
                  "displayName": "chat with ai",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_1",
                  "type": "nodes-base.httpRequest",
                  "config": {
                    "url": "",
                    "method": "GET",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "retryOnFail": true,
                    "authentication": "none",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "displayName": "get api data",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_3",
                  "type": "nodes-base.if",
                  "config": {
                    "conditions": {
                      "conditions": [
                        {
                          "operator": {
                            "type": "string",
                            "operation": "equals"
                          },
                          "leftValue": "",
                          "rightValue": ""
                        }
                      ]
                    }
                  },
                  "purpose": "Filter items based on conditions",
                  "displayName": "filter data",
                  "isPreConfigured": true
                },
                {
                  "id": "search_node_1",
                  "type": "nodes-base.linkedIn",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                },
                {
                  "id": "search_node_2",
                  "type": "nodes-base.clearbit",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information"
                },
                {
                  "id": "search_node_3",
                  "type": "nodes-base.scheduleTrigger",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                },
                {
                  "id": "search_node_4",
                  "type": "nodes-base.gmail",
                  "purpose": "Send personalized cold emails and monitor for replies"
                },
                {
                  "id": "search_node_5",
                  "type": "nodes-base.hubspot",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM"
                }
              ],
              "selected": [
                "task_node_2",
                "task_node_1",
                "task_node_3",
                "search_node_1",
                "search_node_2",
                "search_node_3",
                "search_node_4",
                "search_node_5"
              ],
              "configured": {},
              "validated": {},
              "workflow": {
                "nodes": [],
                "settings": {},
                "connections": {}
              },
              "buildPhases": [],
              "operationHistory": [
                {
                  "type": "completePhase",
                  "phase": "discovery",
                  "timestamp": "2025-08-12T12:31:25.605Z"
                },
                {
                  "node": {
                    "id": "task_node_2",
                    "type": "nodes-base.openAi",
                    "config": {
                      "modelId": "gpt-3.5-turbo",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "messages": {
                        "values": [
                          {
                            "role": "user",
                            "content": ""
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message",
                      "retryOnFail": true,
                      "alwaysOutputData": true,
                      "waitBetweenTries": 5000
                    },
                    "purpose": "Send a message to an AI model and get response",
                    "displayName": "chat with ai",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_1",
                    "type": "nodes-base.httpRequest",
                    "config": {
                      "url": "",
                      "method": "GET",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "retryOnFail": true,
                      "authentication": "none",
                      "alwaysOutputData": true,
                      "waitBetweenTries": 1000
                    },
                    "purpose": "Make a simple GET request to retrieve data from an API",
                    "displayName": "get api data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_3",
                    "type": "nodes-base.if",
                    "config": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "string",
                              "operation": "equals"
                            },
                            "leftValue": "",
                            "rightValue": ""
                          }
                        ]
                      }
                    },
                    "purpose": "Filter items based on conditions",
                    "displayName": "filter data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_3",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_1",
                    "type": "nodes-base.linkedIn",
                    "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_2",
                    "type": "nodes-base.clearbit",
                    "purpose": "Enrich leads with comprehensive company data and firmographic information"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_3",
                    "type": "nodes-base.scheduleTrigger",
                    "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_3",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_4",
                    "type": "nodes-base.gmail",
                    "purpose": "Send personalized cold emails and monitor for replies"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_4",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_5",
                    "type": "nodes-base.hubspot",
                    "purpose": "Log lead activity and email interactions in HubSpot CRM"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_5",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                }
              ],
              "pendingClarifications": [],
              "clarificationHistory": []
            },
            "new": {
              "phase": "building",
              "userPrompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days",
              "discovered": [
                {
                  "id": "task_node_2",
                  "type": "nodes-base.openAi",
                  "config": {
                    "modelId": "gpt-3.5-turbo",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "messages": {
                      "values": [
                        {
                          "role": "user",
                          "content": ""
                        }
                      ]
                    },
                    "resource": "chat",
                    "operation": "message",
                    "retryOnFail": true,
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "purpose": "Send a message to an AI model and get response",
                  "displayName": "chat with ai",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_1",
                  "type": "nodes-base.httpRequest",
                  "config": {
                    "url": "",
                    "method": "GET",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "retryOnFail": true,
                    "authentication": "none",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "displayName": "get api data",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_3",
                  "type": "nodes-base.if",
                  "config": {
                    "conditions": {
                      "conditions": [
                        {
                          "operator": {
                            "type": "string",
                            "operation": "equals"
                          },
                          "leftValue": "",
                          "rightValue": ""
                        }
                      ]
                    }
                  },
                  "purpose": "Filter items based on conditions",
                  "displayName": "filter data",
                  "isPreConfigured": true
                },
                {
                  "id": "search_node_1",
                  "type": "nodes-base.linkedIn",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                },
                {
                  "id": "search_node_2",
                  "type": "nodes-base.clearbit",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information"
                },
                {
                  "id": "search_node_3",
                  "type": "nodes-base.scheduleTrigger",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                },
                {
                  "id": "search_node_4",
                  "type": "nodes-base.gmail",
                  "purpose": "Send personalized cold emails and monitor for replies"
                },
                {
                  "id": "search_node_5",
                  "type": "nodes-base.hubspot",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM"
                }
              ],
              "selected": [
                "task_node_2",
                "task_node_1",
                "task_node_3",
                "search_node_1",
                "search_node_2",
                "search_node_3",
                "search_node_4",
                "search_node_5"
              ],
              "configured": {},
              "validated": {},
              "workflow": {
                "nodes": [],
                "settings": {},
                "connections": {}
              },
              "buildPhases": [],
              "operationHistory": [
                {
                  "type": "completePhase",
                  "phase": "discovery",
                  "timestamp": "2025-08-12T12:31:25.605Z"
                },
                {
                  "node": {
                    "id": "task_node_2",
                    "type": "nodes-base.openAi",
                    "config": {
                      "modelId": "gpt-3.5-turbo",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "messages": {
                        "values": [
                          {
                            "role": "user",
                            "content": ""
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message",
                      "retryOnFail": true,
                      "alwaysOutputData": true,
                      "waitBetweenTries": 5000
                    },
                    "purpose": "Send a message to an AI model and get response",
                    "displayName": "chat with ai",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_1",
                    "type": "nodes-base.httpRequest",
                    "config": {
                      "url": "",
                      "method": "GET",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "retryOnFail": true,
                      "authentication": "none",
                      "alwaysOutputData": true,
                      "waitBetweenTries": 1000
                    },
                    "purpose": "Make a simple GET request to retrieve data from an API",
                    "displayName": "get api data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_3",
                    "type": "nodes-base.if",
                    "config": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "string",
                              "operation": "equals"
                            },
                            "leftValue": "",
                            "rightValue": ""
                          }
                        ]
                      }
                    },
                    "purpose": "Filter items based on conditions",
                    "displayName": "filter data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_3",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_1",
                    "type": "nodes-base.linkedIn",
                    "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_2",
                    "type": "nodes-base.clearbit",
                    "purpose": "Enrich leads with comprehensive company data and firmographic information"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_3",
                    "type": "nodes-base.scheduleTrigger",
                    "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_3",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_4",
                    "type": "nodes-base.gmail",
                    "purpose": "Send personalized cold emails and monitor for replies"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_4",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_5",
                    "type": "nodes-base.hubspot",
                    "purpose": "Log lead activity and email interactions in HubSpot CRM"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_5",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "setPhase",
                  "phase": "configuration",
                  "timestamp": "2025-08-12T12:31:43.947Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "AI Lead Scoring - Uses OpenAI to analyze lead data from Apollo.io and LinkedIn enrichment to score leads against ICP criteria for personalized outreach prioritization",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "parameters": {
                      "modelId": "gpt-4",
                      "options": {
                        "maxTokens": 500,
                        "temperature": 0.3
                      },
                      "messages": {
                        "values": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach."
                          },
                          {
                            "role": "user",
                            "content": "Please score this lead based on our ICP criteria:\n\nLead Data:\n- Name: {{ $json.name }}\n- Company: {{ $json.company }}\n- Title: {{ $json.title }}\n- Industry: {{ $json.industry }}\n- Company Size: {{ $json.company_size }}\n- Location: {{ $json.location }}\n- LinkedIn Profile: {{ $json.linkedin_profile }}\n- Company Description: {{ $json.company_description }}\n- Technologies Used: {{ $json.technologies }}\n- Recent Activity: {{ $json.recent_activity }}\n\nICP Criteria:\n- Target Industries: SaaS, Technology, E-commerce\n- Company Size: 50-500 employees\n- Decision Maker Titles: VP, Director, C-Level\n- Geographic Focus: North America, Europe\n- Tech Stack Alignment: Modern web technologies\n\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes."
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message"
                    },
                    "retryOnFail": true,
                    "typeVersion": "1",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "nodeId": "task_node_2",
                  "purpose": "Send a message to an AI model and get response",
                  "nodeType": "nodes-base.openAi",
                  "timestamp": "2025-08-12T12:31:44.187Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_2",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.365Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Retrieve new leads from Apollo.io API - first step in lead enrichment and scoring workflow",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "parameters": {
                      "qs": {
                        "page": "1",
                        "per_page": "25",
                        "q_keywords": "{{ $json.keywords || 'SaaS,software,technology' }}",
                        "person_titles": "{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}",
                        "organization_num_employees_ranges": "{{ $json.companySizeRange || '11,50' }}"
                      },
                      "url": "https://api.apollo.io/v1/people/search",
                      "method": "GET",
                      "headers": {
                        "Content-Type": "application/json",
                        "Cache-Control": "no-cache"
                      },
                      "options": {
                        "timeout": 30000,
                        "response": {
                          "response": {
                            "fullResponse": false,
                            "responseFormat": "json"
                          }
                        }
                      },
                      "authentication": "predefinedCredentialType",
                      "nodeCredentialType": "apolloApi"
                    },
                    "retryOnFail": true,
                    "typeVersion": "1",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "nodeId": "task_node_1",
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "nodeType": "nodes-base.httpRequest",
                  "timestamp": "2025-08-12T12:31:44.365Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.518Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Filter leads based on AI scoring results - only process leads that meet ICP criteria threshold for personalized outreach",
                    "parameters": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "number",
                              "operation": "largerEqual"
                            },
                            "leftValue": "{{ $json.ai_score }}",
                            "rightValue": 7
                          }
                        ]
                      }
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "task_node_3",
                  "purpose": "Filter items based on conditions",
                  "nodeType": "nodes-base.if",
                  "timestamp": "2025-08-12T12:31:44.518Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_3",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.641Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post",
                      "authentication": "standard",
                      "binaryPropertyName": "data"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_1",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
                  "nodeType": "nodes-base.linkedIn",
                  "reasoning": "This configuration sets up LinkedIn enrichment as part of the lead qualification workflow",
                  "timestamp": "2025-08-12T12:31:44.641Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post",
                      "authentication": "standard",
                      "binaryPropertyName": "data"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_1",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
                  "nodeType": "nodes-base.linkedIn",
                  "timestamp": "2025-08-12T12:31:44.760Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.878Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company",
                      "operation": "enrich"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_2",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information",
                  "nodeType": "nodes-base.clearbit",
                  "reasoning": "Configured Clearbit to enrich company data using domain from Apollo.io leads",
                  "timestamp": "2025-08-12T12:31:44.879Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company",
                      "operation": "enrich"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_2",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information",
                  "nodeType": "nodes-base.clearbit",
                  "timestamp": "2025-08-12T12:31:45.055Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_2",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.186Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                    "parameters": {
                      "rule": "interval",
                      "notice": "",
                      "interval": [
                        {
                          "field": "days",
                          "value": 5
                        }
                      ]
                    },
                    "typeVersion": "1.2"
                  },
                  "nodeId": "search_node_3",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
                  "nodeType": "nodes-base.scheduleTrigger",
                  "reasoning": "Configured Schedule Trigger to run every 5 days as specified in the user's requirement for follow-up reminders",
                  "timestamp": "2025-08-12T12:31:45.186Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                    "parameters": {
                      "rule": "interval",
                      "notice": "",
                      "interval": [
                        {
                          "field": "days",
                          "value": 5
                        }
                      ]
                    },
                    "typeVersion": "1.2"
                  },
                  "nodeId": "search_node_3",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
                  "nodeType": "nodes-base.scheduleTrigger",
                  "timestamp": "2025-08-12T12:31:45.389Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_3",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.554Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                      "resource": "message",
                      "emailType": "html",
                      "operation": "send"
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_4",
                  "purpose": "Send personalized cold emails and monitor for replies",
                  "nodeType": "nodes-base.gmail",
                  "reasoning": "Configured Gmail node to send personalized cold emails using the 'message' resource with 'send' operation",
                  "timestamp": "2025-08-12T12:31:45.554Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                      "resource": "message",
                      "emailType": "html",
                      "operation": "send"
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_4",
                  "purpose": "Send personalized cold emails and monitor for replies",
                  "nodeType": "nodes-base.gmail",
                  "timestamp": "2025-08-12T12:31:45.685Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_4",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.809Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "phone": "={{ $json.phone }}",
                        "company": "={{ $json.company }}",
                        "website": "={{ $json.companyWebsite }}",
                        "jobtitle": "={{ $json.jobTitle }}",
                        "lastname": "={{ $json.lastName }}",
                        "firstname": "={{ $json.firstName }}",
                        "lead_source": "Apollo.io",
                        "lead_status": "new",
                        "ai_lead_score": "={{ $json.aiScore }}",
                        "email_campaign": "Cold Outreach",
                        "hs_lead_status": "NEW",
                        "lifecyclestage": "lead",
                        "last_email_sent": "={{ new Date().toISOString() }}",
                        "linkedin_profile": "={{ $json.linkedinProfile }}",
                        "notes_last_contacted": "Initial cold email sent via automated workflow"
                      }
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_5",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM",
                  "nodeType": "nodes-base.hubspot",
                  "reasoning": "Configured HubSpot to upsert contacts, ensuring leads from Apollo.io are properly logged without creating duplicates",
                  "timestamp": "2025-08-12T12:31:45.809Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "phone": "={{ $json.phone }}",
                        "company": "={{ $json.company }}",
                        "website": "={{ $json.companyWebsite }}",
                        "jobtitle": "={{ $json.jobTitle }}",
                        "lastname": "={{ $json.lastName }}",
                        "firstname": "={{ $json.firstName }}",
                        "lead_source": "Apollo.io",
                        "lead_status": "new",
                        "ai_lead_score": "={{ $json.aiScore }}",
                        "email_campaign": "Cold Outreach",
                        "hs_lead_status": "NEW",
                        "lifecyclestage": "lead",
                        "last_email_sent": "={{ new Date().toISOString() }}",
                        "linkedin_profile": "={{ $json.linkedinProfile }}",
                        "notes_last_contacted": "Initial cold email sent via automated workflow"
                      }
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_5",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM",
                  "nodeType": "nodes-base.hubspot",
                  "timestamp": "2025-08-12T12:31:45.995Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_5",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:46.140Z"
                },
                {
                  "type": "completePhase",
                  "phase": "configuration",
                  "timestamp": "2025-08-12T12:31:46.140Z"
                }
              ],
              "pendingClarifications": [],
              "clarificationHistory": []
            }
          }
        },
        "removed": [],
        "unchanged": [
          "sessionId",
          "createdAt"
        ]
      }
    },
    "building": {
      "name": "Building",
      "success": true,
      "metrics": {
        "startTime": 1755001906371,
        "endTime": 1755001938622,
        "duration": 32251,
        "memoryUsage": {
          "heapUsed": -2563968,
          "heapTotal": 40828928,
          "external": 7088835
        }
      },
      "logs": [
        {
          "timestamp": "2025-08-12T12:31:46.371Z",
          "level": "INFO",
          "source": "Orchestrator",
          "message": "Starting building phase"
        },
        {
          "timestamp": "2025-08-12T12:31:46.371Z",
          "level": "DEBUG",
          "source": "Claude",
          "message": "Sending request for building phase"
        },
        {
          "timestamp": "2025-08-12T12:32:18.520Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: n8n-nodes-base.httpRequest (Apollo Lead Retrieval)"
        },
        {
          "timestamp": "2025-08-12T12:32:18.520Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: n8n-nodes-base.linkedIn (LinkedIn Profile Enrichment)"
        },
        {
          "timestamp": "2025-08-12T12:32:18.520Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: n8n-nodes-base.clearbit (Company Data Enrichment)"
        },
        {
          "timestamp": "2025-08-12T12:32:18.520Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: n8n-nodes-base.openAi (AI Lead Scoring)"
        },
        {
          "timestamp": "2025-08-12T12:32:18.520Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: n8n-nodes-base.if (Lead Score Filter)"
        },
        {
          "timestamp": "2025-08-12T12:32:18.520Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: n8n-nodes-base.gmail (Send Cold Email)"
        },
        {
          "timestamp": "2025-08-12T12:32:18.520Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: n8n-nodes-base.hubspot (Log Activity in HubSpot)"
        },
        {
          "timestamp": "2025-08-12T12:32:18.520Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Added node: n8n-nodes-base.scheduleTrigger (Follow-up Reminder Scheduler)"
        },
        {
          "timestamp": "2025-08-12T12:32:18.521Z",
          "level": "INFO",
          "source": "Orchestrator",
          "message": "Created 8 nodes"
        },
        {
          "timestamp": "2025-08-12T12:32:18.521Z",
          "level": "INFO",
          "source": "Orchestrator",
          "message": "Created 6 connection groups"
        },
        {
          "timestamp": "2025-08-12T12:32:18.621Z",
          "level": "DEBUG",
          "source": "Orchestrator",
          "message": "Session state updated"
        },
        {
          "timestamp": "2025-08-12T12:32:18.621Z",
          "level": "INFO",
          "source": "Orchestrator",
          "message": "Data flow captured: 3 transformations"
        }
      ],
      "nodes": [
        {
          "id": "httpRequest_1",
          "type": "n8n-nodes-base.httpRequest",
          "purpose": "Apollo Lead Retrieval"
        },
        {
          "id": "linkedIn_1",
          "type": "n8n-nodes-base.linkedIn",
          "purpose": "LinkedIn Profile Enrichment"
        },
        {
          "id": "clearbit_1",
          "type": "n8n-nodes-base.clearbit",
          "purpose": "Company Data Enrichment"
        },
        {
          "id": "openAi_1",
          "type": "n8n-nodes-base.openAi",
          "purpose": "AI Lead Scoring"
        },
        {
          "id": "if_1",
          "type": "n8n-nodes-base.if",
          "purpose": "Lead Score Filter"
        },
        {
          "id": "gmail_1",
          "type": "n8n-nodes-base.gmail",
          "purpose": "Send Cold Email"
        },
        {
          "id": "hubspot_1",
          "type": "n8n-nodes-base.hubspot",
          "purpose": "Log Activity in HubSpot"
        },
        {
          "id": "scheduleTrigger_1",
          "type": "n8n-nodes-base.scheduleTrigger",
          "purpose": "Follow-up Reminder Scheduler"
        }
      ],
      "sessionState": {
        "sessionId": "complete_e2e_user_test_1755001859878",
        "createdAt": "2025-08-12T12:31:00.377Z",
        "state": {
          "phase": "validation",
          "userPrompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days",
          "discovered": [
            {
              "id": "task_node_2",
              "type": "nodes-base.openAi",
              "config": {
                "modelId": "gpt-3.5-turbo",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "messages": {
                  "values": [
                    {
                      "role": "user",
                      "content": ""
                    }
                  ]
                },
                "resource": "chat",
                "operation": "message",
                "retryOnFail": true,
                "alwaysOutputData": true,
                "waitBetweenTries": 5000
              },
              "purpose": "Send a message to an AI model and get response",
              "displayName": "chat with ai",
              "isPreConfigured": true
            },
            {
              "id": "task_node_1",
              "type": "nodes-base.httpRequest",
              "config": {
                "url": "",
                "method": "GET",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "retryOnFail": true,
                "authentication": "none",
                "alwaysOutputData": true,
                "waitBetweenTries": 1000
              },
              "purpose": "Make a simple GET request to retrieve data from an API",
              "displayName": "get api data",
              "isPreConfigured": true
            },
            {
              "id": "task_node_3",
              "type": "nodes-base.if",
              "config": {
                "conditions": {
                  "conditions": [
                    {
                      "operator": {
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "",
                      "rightValue": ""
                    }
                  ]
                }
              },
              "purpose": "Filter items based on conditions",
              "displayName": "filter data",
              "isPreConfigured": true
            },
            {
              "id": "search_node_1",
              "type": "nodes-base.linkedIn",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
            },
            {
              "id": "search_node_2",
              "type": "nodes-base.clearbit",
              "purpose": "Enrich leads with comprehensive company data and firmographic information"
            },
            {
              "id": "search_node_3",
              "type": "nodes-base.scheduleTrigger",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
            },
            {
              "id": "search_node_4",
              "type": "nodes-base.gmail",
              "purpose": "Send personalized cold emails and monitor for replies"
            },
            {
              "id": "search_node_5",
              "type": "nodes-base.hubspot",
              "purpose": "Log lead activity and email interactions in HubSpot CRM"
            }
          ],
          "selected": [
            "task_node_2",
            "task_node_1",
            "task_node_3",
            "search_node_1",
            "search_node_2",
            "search_node_3",
            "search_node_4",
            "search_node_5"
          ],
          "configured": {},
          "validated": {},
          "workflow": {
            "name": "Apollo Lead Enrichment & Outreach Automation",
            "nodes": [
              {
                "id": "httpRequest_1",
                "name": "Apollo Lead Retrieval",
                "type": "n8n-nodes-base.httpRequest",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "position": [
                  250,
                  300
                ],
                "parameters": {
                  "qs": {
                    "page_size": "100",
                    "sort_by_field": "created_at",
                    "sort_ascending": "false"
                  },
                  "url": "https://api.apollo.io/v1/mixed_people/search",
                  "method": "GET",
                  "sendQuery": true,
                  "authentication": "predefinedCredentialType",
                  "queryParameters": {
                    "parameters": [
                      {
                        "name": "page_size",
                        "value": "100"
                      },
                      {
                        "name": "sort_by_field",
                        "value": "created_at"
                      }
                    ]
                  },
                  "nodeCredentialType": "apolloApi"
                },
                "typeVersion": 4.2
              },
              {
                "id": "linkedIn_1",
                "name": "LinkedIn Profile Enrichment",
                "type": "n8n-nodes-base.linkedIn",
                "onError": "continueRegularOutput",
                "position": [
                  550,
                  200
                ],
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "profile"
                },
                "typeVersion": 1
              },
              {
                "id": "clearbit_1",
                "name": "Company Data Enrichment",
                "type": "n8n-nodes-base.clearbit",
                "onError": "continueRegularOutput",
                "position": [
                  550,
                  400
                ],
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company"
                },
                "typeVersion": 1
              },
              {
                "id": "openAi_1",
                "name": "AI Lead Scoring",
                "type": "n8n-nodes-base.openAi",
                "onError": "continueRegularOutput",
                "position": [
                  850,
                  300
                ],
                "parameters": {
                  "model": "gpt-4",
                  "options": {
                    "temperature": 0.3
                  },
                  "messages": {
                    "messages": [
                      {
                        "role": "system",
                        "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                      },
                      {
                        "role": "user",
                        "content": "Lead Data: {{ JSON.stringify($json) }}"
                      }
                    ]
                  },
                  "resource": "chat"
                },
                "typeVersion": 1.3
              },
              {
                "id": "if_1",
                "name": "Lead Score Filter",
                "type": "n8n-nodes-base.if",
                "onError": "continueRegularOutput",
                "position": [
                  1150,
                  300
                ],
                "parameters": {
                  "conditions": {
                    "combinator": "and",
                    "conditions": [
                      {
                        "id": "score_threshold",
                        "operator": {
                          "type": "number",
                          "operation": "gte"
                        },
                        "leftValue": "={{ $json.score }}",
                        "rightValue": 70
                      }
                    ]
                  }
                },
                "typeVersion": 2
              },
              {
                "id": "gmail_1",
                "name": "Send Cold Email",
                "type": "n8n-nodes-base.gmail",
                "onError": "continueRegularOutput",
                "position": [
                  1450,
                  250
                ],
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "{{ $json.emailSubject }}",
                  "operation": "send"
                },
                "typeVersion": 2.1
              },
              {
                "id": "hubspot_1",
                "name": "Log Activity in HubSpot",
                "type": "n8n-nodes-base.hubspot",
                "onError": "continueRegularOutput",
                "position": [
                  1450,
                  400
                ],
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "leadScore": "={{ $json.score }}",
                    "leadSource": "Apollo.io",
                    "lastContactDate": "={{ new Date().toISOString() }}"
                  }
                },
                "typeVersion": 2
              },
              {
                "id": "scheduleTrigger_1",
                "name": "Follow-up Reminder Scheduler",
                "type": "n8n-nodes-base.scheduleTrigger",
                "onError": "stopWorkflow",
                "position": [
                  1750,
                  300
                ],
                "parameters": {
                  "rule": "interval",
                  "unit": "days",
                  "notice": "",
                  "interval": 5
                },
                "typeVersion": 1.2
              }
            ],
            "settings": {
              "executionOrder": "v1",
              "saveManualExecutions": true,
              "saveDataErrorExecution": "all",
              "saveDataSuccessExecution": "all"
            },
            "connections": {
              "AI Lead Scoring": {
                "main": [
                  [
                    {
                      "node": "Lead Score Filter",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Send Cold Email": {
                "main": [
                  [
                    {
                      "node": "Follow-up Reminder Scheduler",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Lead Score Filter": {
                "main": [
                  [
                    {
                      "node": "Send Cold Email",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Log Activity in HubSpot",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Apollo Lead Retrieval": {
                "main": [
                  [
                    {
                      "node": "LinkedIn Profile Enrichment",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Company Data Enrichment",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Company Data Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "LinkedIn Profile Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              }
            }
          },
          "buildPhases": [
            {
              "type": "data_collection",
              "nodeIds": [
                "httpRequest_1"
              ],
              "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
            },
            {
              "type": "data_processing",
              "nodeIds": [
                "linkedIn_1",
                "clearbit_1"
              ],
              "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
            },
            {
              "type": "data_processing",
              "nodeIds": [
                "openAi_1"
              ],
              "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
            },
            {
              "type": "decision",
              "nodeIds": [
                "if_1"
              ],
              "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
            },
            {
              "type": "notification",
              "nodeIds": [
                "gmail_1",
                "hubspot_1"
              ],
              "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
            },
            {
              "type": "trigger",
              "nodeIds": [
                "scheduleTrigger_1"
              ],
              "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
            }
          ],
          "operationHistory": [
            {
              "type": "completePhase",
              "phase": "discovery",
              "timestamp": "2025-08-12T12:31:25.605Z"
            },
            {
              "node": {
                "id": "task_node_2",
                "type": "nodes-base.openAi",
                "config": {
                  "modelId": "gpt-3.5-turbo",
                  "onError": "continueRegularOutput",
                  "maxTries": 3,
                  "messages": {
                    "values": [
                      {
                        "role": "user",
                        "content": ""
                      }
                    ]
                  },
                  "resource": "chat",
                  "operation": "message",
                  "retryOnFail": true,
                  "alwaysOutputData": true,
                  "waitBetweenTries": 5000
                },
                "purpose": "Send a message to an AI model and get response",
                "displayName": "chat with ai",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_2",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "task_node_1",
                "type": "nodes-base.httpRequest",
                "config": {
                  "url": "",
                  "method": "GET",
                  "onError": "continueRegularOutput",
                  "maxTries": 3,
                  "retryOnFail": true,
                  "authentication": "none",
                  "alwaysOutputData": true,
                  "waitBetweenTries": 1000
                },
                "purpose": "Make a simple GET request to retrieve data from an API",
                "displayName": "get api data",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_1",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "task_node_3",
                "type": "nodes-base.if",
                "config": {
                  "conditions": {
                    "conditions": [
                      {
                        "operator": {
                          "type": "string",
                          "operation": "equals"
                        },
                        "leftValue": "",
                        "rightValue": ""
                      }
                    ]
                  }
                },
                "purpose": "Filter items based on conditions",
                "displayName": "filter data",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_3",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_1",
                "type": "nodes-base.linkedIn",
                "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_1",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_2",
                "type": "nodes-base.clearbit",
                "purpose": "Enrich leads with comprehensive company data and firmographic information"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_2",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_3",
                "type": "nodes-base.scheduleTrigger",
                "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_3",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "node": {
                "id": "search_node_4",
                "type": "nodes-base.gmail",
                "purpose": "Send personalized cold emails and monitor for replies"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_4",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "node": {
                "id": "search_node_5",
                "type": "nodes-base.hubspot",
                "purpose": "Log lead activity and email interactions in HubSpot CRM"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_5",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "setPhase",
              "phase": "configuration",
              "timestamp": "2025-08-12T12:31:43.947Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "AI Lead Scoring - Uses OpenAI to analyze lead data from Apollo.io and LinkedIn enrichment to score leads against ICP criteria for personalized outreach prioritization",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "parameters": {
                  "modelId": "gpt-4",
                  "options": {
                    "maxTokens": 500,
                    "temperature": 0.3
                  },
                  "messages": {
                    "values": [
                      {
                        "role": "system",
                        "content": "You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach."
                      },
                      {
                        "role": "user",
                        "content": "Please score this lead based on our ICP criteria:\n\nLead Data:\n- Name: {{ $json.name }}\n- Company: {{ $json.company }}\n- Title: {{ $json.title }}\n- Industry: {{ $json.industry }}\n- Company Size: {{ $json.company_size }}\n- Location: {{ $json.location }}\n- LinkedIn Profile: {{ $json.linkedin_profile }}\n- Company Description: {{ $json.company_description }}\n- Technologies Used: {{ $json.technologies }}\n- Recent Activity: {{ $json.recent_activity }}\n\nICP Criteria:\n- Target Industries: SaaS, Technology, E-commerce\n- Company Size: 50-500 employees\n- Decision Maker Titles: VP, Director, C-Level\n- Geographic Focus: North America, Europe\n- Tech Stack Alignment: Modern web technologies\n\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes."
                      }
                    ]
                  },
                  "resource": "chat",
                  "operation": "message"
                },
                "retryOnFail": true,
                "typeVersion": "1",
                "alwaysOutputData": true,
                "waitBetweenTries": 5000
              },
              "nodeId": "task_node_2",
              "purpose": "Send a message to an AI model and get response",
              "nodeType": "nodes-base.openAi",
              "timestamp": "2025-08-12T12:31:44.187Z"
            },
            {
              "type": "validateNode",
              "nodeId": "task_node_2",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.365Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Retrieve new leads from Apollo.io API - first step in lead enrichment and scoring workflow",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "parameters": {
                  "qs": {
                    "page": "1",
                    "per_page": "25",
                    "q_keywords": "{{ $json.keywords || 'SaaS,software,technology' }}",
                    "person_titles": "{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}",
                    "organization_num_employees_ranges": "{{ $json.companySizeRange || '11,50' }}"
                  },
                  "url": "https://api.apollo.io/v1/people/search",
                  "method": "GET",
                  "headers": {
                    "Content-Type": "application/json",
                    "Cache-Control": "no-cache"
                  },
                  "options": {
                    "timeout": 30000,
                    "response": {
                      "response": {
                        "fullResponse": false,
                        "responseFormat": "json"
                      }
                    }
                  },
                  "authentication": "predefinedCredentialType",
                  "nodeCredentialType": "apolloApi"
                },
                "retryOnFail": true,
                "typeVersion": "1",
                "alwaysOutputData": true,
                "waitBetweenTries": 1000
              },
              "nodeId": "task_node_1",
              "purpose": "Make a simple GET request to retrieve data from an API",
              "nodeType": "nodes-base.httpRequest",
              "timestamp": "2025-08-12T12:31:44.365Z"
            },
            {
              "type": "validateNode",
              "nodeId": "task_node_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.518Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Filter leads based on AI scoring results - only process leads that meet ICP criteria threshold for personalized outreach",
                "parameters": {
                  "conditions": {
                    "conditions": [
                      {
                        "operator": {
                          "type": "number",
                          "operation": "largerEqual"
                        },
                        "leftValue": "{{ $json.ai_score }}",
                        "rightValue": 7
                      }
                    ]
                  }
                },
                "typeVersion": "1"
              },
              "nodeId": "task_node_3",
              "purpose": "Filter items based on conditions",
              "nodeType": "nodes-base.if",
              "timestamp": "2025-08-12T12:31:44.518Z"
            },
            {
              "type": "validateNode",
              "nodeId": "task_node_3",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.641Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "post",
                  "authentication": "standard",
                  "binaryPropertyName": "data"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_1",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
              "nodeType": "nodes-base.linkedIn",
              "reasoning": "This configuration sets up LinkedIn enrichment as part of the lead qualification workflow",
              "timestamp": "2025-08-12T12:31:44.641Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "post",
                  "authentication": "standard",
                  "binaryPropertyName": "data"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_1",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
              "nodeType": "nodes-base.linkedIn",
              "timestamp": "2025-08-12T12:31:44.760Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.878Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company",
                  "operation": "enrich"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_2",
              "purpose": "Enrich leads with comprehensive company data and firmographic information",
              "nodeType": "nodes-base.clearbit",
              "reasoning": "Configured Clearbit to enrich company data using domain from Apollo.io leads",
              "timestamp": "2025-08-12T12:31:44.879Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company",
                  "operation": "enrich"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_2",
              "purpose": "Enrich leads with comprehensive company data and firmographic information",
              "nodeType": "nodes-base.clearbit",
              "timestamp": "2025-08-12T12:31:45.055Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_2",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:45.186Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                "parameters": {
                  "rule": "interval",
                  "notice": "",
                  "interval": [
                    {
                      "field": "days",
                      "value": 5
                    }
                  ]
                },
                "typeVersion": "1.2"
              },
              "nodeId": "search_node_3",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
              "nodeType": "nodes-base.scheduleTrigger",
              "reasoning": "Configured Schedule Trigger to run every 5 days as specified in the user's requirement for follow-up reminders",
              "timestamp": "2025-08-12T12:31:45.186Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                "parameters": {
                  "rule": "interval",
                  "notice": "",
                  "interval": [
                    {
                      "field": "days",
                      "value": 5
                    }
                  ]
                },
                "typeVersion": "1.2"
              },
              "nodeId": "search_node_3",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
              "nodeType": "nodes-base.scheduleTrigger",
              "timestamp": "2025-08-12T12:31:45.389Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_3",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:45.554Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                  "resource": "message",
                  "emailType": "html",
                  "operation": "send"
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_4",
              "purpose": "Send personalized cold emails and monitor for replies",
              "nodeType": "nodes-base.gmail",
              "reasoning": "Configured Gmail node to send personalized cold emails using the 'message' resource with 'send' operation",
              "timestamp": "2025-08-12T12:31:45.554Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                  "resource": "message",
                  "emailType": "html",
                  "operation": "send"
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_4",
              "purpose": "Send personalized cold emails and monitor for replies",
              "nodeType": "nodes-base.gmail",
              "timestamp": "2025-08-12T12:31:45.685Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_4",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:45.809Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "phone": "={{ $json.phone }}",
                    "company": "={{ $json.company }}",
                    "website": "={{ $json.companyWebsite }}",
                    "jobtitle": "={{ $json.jobTitle }}",
                    "lastname": "={{ $json.lastName }}",
                    "firstname": "={{ $json.firstName }}",
                    "lead_source": "Apollo.io",
                    "lead_status": "new",
                    "ai_lead_score": "={{ $json.aiScore }}",
                    "email_campaign": "Cold Outreach",
                    "hs_lead_status": "NEW",
                    "lifecyclestage": "lead",
                    "last_email_sent": "={{ new Date().toISOString() }}",
                    "linkedin_profile": "={{ $json.linkedinProfile }}",
                    "notes_last_contacted": "Initial cold email sent via automated workflow"
                  }
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_5",
              "purpose": "Log lead activity and email interactions in HubSpot CRM",
              "nodeType": "nodes-base.hubspot",
              "reasoning": "Configured HubSpot to upsert contacts, ensuring leads from Apollo.io are properly logged without creating duplicates",
              "timestamp": "2025-08-12T12:31:45.809Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "phone": "={{ $json.phone }}",
                    "company": "={{ $json.company }}",
                    "website": "={{ $json.companyWebsite }}",
                    "jobtitle": "={{ $json.jobTitle }}",
                    "lastname": "={{ $json.lastName }}",
                    "firstname": "={{ $json.firstName }}",
                    "lead_source": "Apollo.io",
                    "lead_status": "new",
                    "ai_lead_score": "={{ $json.aiScore }}",
                    "email_campaign": "Cold Outreach",
                    "hs_lead_status": "NEW",
                    "lifecyclestage": "lead",
                    "last_email_sent": "={{ new Date().toISOString() }}",
                    "linkedin_profile": "={{ $json.linkedinProfile }}",
                    "notes_last_contacted": "Initial cold email sent via automated workflow"
                  }
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_5",
              "purpose": "Log lead activity and email interactions in HubSpot CRM",
              "nodeType": "nodes-base.hubspot",
              "timestamp": "2025-08-12T12:31:45.995Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_5",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:46.140Z"
            },
            {
              "type": "completePhase",
              "phase": "configuration",
              "timestamp": "2025-08-12T12:31:46.140Z"
            },
            {
              "type": "setPhase",
              "phase": "building",
              "timestamp": "2025-08-12T12:32:18.016Z"
            },
            {
              "type": "setWorkflow",
              "workflow": {
                "name": "Apollo Lead Enrichment & Outreach Automation",
                "nodes": [
                  {
                    "id": "httpRequest_1",
                    "name": "Apollo Lead Retrieval",
                    "type": "n8n-nodes-base.httpRequest",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "position": [
                      250,
                      300
                    ],
                    "parameters": {
                      "qs": {
                        "page_size": "100",
                        "sort_by_field": "created_at",
                        "sort_ascending": "false"
                      },
                      "url": "https://api.apollo.io/v1/mixed_people/search",
                      "method": "GET",
                      "sendQuery": true,
                      "authentication": "predefinedCredentialType",
                      "queryParameters": {
                        "parameters": [
                          {
                            "name": "page_size",
                            "value": "100"
                          },
                          {
                            "name": "sort_by_field",
                            "value": "created_at"
                          }
                        ]
                      },
                      "nodeCredentialType": "apolloApi"
                    },
                    "typeVersion": 4.2
                  },
                  {
                    "id": "linkedIn_1",
                    "name": "LinkedIn Profile Enrichment",
                    "type": "n8n-nodes-base.linkedIn",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      200
                    ],
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "profile"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "clearbit_1",
                    "name": "Company Data Enrichment",
                    "type": "n8n-nodes-base.clearbit",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      400
                    ],
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "openAi_1",
                    "name": "AI Lead Scoring",
                    "type": "n8n-nodes-base.openAi",
                    "onError": "continueRegularOutput",
                    "position": [
                      850,
                      300
                    ],
                    "parameters": {
                      "model": "gpt-4",
                      "options": {
                        "temperature": 0.3
                      },
                      "messages": {
                        "messages": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                          },
                          {
                            "role": "user",
                            "content": "Lead Data: {{ JSON.stringify($json) }}"
                          }
                        ]
                      },
                      "resource": "chat"
                    },
                    "typeVersion": 1.3
                  },
                  {
                    "id": "if_1",
                    "name": "Lead Score Filter",
                    "type": "n8n-nodes-base.if",
                    "onError": "continueRegularOutput",
                    "position": [
                      1150,
                      300
                    ],
                    "parameters": {
                      "conditions": {
                        "combinator": "and",
                        "conditions": [
                          {
                            "id": "score_threshold",
                            "operator": {
                              "type": "number",
                              "operation": "gte"
                            },
                            "leftValue": "={{ $json.score }}",
                            "rightValue": 70
                          }
                        ]
                      }
                    },
                    "typeVersion": 2
                  },
                  {
                    "id": "gmail_1",
                    "name": "Send Cold Email",
                    "type": "n8n-nodes-base.gmail",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      250
                    ],
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "{{ $json.emailSubject }}",
                      "operation": "send"
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "hubspot_1",
                    "name": "Log Activity in HubSpot",
                    "type": "n8n-nodes-base.hubspot",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      400
                    ],
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "leadScore": "={{ $json.score }}",
                        "leadSource": "Apollo.io",
                        "lastContactDate": "={{ new Date().toISOString() }}"
                      }
                    },
                    "typeVersion": 2
                  },
                  {
                    "id": "scheduleTrigger_1",
                    "name": "Follow-up Reminder Scheduler",
                    "type": "n8n-nodes-base.scheduleTrigger",
                    "onError": "stopWorkflow",
                    "position": [
                      1750,
                      300
                    ],
                    "parameters": {
                      "rule": "interval",
                      "unit": "days",
                      "notice": "",
                      "interval": 5
                    },
                    "typeVersion": 1.2
                  }
                ],
                "settings": {
                  "executionOrder": "v1",
                  "saveManualExecutions": true,
                  "saveDataErrorExecution": "all",
                  "saveDataSuccessExecution": "all"
                },
                "connections": {
                  "AI Lead Scoring": {
                    "main": [
                      [
                        {
                          "node": "Lead Score Filter",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Send Cold Email": {
                    "main": [
                      [
                        {
                          "node": "Follow-up Reminder Scheduler",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Lead Score Filter": {
                    "main": [
                      [
                        {
                          "node": "Send Cold Email",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Log Activity in HubSpot",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Apollo Lead Retrieval": {
                    "main": [
                      [
                        {
                          "node": "LinkedIn Profile Enrichment",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Company Data Enrichment",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Company Data Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "LinkedIn Profile Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  }
                }
              },
              "timestamp": "2025-08-12T12:32:18.249Z"
            },
            {
              "type": "setBuildPhases",
              "phases": [
                {
                  "type": "data_collection",
                  "nodeIds": [
                    "httpRequest_1"
                  ],
                  "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "linkedIn_1",
                    "clearbit_1"
                  ],
                  "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "openAi_1"
                  ],
                  "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                },
                {
                  "type": "decision",
                  "nodeIds": [
                    "if_1"
                  ],
                  "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                },
                {
                  "type": "notification",
                  "nodeIds": [
                    "gmail_1",
                    "hubspot_1"
                  ],
                  "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                },
                {
                  "type": "trigger",
                  "nodeIds": [
                    "scheduleTrigger_1"
                  ],
                  "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
                }
              ],
              "timestamp": "2025-08-12T12:32:18.250Z"
            },
            {
              "type": "completePhase",
              "phase": "building",
              "timestamp": "2025-08-12T12:32:18.250Z"
            }
          ],
          "pendingClarifications": [],
          "clarificationHistory": []
        }
      },
      "stateChanges": {},
      "dataFlow": {
        "input": {
          "configuredNodes": [
            {
              "id": "task_node_2",
              "type": "nodes-base.openAi",
              "purpose": "Send a message to an AI model and get response",
              "config": {
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "retryOnFail": true,
                "alwaysOutputData": true,
                "waitBetweenTries": 5000,
                "notes": "AI Lead Scoring - Uses OpenAI to analyze lead data from Apollo.io and LinkedIn enrichment to score leads against ICP criteria for personalized outreach prioritization",
                "typeVersion": "1",
                "parameters": {
                  "modelId": "gpt-4",
                  "messages": {
                    "values": [
                      {
                        "role": "system",
                        "content": "You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach."
                      },
                      {
                        "role": "user",
                        "content": "Please score this lead based on our ICP criteria:\n\nLead Data:\n- Name: {{ $json.name }}\n- Company: {{ $json.company }}\n- Title: {{ $json.title }}\n- Industry: {{ $json.industry }}\n- Company Size: {{ $json.company_size }}\n- Location: {{ $json.location }}\n- LinkedIn Profile: {{ $json.linkedin_profile }}\n- Company Description: {{ $json.company_description }}\n- Technologies Used: {{ $json.technologies }}\n- Recent Activity: {{ $json.recent_activity }}\n\nICP Criteria:\n- Target Industries: SaaS, Technology, E-commerce\n- Company Size: 50-500 employees\n- Decision Maker Titles: VP, Director, C-Level\n- Geographic Focus: North America, Europe\n- Tech Stack Alignment: Modern web technologies\n\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes."
                      }
                    ]
                  },
                  "resource": "chat",
                  "operation": "message",
                  "options": {
                    "temperature": 0.3,
                    "maxTokens": 500
                  }
                }
              },
              "validated": true
            },
            {
              "id": "task_node_1",
              "type": "nodes-base.httpRequest",
              "purpose": "Make a simple GET request to retrieve data from an API",
              "config": {
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "retryOnFail": true,
                "alwaysOutputData": true,
                "waitBetweenTries": 1000,
                "notes": "Retrieve new leads from Apollo.io API - first step in lead enrichment and scoring workflow",
                "typeVersion": "1",
                "parameters": {
                  "url": "https://api.apollo.io/v1/people/search",
                  "method": "GET",
                  "authentication": "predefinedCredentialType",
                  "nodeCredentialType": "apolloApi",
                  "headers": {
                    "Content-Type": "application/json",
                    "Cache-Control": "no-cache"
                  },
                  "qs": {
                    "page": "1",
                    "per_page": "25",
                    "person_titles": "{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}",
                    "organization_num_employees_ranges": "{{ $json.companySizeRange || '11,50' }}",
                    "q_keywords": "{{ $json.keywords || 'SaaS,software,technology' }}"
                  },
                  "options": {
                    "timeout": 30000,
                    "response": {
                      "response": {
                        "fullResponse": false,
                        "responseFormat": "json"
                      }
                    }
                  }
                }
              },
              "validated": true
            },
            {
              "id": "task_node_3",
              "type": "nodes-base.if",
              "purpose": "Filter items based on conditions",
              "config": {
                "notes": "Filter leads based on AI scoring results - only process leads that meet ICP criteria threshold for personalized outreach",
                "typeVersion": "1",
                "parameters": {
                  "conditions": {
                    "conditions": [
                      {
                        "operator": {
                          "type": "number",
                          "operation": "largerEqual"
                        },
                        "leftValue": "{{ $json.ai_score }}",
                        "rightValue": 7
                      }
                    ]
                  }
                }
              },
              "validated": true
            },
            {
              "id": "search_node_1",
              "type": "nodes-base.linkedIn",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
              "config": {
                "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                "typeVersion": "1",
                "parameters": {
                  "authentication": "standard",
                  "resource": "post",
                  "postAs": "person",
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "binaryPropertyName": "data"
                }
              },
              "validated": true
            },
            {
              "id": "search_node_2",
              "type": "nodes-base.clearbit",
              "purpose": "Enrich leads with comprehensive company data and firmographic information",
              "config": {
                "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                "typeVersion": "1",
                "parameters": {
                  "resource": "company",
                  "operation": "enrich",
                  "domain": "={{ $json.company_domain || $json.domain }}"
                }
              },
              "validated": true
            },
            {
              "id": "search_node_3",
              "type": "nodes-base.scheduleTrigger",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
              "config": {
                "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                "typeVersion": "1.2",
                "parameters": {
                  "notice": "",
                  "rule": "interval",
                  "interval": [
                    {
                      "field": "days",
                      "value": 5
                    }
                  ]
                }
              },
              "validated": true
            },
            {
              "id": "search_node_4",
              "type": "nodes-base.gmail",
              "purpose": "Send personalized cold emails and monitor for replies",
              "config": {
                "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                "typeVersion": "2.1",
                "parameters": {
                  "resource": "message",
                  "operation": "send",
                  "sendTo": "={{ $json.email }}",
                  "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                  "emailType": "html",
                  "message": "={{ $json.personalizedEmail }}"
                }
              },
              "validated": true
            },
            {
              "id": "search_node_5",
              "type": "nodes-base.hubspot",
              "purpose": "Log lead activity and email interactions in HubSpot CRM",
              "config": {
                "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                "typeVersion": "2.1",
                "parameters": {
                  "resource": "contact",
                  "operation": "upsert",
                  "email": "={{ $json.email }}",
                  "additionalFields": {
                    "firstname": "={{ $json.firstName }}",
                    "lastname": "={{ $json.lastName }}",
                    "company": "={{ $json.company }}",
                    "jobtitle": "={{ $json.jobTitle }}",
                    "phone": "={{ $json.phone }}",
                    "website": "={{ $json.companyWebsite }}",
                    "lifecyclestage": "lead",
                    "lead_status": "new",
                    "hs_lead_status": "NEW",
                    "lead_source": "Apollo.io",
                    "ai_lead_score": "={{ $json.aiScore }}",
                    "linkedin_profile": "={{ $json.linkedinProfile }}",
                    "last_email_sent": "={{ new Date().toISOString() }}",
                    "email_campaign": "Cold Outreach",
                    "notes_last_contacted": "Initial cold email sent via automated workflow"
                  }
                }
              },
              "validated": true
            }
          ]
        },
        "output": {
          "workflow": {
            "name": "Apollo Lead Enrichment & Outreach Automation",
            "nodes": [
              {
                "id": "httpRequest_1",
                "type": "n8n-nodes-base.httpRequest",
                "position": [
                  250,
                  300
                ],
                "parameters": {
                  "qs": {
                    "page_size": "100",
                    "sort_by_field": "created_at",
                    "sort_ascending": "false"
                  },
                  "url": "https://api.apollo.io/v1/mixed_people/search",
                  "method": "GET",
                  "authentication": "predefinedCredentialType",
                  "nodeCredentialType": "apolloApi",
                  "sendQuery": true,
                  "queryParameters": {
                    "parameters": [
                      {
                        "name": "page_size",
                        "value": "100"
                      },
                      {
                        "name": "sort_by_field",
                        "value": "created_at"
                      }
                    ]
                  }
                },
                "name": "Apollo Lead Retrieval",
                "typeVersion": 4.2,
                "onError": "continueRegularOutput",
                "maxTries": 3
              },
              {
                "id": "linkedIn_1",
                "type": "n8n-nodes-base.linkedIn",
                "position": [
                  550,
                  200
                ],
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "profile"
                },
                "name": "LinkedIn Profile Enrichment",
                "typeVersion": 1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "clearbit_1",
                "type": "n8n-nodes-base.clearbit",
                "position": [
                  550,
                  400
                ],
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company"
                },
                "name": "Company Data Enrichment",
                "typeVersion": 1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "openAi_1",
                "type": "n8n-nodes-base.openAi",
                "position": [
                  850,
                  300
                ],
                "parameters": {
                  "resource": "chat",
                  "model": "gpt-4",
                  "messages": {
                    "messages": [
                      {
                        "role": "system",
                        "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                      },
                      {
                        "role": "user",
                        "content": "Lead Data: {{ JSON.stringify($json) }}"
                      }
                    ]
                  },
                  "options": {
                    "temperature": 0.3
                  }
                },
                "name": "AI Lead Scoring",
                "typeVersion": 1.3,
                "onError": "continueRegularOutput"
              },
              {
                "id": "if_1",
                "type": "n8n-nodes-base.if",
                "position": [
                  1150,
                  300
                ],
                "parameters": {
                  "conditions": {
                    "conditions": [
                      {
                        "id": "score_threshold",
                        "leftValue": "={{ $json.score }}",
                        "rightValue": 70,
                        "operator": {
                          "type": "number",
                          "operation": "gte"
                        }
                      }
                    ],
                    "combinator": "and"
                  }
                },
                "name": "Lead Score Filter",
                "typeVersion": 2,
                "onError": "continueRegularOutput"
              },
              {
                "id": "gmail_1",
                "type": "n8n-nodes-base.gmail",
                "position": [
                  1450,
                  250
                ],
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "{{ $json.emailSubject }}",
                  "operation": "send"
                },
                "name": "Send Cold Email",
                "typeVersion": 2.1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "hubspot_1",
                "type": "n8n-nodes-base.hubspot",
                "position": [
                  1450,
                  400
                ],
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "leadScore": "={{ $json.score }}",
                    "lastContactDate": "={{ new Date().toISOString() }}",
                    "leadSource": "Apollo.io"
                  }
                },
                "name": "Log Activity in HubSpot",
                "typeVersion": 2,
                "onError": "continueRegularOutput"
              },
              {
                "id": "scheduleTrigger_1",
                "type": "n8n-nodes-base.scheduleTrigger",
                "position": [
                  1750,
                  300
                ],
                "parameters": {
                  "rule": "interval",
                  "notice": "",
                  "interval": 5,
                  "unit": "days"
                },
                "name": "Follow-up Reminder Scheduler",
                "typeVersion": 1.2,
                "onError": "stopWorkflow"
              }
            ],
            "connections": {
              "Apollo Lead Retrieval": {
                "main": [
                  [
                    {
                      "node": "LinkedIn Profile Enrichment",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Company Data Enrichment",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "LinkedIn Profile Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Company Data Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "AI Lead Scoring": {
                "main": [
                  [
                    {
                      "node": "Lead Score Filter",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Lead Score Filter": {
                "main": [
                  [
                    {
                      "node": "Send Cold Email",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Log Activity in HubSpot",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Send Cold Email": {
                "main": [
                  [
                    {
                      "node": "Follow-up Reminder Scheduler",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              }
            },
            "settings": {
              "executionOrder": "v1",
              "saveDataSuccessExecution": "all",
              "saveDataErrorExecution": "all",
              "saveManualExecutions": true
            }
          }
        },
        "transformations": [
          "Workflow Generation",
          "Connection Building",
          "Settings Configuration"
        ]
      },
      "stateDelta": {
        "added": {
          "state": {
            "workflow": {
              "name": "Apollo Lead Enrichment & Outreach Automation",
              "settings": {
                "executionOrder": "v1",
                "saveManualExecutions": true,
                "saveDataErrorExecution": "all",
                "saveDataSuccessExecution": "all"
              },
              "connections": {
                "AI Lead Scoring": {
                  "main": [
                    [
                      {
                        "node": "Lead Score Filter",
                        "type": "main",
                        "index": 0
                      }
                    ]
                  ]
                },
                "Send Cold Email": {
                  "main": [
                    [
                      {
                        "node": "Follow-up Reminder Scheduler",
                        "type": "main",
                        "index": 0
                      }
                    ]
                  ]
                },
                "Lead Score Filter": {
                  "main": [
                    [
                      {
                        "node": "Send Cold Email",
                        "type": "main",
                        "index": 0
                      },
                      {
                        "node": "Log Activity in HubSpot",
                        "type": "main",
                        "index": 0
                      }
                    ]
                  ]
                },
                "Apollo Lead Retrieval": {
                  "main": [
                    [
                      {
                        "node": "LinkedIn Profile Enrichment",
                        "type": "main",
                        "index": 0
                      },
                      {
                        "node": "Company Data Enrichment",
                        "type": "main",
                        "index": 0
                      }
                    ]
                  ]
                },
                "Company Data Enrichment": {
                  "main": [
                    [
                      {
                        "node": "AI Lead Scoring",
                        "type": "main",
                        "index": 0
                      }
                    ]
                  ]
                },
                "LinkedIn Profile Enrichment": {
                  "main": [
                    [
                      {
                        "node": "AI Lead Scoring",
                        "type": "main",
                        "index": 0
                      }
                    ]
                  ]
                }
              }
            }
          }
        },
        "modified": {
          "state": {
            "old": {
              "phase": "building",
              "userPrompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days",
              "discovered": [
                {
                  "id": "task_node_2",
                  "type": "nodes-base.openAi",
                  "config": {
                    "modelId": "gpt-3.5-turbo",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "messages": {
                      "values": [
                        {
                          "role": "user",
                          "content": ""
                        }
                      ]
                    },
                    "resource": "chat",
                    "operation": "message",
                    "retryOnFail": true,
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "purpose": "Send a message to an AI model and get response",
                  "displayName": "chat with ai",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_1",
                  "type": "nodes-base.httpRequest",
                  "config": {
                    "url": "",
                    "method": "GET",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "retryOnFail": true,
                    "authentication": "none",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "displayName": "get api data",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_3",
                  "type": "nodes-base.if",
                  "config": {
                    "conditions": {
                      "conditions": [
                        {
                          "operator": {
                            "type": "string",
                            "operation": "equals"
                          },
                          "leftValue": "",
                          "rightValue": ""
                        }
                      ]
                    }
                  },
                  "purpose": "Filter items based on conditions",
                  "displayName": "filter data",
                  "isPreConfigured": true
                },
                {
                  "id": "search_node_1",
                  "type": "nodes-base.linkedIn",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                },
                {
                  "id": "search_node_2",
                  "type": "nodes-base.clearbit",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information"
                },
                {
                  "id": "search_node_3",
                  "type": "nodes-base.scheduleTrigger",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                },
                {
                  "id": "search_node_4",
                  "type": "nodes-base.gmail",
                  "purpose": "Send personalized cold emails and monitor for replies"
                },
                {
                  "id": "search_node_5",
                  "type": "nodes-base.hubspot",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM"
                }
              ],
              "selected": [
                "task_node_2",
                "task_node_1",
                "task_node_3",
                "search_node_1",
                "search_node_2",
                "search_node_3",
                "search_node_4",
                "search_node_5"
              ],
              "configured": {},
              "validated": {},
              "workflow": {
                "nodes": [],
                "settings": {},
                "connections": {}
              },
              "buildPhases": [],
              "operationHistory": [
                {
                  "type": "completePhase",
                  "phase": "discovery",
                  "timestamp": "2025-08-12T12:31:25.605Z"
                },
                {
                  "node": {
                    "id": "task_node_2",
                    "type": "nodes-base.openAi",
                    "config": {
                      "modelId": "gpt-3.5-turbo",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "messages": {
                        "values": [
                          {
                            "role": "user",
                            "content": ""
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message",
                      "retryOnFail": true,
                      "alwaysOutputData": true,
                      "waitBetweenTries": 5000
                    },
                    "purpose": "Send a message to an AI model and get response",
                    "displayName": "chat with ai",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_1",
                    "type": "nodes-base.httpRequest",
                    "config": {
                      "url": "",
                      "method": "GET",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "retryOnFail": true,
                      "authentication": "none",
                      "alwaysOutputData": true,
                      "waitBetweenTries": 1000
                    },
                    "purpose": "Make a simple GET request to retrieve data from an API",
                    "displayName": "get api data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_3",
                    "type": "nodes-base.if",
                    "config": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "string",
                              "operation": "equals"
                            },
                            "leftValue": "",
                            "rightValue": ""
                          }
                        ]
                      }
                    },
                    "purpose": "Filter items based on conditions",
                    "displayName": "filter data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_3",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_1",
                    "type": "nodes-base.linkedIn",
                    "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_2",
                    "type": "nodes-base.clearbit",
                    "purpose": "Enrich leads with comprehensive company data and firmographic information"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_3",
                    "type": "nodes-base.scheduleTrigger",
                    "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_3",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_4",
                    "type": "nodes-base.gmail",
                    "purpose": "Send personalized cold emails and monitor for replies"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_4",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_5",
                    "type": "nodes-base.hubspot",
                    "purpose": "Log lead activity and email interactions in HubSpot CRM"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_5",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "setPhase",
                  "phase": "configuration",
                  "timestamp": "2025-08-12T12:31:43.947Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "AI Lead Scoring - Uses OpenAI to analyze lead data from Apollo.io and LinkedIn enrichment to score leads against ICP criteria for personalized outreach prioritization",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "parameters": {
                      "modelId": "gpt-4",
                      "options": {
                        "maxTokens": 500,
                        "temperature": 0.3
                      },
                      "messages": {
                        "values": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach."
                          },
                          {
                            "role": "user",
                            "content": "Please score this lead based on our ICP criteria:\n\nLead Data:\n- Name: {{ $json.name }}\n- Company: {{ $json.company }}\n- Title: {{ $json.title }}\n- Industry: {{ $json.industry }}\n- Company Size: {{ $json.company_size }}\n- Location: {{ $json.location }}\n- LinkedIn Profile: {{ $json.linkedin_profile }}\n- Company Description: {{ $json.company_description }}\n- Technologies Used: {{ $json.technologies }}\n- Recent Activity: {{ $json.recent_activity }}\n\nICP Criteria:\n- Target Industries: SaaS, Technology, E-commerce\n- Company Size: 50-500 employees\n- Decision Maker Titles: VP, Director, C-Level\n- Geographic Focus: North America, Europe\n- Tech Stack Alignment: Modern web technologies\n\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes."
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message"
                    },
                    "retryOnFail": true,
                    "typeVersion": "1",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "nodeId": "task_node_2",
                  "purpose": "Send a message to an AI model and get response",
                  "nodeType": "nodes-base.openAi",
                  "timestamp": "2025-08-12T12:31:44.187Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_2",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.365Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Retrieve new leads from Apollo.io API - first step in lead enrichment and scoring workflow",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "parameters": {
                      "qs": {
                        "page": "1",
                        "per_page": "25",
                        "q_keywords": "{{ $json.keywords || 'SaaS,software,technology' }}",
                        "person_titles": "{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}",
                        "organization_num_employees_ranges": "{{ $json.companySizeRange || '11,50' }}"
                      },
                      "url": "https://api.apollo.io/v1/people/search",
                      "method": "GET",
                      "headers": {
                        "Content-Type": "application/json",
                        "Cache-Control": "no-cache"
                      },
                      "options": {
                        "timeout": 30000,
                        "response": {
                          "response": {
                            "fullResponse": false,
                            "responseFormat": "json"
                          }
                        }
                      },
                      "authentication": "predefinedCredentialType",
                      "nodeCredentialType": "apolloApi"
                    },
                    "retryOnFail": true,
                    "typeVersion": "1",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "nodeId": "task_node_1",
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "nodeType": "nodes-base.httpRequest",
                  "timestamp": "2025-08-12T12:31:44.365Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.518Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Filter leads based on AI scoring results - only process leads that meet ICP criteria threshold for personalized outreach",
                    "parameters": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "number",
                              "operation": "largerEqual"
                            },
                            "leftValue": "{{ $json.ai_score }}",
                            "rightValue": 7
                          }
                        ]
                      }
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "task_node_3",
                  "purpose": "Filter items based on conditions",
                  "nodeType": "nodes-base.if",
                  "timestamp": "2025-08-12T12:31:44.518Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_3",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.641Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post",
                      "authentication": "standard",
                      "binaryPropertyName": "data"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_1",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
                  "nodeType": "nodes-base.linkedIn",
                  "reasoning": "This configuration sets up LinkedIn enrichment as part of the lead qualification workflow",
                  "timestamp": "2025-08-12T12:31:44.641Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post",
                      "authentication": "standard",
                      "binaryPropertyName": "data"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_1",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
                  "nodeType": "nodes-base.linkedIn",
                  "timestamp": "2025-08-12T12:31:44.760Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.878Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company",
                      "operation": "enrich"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_2",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information",
                  "nodeType": "nodes-base.clearbit",
                  "reasoning": "Configured Clearbit to enrich company data using domain from Apollo.io leads",
                  "timestamp": "2025-08-12T12:31:44.879Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company",
                      "operation": "enrich"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_2",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information",
                  "nodeType": "nodes-base.clearbit",
                  "timestamp": "2025-08-12T12:31:45.055Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_2",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.186Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                    "parameters": {
                      "rule": "interval",
                      "notice": "",
                      "interval": [
                        {
                          "field": "days",
                          "value": 5
                        }
                      ]
                    },
                    "typeVersion": "1.2"
                  },
                  "nodeId": "search_node_3",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
                  "nodeType": "nodes-base.scheduleTrigger",
                  "reasoning": "Configured Schedule Trigger to run every 5 days as specified in the user's requirement for follow-up reminders",
                  "timestamp": "2025-08-12T12:31:45.186Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                    "parameters": {
                      "rule": "interval",
                      "notice": "",
                      "interval": [
                        {
                          "field": "days",
                          "value": 5
                        }
                      ]
                    },
                    "typeVersion": "1.2"
                  },
                  "nodeId": "search_node_3",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
                  "nodeType": "nodes-base.scheduleTrigger",
                  "timestamp": "2025-08-12T12:31:45.389Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_3",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.554Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                      "resource": "message",
                      "emailType": "html",
                      "operation": "send"
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_4",
                  "purpose": "Send personalized cold emails and monitor for replies",
                  "nodeType": "nodes-base.gmail",
                  "reasoning": "Configured Gmail node to send personalized cold emails using the 'message' resource with 'send' operation",
                  "timestamp": "2025-08-12T12:31:45.554Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                      "resource": "message",
                      "emailType": "html",
                      "operation": "send"
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_4",
                  "purpose": "Send personalized cold emails and monitor for replies",
                  "nodeType": "nodes-base.gmail",
                  "timestamp": "2025-08-12T12:31:45.685Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_4",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.809Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "phone": "={{ $json.phone }}",
                        "company": "={{ $json.company }}",
                        "website": "={{ $json.companyWebsite }}",
                        "jobtitle": "={{ $json.jobTitle }}",
                        "lastname": "={{ $json.lastName }}",
                        "firstname": "={{ $json.firstName }}",
                        "lead_source": "Apollo.io",
                        "lead_status": "new",
                        "ai_lead_score": "={{ $json.aiScore }}",
                        "email_campaign": "Cold Outreach",
                        "hs_lead_status": "NEW",
                        "lifecyclestage": "lead",
                        "last_email_sent": "={{ new Date().toISOString() }}",
                        "linkedin_profile": "={{ $json.linkedinProfile }}",
                        "notes_last_contacted": "Initial cold email sent via automated workflow"
                      }
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_5",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM",
                  "nodeType": "nodes-base.hubspot",
                  "reasoning": "Configured HubSpot to upsert contacts, ensuring leads from Apollo.io are properly logged without creating duplicates",
                  "timestamp": "2025-08-12T12:31:45.809Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "phone": "={{ $json.phone }}",
                        "company": "={{ $json.company }}",
                        "website": "={{ $json.companyWebsite }}",
                        "jobtitle": "={{ $json.jobTitle }}",
                        "lastname": "={{ $json.lastName }}",
                        "firstname": "={{ $json.firstName }}",
                        "lead_source": "Apollo.io",
                        "lead_status": "new",
                        "ai_lead_score": "={{ $json.aiScore }}",
                        "email_campaign": "Cold Outreach",
                        "hs_lead_status": "NEW",
                        "lifecyclestage": "lead",
                        "last_email_sent": "={{ new Date().toISOString() }}",
                        "linkedin_profile": "={{ $json.linkedinProfile }}",
                        "notes_last_contacted": "Initial cold email sent via automated workflow"
                      }
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_5",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM",
                  "nodeType": "nodes-base.hubspot",
                  "timestamp": "2025-08-12T12:31:45.995Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_5",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:46.140Z"
                },
                {
                  "type": "completePhase",
                  "phase": "configuration",
                  "timestamp": "2025-08-12T12:31:46.140Z"
                }
              ],
              "pendingClarifications": [],
              "clarificationHistory": []
            },
            "new": {
              "phase": "validation",
              "userPrompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days",
              "discovered": [
                {
                  "id": "task_node_2",
                  "type": "nodes-base.openAi",
                  "config": {
                    "modelId": "gpt-3.5-turbo",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "messages": {
                      "values": [
                        {
                          "role": "user",
                          "content": ""
                        }
                      ]
                    },
                    "resource": "chat",
                    "operation": "message",
                    "retryOnFail": true,
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "purpose": "Send a message to an AI model and get response",
                  "displayName": "chat with ai",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_1",
                  "type": "nodes-base.httpRequest",
                  "config": {
                    "url": "",
                    "method": "GET",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "retryOnFail": true,
                    "authentication": "none",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "displayName": "get api data",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_3",
                  "type": "nodes-base.if",
                  "config": {
                    "conditions": {
                      "conditions": [
                        {
                          "operator": {
                            "type": "string",
                            "operation": "equals"
                          },
                          "leftValue": "",
                          "rightValue": ""
                        }
                      ]
                    }
                  },
                  "purpose": "Filter items based on conditions",
                  "displayName": "filter data",
                  "isPreConfigured": true
                },
                {
                  "id": "search_node_1",
                  "type": "nodes-base.linkedIn",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                },
                {
                  "id": "search_node_2",
                  "type": "nodes-base.clearbit",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information"
                },
                {
                  "id": "search_node_3",
                  "type": "nodes-base.scheduleTrigger",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                },
                {
                  "id": "search_node_4",
                  "type": "nodes-base.gmail",
                  "purpose": "Send personalized cold emails and monitor for replies"
                },
                {
                  "id": "search_node_5",
                  "type": "nodes-base.hubspot",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM"
                }
              ],
              "selected": [
                "task_node_2",
                "task_node_1",
                "task_node_3",
                "search_node_1",
                "search_node_2",
                "search_node_3",
                "search_node_4",
                "search_node_5"
              ],
              "configured": {},
              "validated": {},
              "workflow": {
                "name": "Apollo Lead Enrichment & Outreach Automation",
                "nodes": [
                  {
                    "id": "httpRequest_1",
                    "name": "Apollo Lead Retrieval",
                    "type": "n8n-nodes-base.httpRequest",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "position": [
                      250,
                      300
                    ],
                    "parameters": {
                      "qs": {
                        "page_size": "100",
                        "sort_by_field": "created_at",
                        "sort_ascending": "false"
                      },
                      "url": "https://api.apollo.io/v1/mixed_people/search",
                      "method": "GET",
                      "sendQuery": true,
                      "authentication": "predefinedCredentialType",
                      "queryParameters": {
                        "parameters": [
                          {
                            "name": "page_size",
                            "value": "100"
                          },
                          {
                            "name": "sort_by_field",
                            "value": "created_at"
                          }
                        ]
                      },
                      "nodeCredentialType": "apolloApi"
                    },
                    "typeVersion": 4.2
                  },
                  {
                    "id": "linkedIn_1",
                    "name": "LinkedIn Profile Enrichment",
                    "type": "n8n-nodes-base.linkedIn",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      200
                    ],
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "profile"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "clearbit_1",
                    "name": "Company Data Enrichment",
                    "type": "n8n-nodes-base.clearbit",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      400
                    ],
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "openAi_1",
                    "name": "AI Lead Scoring",
                    "type": "n8n-nodes-base.openAi",
                    "onError": "continueRegularOutput",
                    "position": [
                      850,
                      300
                    ],
                    "parameters": {
                      "model": "gpt-4",
                      "options": {
                        "temperature": 0.3
                      },
                      "messages": {
                        "messages": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                          },
                          {
                            "role": "user",
                            "content": "Lead Data: {{ JSON.stringify($json) }}"
                          }
                        ]
                      },
                      "resource": "chat"
                    },
                    "typeVersion": 1.3
                  },
                  {
                    "id": "if_1",
                    "name": "Lead Score Filter",
                    "type": "n8n-nodes-base.if",
                    "onError": "continueRegularOutput",
                    "position": [
                      1150,
                      300
                    ],
                    "parameters": {
                      "conditions": {
                        "combinator": "and",
                        "conditions": [
                          {
                            "id": "score_threshold",
                            "operator": {
                              "type": "number",
                              "operation": "gte"
                            },
                            "leftValue": "={{ $json.score }}",
                            "rightValue": 70
                          }
                        ]
                      }
                    },
                    "typeVersion": 2
                  },
                  {
                    "id": "gmail_1",
                    "name": "Send Cold Email",
                    "type": "n8n-nodes-base.gmail",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      250
                    ],
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "{{ $json.emailSubject }}",
                      "operation": "send"
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "hubspot_1",
                    "name": "Log Activity in HubSpot",
                    "type": "n8n-nodes-base.hubspot",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      400
                    ],
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "leadScore": "={{ $json.score }}",
                        "leadSource": "Apollo.io",
                        "lastContactDate": "={{ new Date().toISOString() }}"
                      }
                    },
                    "typeVersion": 2
                  },
                  {
                    "id": "scheduleTrigger_1",
                    "name": "Follow-up Reminder Scheduler",
                    "type": "n8n-nodes-base.scheduleTrigger",
                    "onError": "stopWorkflow",
                    "position": [
                      1750,
                      300
                    ],
                    "parameters": {
                      "rule": "interval",
                      "unit": "days",
                      "notice": "",
                      "interval": 5
                    },
                    "typeVersion": 1.2
                  }
                ],
                "settings": {
                  "executionOrder": "v1",
                  "saveManualExecutions": true,
                  "saveDataErrorExecution": "all",
                  "saveDataSuccessExecution": "all"
                },
                "connections": {
                  "AI Lead Scoring": {
                    "main": [
                      [
                        {
                          "node": "Lead Score Filter",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Send Cold Email": {
                    "main": [
                      [
                        {
                          "node": "Follow-up Reminder Scheduler",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Lead Score Filter": {
                    "main": [
                      [
                        {
                          "node": "Send Cold Email",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Log Activity in HubSpot",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Apollo Lead Retrieval": {
                    "main": [
                      [
                        {
                          "node": "LinkedIn Profile Enrichment",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Company Data Enrichment",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Company Data Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "LinkedIn Profile Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  }
                }
              },
              "buildPhases": [
                {
                  "type": "data_collection",
                  "nodeIds": [
                    "httpRequest_1"
                  ],
                  "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "linkedIn_1",
                    "clearbit_1"
                  ],
                  "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "openAi_1"
                  ],
                  "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                },
                {
                  "type": "decision",
                  "nodeIds": [
                    "if_1"
                  ],
                  "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                },
                {
                  "type": "notification",
                  "nodeIds": [
                    "gmail_1",
                    "hubspot_1"
                  ],
                  "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                },
                {
                  "type": "trigger",
                  "nodeIds": [
                    "scheduleTrigger_1"
                  ],
                  "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
                }
              ],
              "operationHistory": [
                {
                  "type": "completePhase",
                  "phase": "discovery",
                  "timestamp": "2025-08-12T12:31:25.605Z"
                },
                {
                  "node": {
                    "id": "task_node_2",
                    "type": "nodes-base.openAi",
                    "config": {
                      "modelId": "gpt-3.5-turbo",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "messages": {
                        "values": [
                          {
                            "role": "user",
                            "content": ""
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message",
                      "retryOnFail": true,
                      "alwaysOutputData": true,
                      "waitBetweenTries": 5000
                    },
                    "purpose": "Send a message to an AI model and get response",
                    "displayName": "chat with ai",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_1",
                    "type": "nodes-base.httpRequest",
                    "config": {
                      "url": "",
                      "method": "GET",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "retryOnFail": true,
                      "authentication": "none",
                      "alwaysOutputData": true,
                      "waitBetweenTries": 1000
                    },
                    "purpose": "Make a simple GET request to retrieve data from an API",
                    "displayName": "get api data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_3",
                    "type": "nodes-base.if",
                    "config": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "string",
                              "operation": "equals"
                            },
                            "leftValue": "",
                            "rightValue": ""
                          }
                        ]
                      }
                    },
                    "purpose": "Filter items based on conditions",
                    "displayName": "filter data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_3",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_1",
                    "type": "nodes-base.linkedIn",
                    "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_2",
                    "type": "nodes-base.clearbit",
                    "purpose": "Enrich leads with comprehensive company data and firmographic information"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_3",
                    "type": "nodes-base.scheduleTrigger",
                    "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_3",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_4",
                    "type": "nodes-base.gmail",
                    "purpose": "Send personalized cold emails and monitor for replies"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_4",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_5",
                    "type": "nodes-base.hubspot",
                    "purpose": "Log lead activity and email interactions in HubSpot CRM"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_5",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "setPhase",
                  "phase": "configuration",
                  "timestamp": "2025-08-12T12:31:43.947Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "AI Lead Scoring - Uses OpenAI to analyze lead data from Apollo.io and LinkedIn enrichment to score leads against ICP criteria for personalized outreach prioritization",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "parameters": {
                      "modelId": "gpt-4",
                      "options": {
                        "maxTokens": 500,
                        "temperature": 0.3
                      },
                      "messages": {
                        "values": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach."
                          },
                          {
                            "role": "user",
                            "content": "Please score this lead based on our ICP criteria:\n\nLead Data:\n- Name: {{ $json.name }}\n- Company: {{ $json.company }}\n- Title: {{ $json.title }}\n- Industry: {{ $json.industry }}\n- Company Size: {{ $json.company_size }}\n- Location: {{ $json.location }}\n- LinkedIn Profile: {{ $json.linkedin_profile }}\n- Company Description: {{ $json.company_description }}\n- Technologies Used: {{ $json.technologies }}\n- Recent Activity: {{ $json.recent_activity }}\n\nICP Criteria:\n- Target Industries: SaaS, Technology, E-commerce\n- Company Size: 50-500 employees\n- Decision Maker Titles: VP, Director, C-Level\n- Geographic Focus: North America, Europe\n- Tech Stack Alignment: Modern web technologies\n\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes."
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message"
                    },
                    "retryOnFail": true,
                    "typeVersion": "1",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "nodeId": "task_node_2",
                  "purpose": "Send a message to an AI model and get response",
                  "nodeType": "nodes-base.openAi",
                  "timestamp": "2025-08-12T12:31:44.187Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_2",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.365Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Retrieve new leads from Apollo.io API - first step in lead enrichment and scoring workflow",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "parameters": {
                      "qs": {
                        "page": "1",
                        "per_page": "25",
                        "q_keywords": "{{ $json.keywords || 'SaaS,software,technology' }}",
                        "person_titles": "{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}",
                        "organization_num_employees_ranges": "{{ $json.companySizeRange || '11,50' }}"
                      },
                      "url": "https://api.apollo.io/v1/people/search",
                      "method": "GET",
                      "headers": {
                        "Content-Type": "application/json",
                        "Cache-Control": "no-cache"
                      },
                      "options": {
                        "timeout": 30000,
                        "response": {
                          "response": {
                            "fullResponse": false,
                            "responseFormat": "json"
                          }
                        }
                      },
                      "authentication": "predefinedCredentialType",
                      "nodeCredentialType": "apolloApi"
                    },
                    "retryOnFail": true,
                    "typeVersion": "1",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "nodeId": "task_node_1",
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "nodeType": "nodes-base.httpRequest",
                  "timestamp": "2025-08-12T12:31:44.365Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.518Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Filter leads based on AI scoring results - only process leads that meet ICP criteria threshold for personalized outreach",
                    "parameters": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "number",
                              "operation": "largerEqual"
                            },
                            "leftValue": "{{ $json.ai_score }}",
                            "rightValue": 7
                          }
                        ]
                      }
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "task_node_3",
                  "purpose": "Filter items based on conditions",
                  "nodeType": "nodes-base.if",
                  "timestamp": "2025-08-12T12:31:44.518Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_3",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.641Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post",
                      "authentication": "standard",
                      "binaryPropertyName": "data"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_1",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
                  "nodeType": "nodes-base.linkedIn",
                  "reasoning": "This configuration sets up LinkedIn enrichment as part of the lead qualification workflow",
                  "timestamp": "2025-08-12T12:31:44.641Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post",
                      "authentication": "standard",
                      "binaryPropertyName": "data"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_1",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
                  "nodeType": "nodes-base.linkedIn",
                  "timestamp": "2025-08-12T12:31:44.760Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.878Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company",
                      "operation": "enrich"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_2",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information",
                  "nodeType": "nodes-base.clearbit",
                  "reasoning": "Configured Clearbit to enrich company data using domain from Apollo.io leads",
                  "timestamp": "2025-08-12T12:31:44.879Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company",
                      "operation": "enrich"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_2",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information",
                  "nodeType": "nodes-base.clearbit",
                  "timestamp": "2025-08-12T12:31:45.055Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_2",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.186Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                    "parameters": {
                      "rule": "interval",
                      "notice": "",
                      "interval": [
                        {
                          "field": "days",
                          "value": 5
                        }
                      ]
                    },
                    "typeVersion": "1.2"
                  },
                  "nodeId": "search_node_3",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
                  "nodeType": "nodes-base.scheduleTrigger",
                  "reasoning": "Configured Schedule Trigger to run every 5 days as specified in the user's requirement for follow-up reminders",
                  "timestamp": "2025-08-12T12:31:45.186Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                    "parameters": {
                      "rule": "interval",
                      "notice": "",
                      "interval": [
                        {
                          "field": "days",
                          "value": 5
                        }
                      ]
                    },
                    "typeVersion": "1.2"
                  },
                  "nodeId": "search_node_3",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
                  "nodeType": "nodes-base.scheduleTrigger",
                  "timestamp": "2025-08-12T12:31:45.389Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_3",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.554Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                      "resource": "message",
                      "emailType": "html",
                      "operation": "send"
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_4",
                  "purpose": "Send personalized cold emails and monitor for replies",
                  "nodeType": "nodes-base.gmail",
                  "reasoning": "Configured Gmail node to send personalized cold emails using the 'message' resource with 'send' operation",
                  "timestamp": "2025-08-12T12:31:45.554Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                      "resource": "message",
                      "emailType": "html",
                      "operation": "send"
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_4",
                  "purpose": "Send personalized cold emails and monitor for replies",
                  "nodeType": "nodes-base.gmail",
                  "timestamp": "2025-08-12T12:31:45.685Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_4",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.809Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "phone": "={{ $json.phone }}",
                        "company": "={{ $json.company }}",
                        "website": "={{ $json.companyWebsite }}",
                        "jobtitle": "={{ $json.jobTitle }}",
                        "lastname": "={{ $json.lastName }}",
                        "firstname": "={{ $json.firstName }}",
                        "lead_source": "Apollo.io",
                        "lead_status": "new",
                        "ai_lead_score": "={{ $json.aiScore }}",
                        "email_campaign": "Cold Outreach",
                        "hs_lead_status": "NEW",
                        "lifecyclestage": "lead",
                        "last_email_sent": "={{ new Date().toISOString() }}",
                        "linkedin_profile": "={{ $json.linkedinProfile }}",
                        "notes_last_contacted": "Initial cold email sent via automated workflow"
                      }
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_5",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM",
                  "nodeType": "nodes-base.hubspot",
                  "reasoning": "Configured HubSpot to upsert contacts, ensuring leads from Apollo.io are properly logged without creating duplicates",
                  "timestamp": "2025-08-12T12:31:45.809Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "phone": "={{ $json.phone }}",
                        "company": "={{ $json.company }}",
                        "website": "={{ $json.companyWebsite }}",
                        "jobtitle": "={{ $json.jobTitle }}",
                        "lastname": "={{ $json.lastName }}",
                        "firstname": "={{ $json.firstName }}",
                        "lead_source": "Apollo.io",
                        "lead_status": "new",
                        "ai_lead_score": "={{ $json.aiScore }}",
                        "email_campaign": "Cold Outreach",
                        "hs_lead_status": "NEW",
                        "lifecyclestage": "lead",
                        "last_email_sent": "={{ new Date().toISOString() }}",
                        "linkedin_profile": "={{ $json.linkedinProfile }}",
                        "notes_last_contacted": "Initial cold email sent via automated workflow"
                      }
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_5",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM",
                  "nodeType": "nodes-base.hubspot",
                  "timestamp": "2025-08-12T12:31:45.995Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_5",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:46.140Z"
                },
                {
                  "type": "completePhase",
                  "phase": "configuration",
                  "timestamp": "2025-08-12T12:31:46.140Z"
                },
                {
                  "type": "setPhase",
                  "phase": "building",
                  "timestamp": "2025-08-12T12:32:18.016Z"
                },
                {
                  "type": "setWorkflow",
                  "workflow": {
                    "name": "Apollo Lead Enrichment & Outreach Automation",
                    "nodes": [
                      {
                        "id": "httpRequest_1",
                        "name": "Apollo Lead Retrieval",
                        "type": "n8n-nodes-base.httpRequest",
                        "onError": "continueRegularOutput",
                        "maxTries": 3,
                        "position": [
                          250,
                          300
                        ],
                        "parameters": {
                          "qs": {
                            "page_size": "100",
                            "sort_by_field": "created_at",
                            "sort_ascending": "false"
                          },
                          "url": "https://api.apollo.io/v1/mixed_people/search",
                          "method": "GET",
                          "sendQuery": true,
                          "authentication": "predefinedCredentialType",
                          "queryParameters": {
                            "parameters": [
                              {
                                "name": "page_size",
                                "value": "100"
                              },
                              {
                                "name": "sort_by_field",
                                "value": "created_at"
                              }
                            ]
                          },
                          "nodeCredentialType": "apolloApi"
                        },
                        "typeVersion": 4.2
                      },
                      {
                        "id": "linkedIn_1",
                        "name": "LinkedIn Profile Enrichment",
                        "type": "n8n-nodes-base.linkedIn",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          200
                        ],
                        "parameters": {
                          "person": "={{ $json.linkedinProfileId || $json.email }}",
                          "postAs": "person",
                          "resource": "profile"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "clearbit_1",
                        "name": "Company Data Enrichment",
                        "type": "n8n-nodes-base.clearbit",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          400
                        ],
                        "parameters": {
                          "domain": "={{ $json.company_domain || $json.domain }}",
                          "resource": "company"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "openAi_1",
                        "name": "AI Lead Scoring",
                        "type": "n8n-nodes-base.openAi",
                        "onError": "continueRegularOutput",
                        "position": [
                          850,
                          300
                        ],
                        "parameters": {
                          "model": "gpt-4",
                          "options": {
                            "temperature": 0.3
                          },
                          "messages": {
                            "messages": [
                              {
                                "role": "system",
                                "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                              },
                              {
                                "role": "user",
                                "content": "Lead Data: {{ JSON.stringify($json) }}"
                              }
                            ]
                          },
                          "resource": "chat"
                        },
                        "typeVersion": 1.3
                      },
                      {
                        "id": "if_1",
                        "name": "Lead Score Filter",
                        "type": "n8n-nodes-base.if",
                        "onError": "continueRegularOutput",
                        "position": [
                          1150,
                          300
                        ],
                        "parameters": {
                          "conditions": {
                            "combinator": "and",
                            "conditions": [
                              {
                                "id": "score_threshold",
                                "operator": {
                                  "type": "number",
                                  "operation": "gte"
                                },
                                "leftValue": "={{ $json.score }}",
                                "rightValue": 70
                              }
                            ]
                          }
                        },
                        "typeVersion": 2
                      },
                      {
                        "id": "gmail_1",
                        "name": "Send Cold Email",
                        "type": "n8n-nodes-base.gmail",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          250
                        ],
                        "parameters": {
                          "sendTo": "={{ $json.email }}",
                          "message": "={{ $json.personalizedEmail }}",
                          "subject": "{{ $json.emailSubject }}",
                          "operation": "send"
                        },
                        "typeVersion": 2.1
                      },
                      {
                        "id": "hubspot_1",
                        "name": "Log Activity in HubSpot",
                        "type": "n8n-nodes-base.hubspot",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          400
                        ],
                        "parameters": {
                          "email": "={{ $json.email }}",
                          "resource": "contact",
                          "operation": "upsert",
                          "additionalFields": {
                            "leadScore": "={{ $json.score }}",
                            "leadSource": "Apollo.io",
                            "lastContactDate": "={{ new Date().toISOString() }}"
                          }
                        },
                        "typeVersion": 2
                      },
                      {
                        "id": "scheduleTrigger_1",
                        "name": "Follow-up Reminder Scheduler",
                        "type": "n8n-nodes-base.scheduleTrigger",
                        "onError": "stopWorkflow",
                        "position": [
                          1750,
                          300
                        ],
                        "parameters": {
                          "rule": "interval",
                          "unit": "days",
                          "notice": "",
                          "interval": 5
                        },
                        "typeVersion": 1.2
                      }
                    ],
                    "settings": {
                      "executionOrder": "v1",
                      "saveManualExecutions": true,
                      "saveDataErrorExecution": "all",
                      "saveDataSuccessExecution": "all"
                    },
                    "connections": {
                      "AI Lead Scoring": {
                        "main": [
                          [
                            {
                              "node": "Lead Score Filter",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Send Cold Email": {
                        "main": [
                          [
                            {
                              "node": "Follow-up Reminder Scheduler",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Lead Score Filter": {
                        "main": [
                          [
                            {
                              "node": "Send Cold Email",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Log Activity in HubSpot",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Apollo Lead Retrieval": {
                        "main": [
                          [
                            {
                              "node": "LinkedIn Profile Enrichment",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Company Data Enrichment",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Company Data Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "LinkedIn Profile Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      }
                    }
                  },
                  "timestamp": "2025-08-12T12:32:18.249Z"
                },
                {
                  "type": "setBuildPhases",
                  "phases": [
                    {
                      "type": "data_collection",
                      "nodeIds": [
                        "httpRequest_1"
                      ],
                      "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                    },
                    {
                      "type": "data_processing",
                      "nodeIds": [
                        "linkedIn_1",
                        "clearbit_1"
                      ],
                      "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
                    },
                    {
                      "type": "data_processing",
                      "nodeIds": [
                        "openAi_1"
                      ],
                      "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                    },
                    {
                      "type": "decision",
                      "nodeIds": [
                        "if_1"
                      ],
                      "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                    },
                    {
                      "type": "notification",
                      "nodeIds": [
                        "gmail_1",
                        "hubspot_1"
                      ],
                      "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                    },
                    {
                      "type": "trigger",
                      "nodeIds": [
                        "scheduleTrigger_1"
                      ],
                      "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
                    }
                  ],
                  "timestamp": "2025-08-12T12:32:18.250Z"
                },
                {
                  "type": "completePhase",
                  "phase": "building",
                  "timestamp": "2025-08-12T12:32:18.250Z"
                }
              ],
              "pendingClarifications": [],
              "clarificationHistory": []
            }
          }
        },
        "removed": [],
        "unchanged": [
          "sessionId",
          "createdAt"
        ]
      }
    },
    "validation": {
      "name": "Validation",
      "success": true,
      "metrics": {
        "startTime": 1755001938622,
        "endTime": 1755001948207,
        "duration": 9585,
        "memoryUsage": {
          "heapUsed": -498696,
          "heapTotal": 37044224,
          "external": 7076101
        }
      },
      "logs": [
        {
          "timestamp": "2025-08-12T12:32:18.622Z",
          "level": "INFO",
          "source": "Orchestrator",
          "message": "Starting validation phase"
        },
        {
          "timestamp": "2025-08-12T12:32:18.622Z",
          "level": "DEBUG",
          "source": "Claude",
          "message": "Sending request for validation phase"
        },
        {
          "timestamp": "2025-08-12T12:32:18.623Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: validate_workflow"
        },
        {
          "timestamp": "2025-08-12T12:32:18.624Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"workflow\":{\"name\":\"Apollo Lead Enrichment & Outreach Automation\",\"nodes\":[{\"id\":\"httpRequest_1\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[250,300],\"parameters\":{\"qs\":{\"page_size\":\"100\",\"sort_by_field\":\"created_at\",\"sort_ascending\":\"false\"},\"url\":\"https://api.apollo.io/v1/mixed_people/search\",\"method\":\"GET\",\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"apolloApi\",\"sendQuery\":true,\"queryParameters\":{\"parameters\":[{\"name\":\"page_size\",\"value\":\"100\"},{\"name\":\"sort_by_field\",\"value\":\"created_at\"}]}},\"name\":\"Apollo Lead Retrieval\",\"typeVersion\":4.2,\"onError\":\"continueRegularOutput\",\"maxTries\":3},{\"id\":\"linkedIn_1\",\"type\":\"n8n-nodes-base.linkedIn\",\"position\":[550,200],\"parameters\":{\"person\":\"={{ $json.linkedinProfileId || $json.email }}\",\"postAs\":\"person\",\"resource\":\"profile\"},\"name\":\"LinkedIn Profile Enrichment\",\"typeVersion\":1,\"onError\":\"continueRegularOutput\"},{\"id\":\"clearbit_1\",\"type\":\"n8n-nodes-base.clearbit\",\"position\":[550,400],\"parameters\":{\"domain\":\"={{ $json.company_domain || $json.domain }}\",\"resource\":\"company\"},\"name\":\"Company Data Enrichment\",\"typeVersion\":1,\"onError\":\"continueRegularOutput\"},{\"id\":\"openAi_1\",\"type\":\"n8n-nodes-base.openAi\",\"position\":[850,300],\"parameters\":{\"resource\":\"chat\",\"model\":\"gpt-4\",\"messages\":{\"messages\":[{\"role\":\"system\",\"content\":\"You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning.\"},{\"role\":\"user\",\"content\":\"Lead Data: {{ JSON.stringify($json) }}\"}]},\"options\":{\"temperature\":0.3}},\"name\":\"AI Lead Scoring\",\"typeVersion\":1.3,\"onError\":\"continueRegularOutput\"},{\"id\":\"if_1\",\"type\":\"n8n-nodes-base.if\",\"position\":[1150,300],\"parameters\":{\"conditions\":{\"conditions\":[{\"id\":\"score_threshold\",\"leftValue\":\"={{ $json.score }}\",\"rightValue\":70,\"operator\":{\"type\":\"number\",\"operation\":\"gte\"}}],\"combinator\":\"and\"}},\"name\":\"Lead Score Filter\",\"typeVersion\":2,\"onError\":\"continueRegularOutput\"},{\"id\":\"gmail_1\",\"type\":\"n8n-nodes-base.gmail\",\"position\":[1450,250],\"parameters\":{\"sendTo\":\"={{ $json.email }}\",\"message\":\"={{ $json.personalizedEmail }}\",\"subject\":\"{{ $json.emailSubject }}\",\"operation\":\"send\"},\"name\":\"Send Cold Email\",\"typeVersion\":2.1,\"onError\":\"continueRegularOutput\"},{\"id\":\"hubspot_1\",\"type\":\"n8n-nodes-base.hubspot\",\"position\":[1450,400],\"parameters\":{\"email\":\"={{ $json.email }}\",\"resource\":\"contact\",\"operation\":\"upsert\",\"additionalFields\":{\"leadScore\":\"={{ $json.score }}\",\"lastContactDate\":\"={{ new Date().toISOString() }}\",\"leadSource\":\"Apollo.io\"}},\"name\":\"Log Activity in HubSpot\",\"typeVersion\":2,\"onError\":\"continueRegularOutput\"},{\"id\":\"scheduleTrigger_1\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[1750,300],\"parameters\":{\"rule\":\"interval\",\"notice\":\"\",\"interval\":5,\"unit\":\"days\"},\"name\":\"Follow-up Reminder Scheduler\",\"typeVersion\":1.2,\"onError\":\"stopWorkflow\"}],\"connections\":{\"Apollo Lead Retrieval\":{\"main\":[[{\"node\":\"LinkedIn Profile Enrichment\",\"type\":\"main\",\"index\":0},{\"node\":\"Company Data Enrichment\",\"type\":\"main\",\"index\":0}]]},\"LinkedIn Profile Enrichment\":{\"main\":[[{\"node\":\"AI Lead Scoring\",\"type\":\"main\",\"index\":0}]]},\"Company Data Enrichment\":{\"main\":[[{\"node\":\"AI Lead Scoring\",\"type\":\"main\",\"index\":0}]]},\"AI Lead Scoring\":{\"main\":[[{\"node\":\"Lead Score Filter\",\"type\":\"main\",\"index\":0}]]},\"Lead Score Filter\":{\"main\":[[{\"node\":\"Send Cold Email\",\"type\":\"main\",\"index\":0},{\"node\":\"Log Activity in HubSpot\",\"type\":\"main\",\"index\":0}]]},\"Send Cold Email\":{\"main\":[[{\"node\":\"Follow-up Reminder Scheduler\",\"type\":\"main\",\"index\":0}]]}},\"settings\":{\"executionOrder\":\"v1\",\"saveDataSuccessExecution\":\"all\",\"saveDataErrorExecution\":\"all\",\"saveManualExecutions\":true}},\"options\":{\"validateNodes\":true,\"validateConnections\":true,\"validateExpressions\":true,\"profile\":\"runtime\"}}"
        },
        {
          "timestamp": "2025-08-12T12:32:18.815Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool validate_workflow completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:32:27.082Z",
          "level": "INFO",
          "source": "MCP",
          "message": "Calling tool: validate_workflow"
        },
        {
          "timestamp": "2025-08-12T12:32:27.082Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Parameters: {\"workflow\":{\"name\":\"Apollo Lead Enrichment & Outreach Automation\",\"nodes\":[{\"id\":\"httpRequest_1\",\"type\":\"n8n-nodes-base.httpRequest\",\"position\":[250,300],\"parameters\":{\"qs\":{\"page_size\":\"100\",\"sort_by_field\":\"created_at\",\"sort_ascending\":\"false\"},\"url\":\"https://api.apollo.io/v1/mixed_people/search\",\"method\":\"GET\",\"authentication\":\"predefinedCredentialType\",\"nodeCredentialType\":\"apolloApi\",\"sendQuery\":true,\"queryParameters\":{\"parameters\":[{\"name\":\"page_size\",\"value\":\"100\"},{\"name\":\"sort_by_field\",\"value\":\"created_at\"}]}},\"name\":\"Apollo Lead Retrieval\",\"typeVersion\":4.2,\"onError\":\"continueRegularOutput\",\"maxTries\":3},{\"id\":\"linkedIn_1\",\"type\":\"n8n-nodes-base.linkedIn\",\"position\":[550,200],\"parameters\":{\"person\":\"={{ $json.linkedinProfileId || $json.email }}\",\"postAs\":\"person\",\"resource\":\"post\"},\"name\":\"LinkedIn Profile Enrichment\",\"typeVersion\":1,\"onError\":\"continueRegularOutput\"},{\"id\":\"clearbit_1\",\"type\":\"n8n-nodes-base.clearbit\",\"position\":[550,400],\"parameters\":{\"domain\":\"={{ $json.company_domain || $json.domain }}\",\"resource\":\"company\"},\"name\":\"Company Data Enrichment\",\"typeVersion\":1,\"onError\":\"continueRegularOutput\"},{\"id\":\"openAi_1\",\"type\":\"n8n-nodes-base.openAi\",\"position\":[850,300],\"parameters\":{\"resource\":\"chat\",\"model\":\"gpt-4\",\"messages\":{\"messages\":[{\"role\":\"system\",\"content\":\"You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning.\"},{\"role\":\"user\",\"content\":\"Lead Data: {{ JSON.stringify($json) }}\"}]},\"options\":{\"temperature\":0.3}},\"name\":\"AI Lead Scoring\",\"typeVersion\":1.1,\"onError\":\"continueRegularOutput\"},{\"id\":\"if_1\",\"type\":\"n8n-nodes-base.if\",\"position\":[1150,300],\"parameters\":{\"conditions\":{\"conditions\":[{\"id\":\"score_threshold\",\"leftValue\":\"={{ $json.score }}\",\"rightValue\":70,\"operator\":{\"type\":\"number\",\"operation\":\"gte\"}}],\"combinator\":\"and\"}},\"name\":\"Lead Score Filter\",\"typeVersion\":2.2,\"onError\":\"continueRegularOutput\"},{\"id\":\"gmail_1\",\"type\":\"n8n-nodes-base.gmail\",\"position\":[1450,250],\"parameters\":{\"sendTo\":\"={{ $json.email }}\",\"message\":\"={{ $json.personalizedEmail }}\",\"subject\":\"{{ $json.emailSubject }}\",\"operation\":\"send\"},\"name\":\"Send Cold Email\",\"typeVersion\":2.1,\"onError\":\"continueRegularOutput\"},{\"id\":\"hubspot_1\",\"type\":\"n8n-nodes-base.hubspot\",\"position\":[1450,400],\"parameters\":{\"email\":\"={{ $json.email }}\",\"resource\":\"contact\",\"operation\":\"upsert\",\"additionalFields\":{\"leadScore\":\"={{ $json.score }}\",\"lastContactDate\":\"={{ new Date().toISOString() }}\",\"leadSource\":\"Apollo.io\"}},\"name\":\"Log Activity in HubSpot\",\"typeVersion\":2.1,\"onError\":\"continueRegularOutput\"},{\"id\":\"scheduleTrigger_1\",\"type\":\"n8n-nodes-base.scheduleTrigger\",\"position\":[1750,300],\"parameters\":{\"rule\":\"interval\",\"notice\":\"\",\"interval\":5,\"unit\":\"days\"},\"name\":\"Follow-up Reminder Scheduler\",\"typeVersion\":1.2,\"onError\":\"stopWorkflow\"}],\"connections\":{\"Apollo Lead Retrieval\":{\"main\":[[{\"node\":\"LinkedIn Profile Enrichment\",\"type\":\"main\",\"index\":0},{\"node\":\"Company Data Enrichment\",\"type\":\"main\",\"index\":0}]]},\"LinkedIn Profile Enrichment\":{\"main\":[[{\"node\":\"AI Lead Scoring\",\"type\":\"main\",\"index\":0}]]},\"Company Data Enrichment\":{\"main\":[[{\"node\":\"AI Lead Scoring\",\"type\":\"main\",\"index\":0}]]},\"AI Lead Scoring\":{\"main\":[[{\"node\":\"Lead Score Filter\",\"type\":\"main\",\"index\":0}]]},\"Lead Score Filter\":{\"main\":[[{\"node\":\"Send Cold Email\",\"type\":\"main\",\"index\":0},{\"node\":\"Log Activity in HubSpot\",\"type\":\"main\",\"index\":0}]]},\"Send Cold Email\":{\"main\":[[{\"node\":\"Follow-up Reminder Scheduler\",\"type\":\"main\",\"index\":0}]]}},\"settings\":{\"executionOrder\":\"v1\",\"saveDataSuccessExecution\":\"all\",\"saveDataErrorExecution\":\"all\",\"saveManualExecutions\":true}},\"options\":{\"validateNodes\":true,\"validateConnections\":true,\"validateExpressions\":true,\"profile\":\"runtime\"}}"
        },
        {
          "timestamp": "2025-08-12T12:32:27.307Z",
          "level": "DEBUG",
          "source": "MCP",
          "message": "Tool validate_workflow completed successfully"
        },
        {
          "timestamp": "2025-08-12T12:32:28.058Z",
          "level": "INFO",
          "source": "Validation",
          "message": "Applied fix 1: Replaced 4 nodes (attempt 1)"
        },
        {
          "timestamp": "2025-08-12T12:32:28.058Z",
          "level": "INFO",
          "source": "Orchestrator",
          "message": "Validation completed in 2 attempts"
        },
        {
          "timestamp": "2025-08-12T12:32:28.058Z",
          "level": "INFO",
          "source": "Tools",
          "message": "Applied 1 fixes"
        },
        {
          "timestamp": "2025-08-12T12:32:28.206Z",
          "level": "DEBUG",
          "source": "Orchestrator",
          "message": "Session state updated"
        },
        {
          "timestamp": "2025-08-12T12:32:28.207Z",
          "level": "INFO",
          "source": "Orchestrator",
          "message": "Data flow captured: 3 transformations"
        }
      ],
      "nodes": [],
      "sessionState": {
        "sessionId": "complete_e2e_user_test_1755001859878",
        "createdAt": "2025-08-12T12:31:00.377Z",
        "state": {
          "phase": "documentation",
          "userPrompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days",
          "discovered": [
            {
              "id": "task_node_2",
              "type": "nodes-base.openAi",
              "config": {
                "modelId": "gpt-3.5-turbo",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "messages": {
                  "values": [
                    {
                      "role": "user",
                      "content": ""
                    }
                  ]
                },
                "resource": "chat",
                "operation": "message",
                "retryOnFail": true,
                "alwaysOutputData": true,
                "waitBetweenTries": 5000
              },
              "purpose": "Send a message to an AI model and get response",
              "displayName": "chat with ai",
              "isPreConfigured": true
            },
            {
              "id": "task_node_1",
              "type": "nodes-base.httpRequest",
              "config": {
                "url": "",
                "method": "GET",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "retryOnFail": true,
                "authentication": "none",
                "alwaysOutputData": true,
                "waitBetweenTries": 1000
              },
              "purpose": "Make a simple GET request to retrieve data from an API",
              "displayName": "get api data",
              "isPreConfigured": true
            },
            {
              "id": "task_node_3",
              "type": "nodes-base.if",
              "config": {
                "conditions": {
                  "conditions": [
                    {
                      "operator": {
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "",
                      "rightValue": ""
                    }
                  ]
                }
              },
              "purpose": "Filter items based on conditions",
              "displayName": "filter data",
              "isPreConfigured": true
            },
            {
              "id": "search_node_1",
              "type": "nodes-base.linkedIn",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
            },
            {
              "id": "search_node_2",
              "type": "nodes-base.clearbit",
              "purpose": "Enrich leads with comprehensive company data and firmographic information"
            },
            {
              "id": "search_node_3",
              "type": "nodes-base.scheduleTrigger",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
            },
            {
              "id": "search_node_4",
              "type": "nodes-base.gmail",
              "purpose": "Send personalized cold emails and monitor for replies"
            },
            {
              "id": "search_node_5",
              "type": "nodes-base.hubspot",
              "purpose": "Log lead activity and email interactions in HubSpot CRM"
            }
          ],
          "selected": [
            "task_node_2",
            "task_node_1",
            "task_node_3",
            "search_node_1",
            "search_node_2",
            "search_node_3",
            "search_node_4",
            "search_node_5"
          ],
          "configured": {},
          "validated": {},
          "workflow": {
            "name": "Apollo Lead Enrichment & Outreach Automation",
            "nodes": [
              {
                "id": "httpRequest_1",
                "name": "Apollo Lead Retrieval",
                "type": "n8n-nodes-base.httpRequest",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "position": [
                  250,
                  300
                ],
                "parameters": {
                  "qs": {
                    "page_size": "100",
                    "sort_by_field": "created_at",
                    "sort_ascending": "false"
                  },
                  "url": "https://api.apollo.io/v1/mixed_people/search",
                  "method": "GET",
                  "sendQuery": true,
                  "authentication": "predefinedCredentialType",
                  "queryParameters": {
                    "parameters": [
                      {
                        "name": "page_size",
                        "value": "100"
                      },
                      {
                        "name": "sort_by_field",
                        "value": "created_at"
                      }
                    ]
                  },
                  "nodeCredentialType": "apolloApi"
                },
                "typeVersion": 4.2
              },
              {
                "id": "linkedIn_1",
                "name": "LinkedIn Profile Enrichment",
                "type": "n8n-nodes-base.linkedIn",
                "onError": "continueRegularOutput",
                "position": [
                  550,
                  200
                ],
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "post"
                },
                "typeVersion": 1
              },
              {
                "id": "clearbit_1",
                "name": "Company Data Enrichment",
                "type": "n8n-nodes-base.clearbit",
                "onError": "continueRegularOutput",
                "position": [
                  550,
                  400
                ],
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company"
                },
                "typeVersion": 1
              },
              {
                "id": "openAi_1",
                "name": "AI Lead Scoring",
                "type": "n8n-nodes-base.openAi",
                "onError": "continueRegularOutput",
                "position": [
                  850,
                  300
                ],
                "parameters": {
                  "model": "gpt-4",
                  "options": {
                    "temperature": 0.3
                  },
                  "messages": {
                    "messages": [
                      {
                        "role": "system",
                        "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                      },
                      {
                        "role": "user",
                        "content": "Lead Data: {{ JSON.stringify($json) }}"
                      }
                    ]
                  },
                  "resource": "chat"
                },
                "typeVersion": 1.1
              },
              {
                "id": "if_1",
                "name": "Lead Score Filter",
                "type": "n8n-nodes-base.if",
                "onError": "continueRegularOutput",
                "position": [
                  1150,
                  300
                ],
                "parameters": {
                  "conditions": {
                    "combinator": "and",
                    "conditions": [
                      {
                        "id": "score_threshold",
                        "operator": {
                          "type": "number",
                          "operation": "gte"
                        },
                        "leftValue": "={{ $json.score }}",
                        "rightValue": 70
                      }
                    ]
                  }
                },
                "typeVersion": 2.2
              },
              {
                "id": "gmail_1",
                "name": "Send Cold Email",
                "type": "n8n-nodes-base.gmail",
                "onError": "continueRegularOutput",
                "position": [
                  1450,
                  250
                ],
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "{{ $json.emailSubject }}",
                  "operation": "send"
                },
                "typeVersion": 2.1
              },
              {
                "id": "hubspot_1",
                "name": "Log Activity in HubSpot",
                "type": "n8n-nodes-base.hubspot",
                "onError": "continueRegularOutput",
                "position": [
                  1450,
                  400
                ],
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "leadScore": "={{ $json.score }}",
                    "leadSource": "Apollo.io",
                    "lastContactDate": "={{ new Date().toISOString() }}"
                  }
                },
                "typeVersion": 2.1
              },
              {
                "id": "scheduleTrigger_1",
                "name": "Follow-up Reminder Scheduler",
                "type": "n8n-nodes-base.scheduleTrigger",
                "onError": "stopWorkflow",
                "position": [
                  1750,
                  300
                ],
                "parameters": {
                  "rule": "interval",
                  "unit": "days",
                  "notice": "",
                  "interval": 5
                },
                "typeVersion": 1.2
              }
            ],
            "valid": true,
            "settings": {
              "executionOrder": "v1",
              "saveManualExecutions": true,
              "saveDataErrorExecution": "all",
              "saveDataSuccessExecution": "all"
            },
            "connections": {
              "AI Lead Scoring": {
                "main": [
                  [
                    {
                      "node": "Lead Score Filter",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Send Cold Email": {
                "main": [
                  [
                    {
                      "node": "Follow-up Reminder Scheduler",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Lead Score Filter": {
                "main": [
                  [
                    {
                      "node": "Send Cold Email",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Log Activity in HubSpot",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Apollo Lead Retrieval": {
                "main": [
                  [
                    {
                      "node": "LinkedIn Profile Enrichment",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Company Data Enrichment",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Company Data Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "LinkedIn Profile Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              }
            }
          },
          "buildPhases": [
            {
              "type": "data_collection",
              "nodeIds": [
                "httpRequest_1"
              ],
              "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
            },
            {
              "type": "data_processing",
              "nodeIds": [
                "linkedIn_1",
                "clearbit_1"
              ],
              "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
            },
            {
              "type": "data_processing",
              "nodeIds": [
                "openAi_1"
              ],
              "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
            },
            {
              "type": "decision",
              "nodeIds": [
                "if_1"
              ],
              "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
            },
            {
              "type": "notification",
              "nodeIds": [
                "gmail_1",
                "hubspot_1"
              ],
              "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
            },
            {
              "type": "trigger",
              "nodeIds": [
                "scheduleTrigger_1"
              ],
              "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
            }
          ],
          "operationHistory": [
            {
              "type": "completePhase",
              "phase": "discovery",
              "timestamp": "2025-08-12T12:31:25.605Z"
            },
            {
              "node": {
                "id": "task_node_2",
                "type": "nodes-base.openAi",
                "config": {
                  "modelId": "gpt-3.5-turbo",
                  "onError": "continueRegularOutput",
                  "maxTries": 3,
                  "messages": {
                    "values": [
                      {
                        "role": "user",
                        "content": ""
                      }
                    ]
                  },
                  "resource": "chat",
                  "operation": "message",
                  "retryOnFail": true,
                  "alwaysOutputData": true,
                  "waitBetweenTries": 5000
                },
                "purpose": "Send a message to an AI model and get response",
                "displayName": "chat with ai",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_2",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "task_node_1",
                "type": "nodes-base.httpRequest",
                "config": {
                  "url": "",
                  "method": "GET",
                  "onError": "continueRegularOutput",
                  "maxTries": 3,
                  "retryOnFail": true,
                  "authentication": "none",
                  "alwaysOutputData": true,
                  "waitBetweenTries": 1000
                },
                "purpose": "Make a simple GET request to retrieve data from an API",
                "displayName": "get api data",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_1",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "task_node_3",
                "type": "nodes-base.if",
                "config": {
                  "conditions": {
                    "conditions": [
                      {
                        "operator": {
                          "type": "string",
                          "operation": "equals"
                        },
                        "leftValue": "",
                        "rightValue": ""
                      }
                    ]
                  }
                },
                "purpose": "Filter items based on conditions",
                "displayName": "filter data",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_3",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_1",
                "type": "nodes-base.linkedIn",
                "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_1",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_2",
                "type": "nodes-base.clearbit",
                "purpose": "Enrich leads with comprehensive company data and firmographic information"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_2",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_3",
                "type": "nodes-base.scheduleTrigger",
                "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_3",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "node": {
                "id": "search_node_4",
                "type": "nodes-base.gmail",
                "purpose": "Send personalized cold emails and monitor for replies"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_4",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "node": {
                "id": "search_node_5",
                "type": "nodes-base.hubspot",
                "purpose": "Log lead activity and email interactions in HubSpot CRM"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_5",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "setPhase",
              "phase": "configuration",
              "timestamp": "2025-08-12T12:31:43.947Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "AI Lead Scoring - Uses OpenAI to analyze lead data from Apollo.io and LinkedIn enrichment to score leads against ICP criteria for personalized outreach prioritization",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "parameters": {
                  "modelId": "gpt-4",
                  "options": {
                    "maxTokens": 500,
                    "temperature": 0.3
                  },
                  "messages": {
                    "values": [
                      {
                        "role": "system",
                        "content": "You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach."
                      },
                      {
                        "role": "user",
                        "content": "Please score this lead based on our ICP criteria:\n\nLead Data:\n- Name: {{ $json.name }}\n- Company: {{ $json.company }}\n- Title: {{ $json.title }}\n- Industry: {{ $json.industry }}\n- Company Size: {{ $json.company_size }}\n- Location: {{ $json.location }}\n- LinkedIn Profile: {{ $json.linkedin_profile }}\n- Company Description: {{ $json.company_description }}\n- Technologies Used: {{ $json.technologies }}\n- Recent Activity: {{ $json.recent_activity }}\n\nICP Criteria:\n- Target Industries: SaaS, Technology, E-commerce\n- Company Size: 50-500 employees\n- Decision Maker Titles: VP, Director, C-Level\n- Geographic Focus: North America, Europe\n- Tech Stack Alignment: Modern web technologies\n\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes."
                      }
                    ]
                  },
                  "resource": "chat",
                  "operation": "message"
                },
                "retryOnFail": true,
                "typeVersion": "1",
                "alwaysOutputData": true,
                "waitBetweenTries": 5000
              },
              "nodeId": "task_node_2",
              "purpose": "Send a message to an AI model and get response",
              "nodeType": "nodes-base.openAi",
              "timestamp": "2025-08-12T12:31:44.187Z"
            },
            {
              "type": "validateNode",
              "nodeId": "task_node_2",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.365Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Retrieve new leads from Apollo.io API - first step in lead enrichment and scoring workflow",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "parameters": {
                  "qs": {
                    "page": "1",
                    "per_page": "25",
                    "q_keywords": "{{ $json.keywords || 'SaaS,software,technology' }}",
                    "person_titles": "{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}",
                    "organization_num_employees_ranges": "{{ $json.companySizeRange || '11,50' }}"
                  },
                  "url": "https://api.apollo.io/v1/people/search",
                  "method": "GET",
                  "headers": {
                    "Content-Type": "application/json",
                    "Cache-Control": "no-cache"
                  },
                  "options": {
                    "timeout": 30000,
                    "response": {
                      "response": {
                        "fullResponse": false,
                        "responseFormat": "json"
                      }
                    }
                  },
                  "authentication": "predefinedCredentialType",
                  "nodeCredentialType": "apolloApi"
                },
                "retryOnFail": true,
                "typeVersion": "1",
                "alwaysOutputData": true,
                "waitBetweenTries": 1000
              },
              "nodeId": "task_node_1",
              "purpose": "Make a simple GET request to retrieve data from an API",
              "nodeType": "nodes-base.httpRequest",
              "timestamp": "2025-08-12T12:31:44.365Z"
            },
            {
              "type": "validateNode",
              "nodeId": "task_node_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.518Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Filter leads based on AI scoring results - only process leads that meet ICP criteria threshold for personalized outreach",
                "parameters": {
                  "conditions": {
                    "conditions": [
                      {
                        "operator": {
                          "type": "number",
                          "operation": "largerEqual"
                        },
                        "leftValue": "{{ $json.ai_score }}",
                        "rightValue": 7
                      }
                    ]
                  }
                },
                "typeVersion": "1"
              },
              "nodeId": "task_node_3",
              "purpose": "Filter items based on conditions",
              "nodeType": "nodes-base.if",
              "timestamp": "2025-08-12T12:31:44.518Z"
            },
            {
              "type": "validateNode",
              "nodeId": "task_node_3",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.641Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "post",
                  "authentication": "standard",
                  "binaryPropertyName": "data"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_1",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
              "nodeType": "nodes-base.linkedIn",
              "reasoning": "This configuration sets up LinkedIn enrichment as part of the lead qualification workflow",
              "timestamp": "2025-08-12T12:31:44.641Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "post",
                  "authentication": "standard",
                  "binaryPropertyName": "data"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_1",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
              "nodeType": "nodes-base.linkedIn",
              "timestamp": "2025-08-12T12:31:44.760Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.878Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company",
                  "operation": "enrich"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_2",
              "purpose": "Enrich leads with comprehensive company data and firmographic information",
              "nodeType": "nodes-base.clearbit",
              "reasoning": "Configured Clearbit to enrich company data using domain from Apollo.io leads",
              "timestamp": "2025-08-12T12:31:44.879Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company",
                  "operation": "enrich"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_2",
              "purpose": "Enrich leads with comprehensive company data and firmographic information",
              "nodeType": "nodes-base.clearbit",
              "timestamp": "2025-08-12T12:31:45.055Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_2",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:45.186Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                "parameters": {
                  "rule": "interval",
                  "notice": "",
                  "interval": [
                    {
                      "field": "days",
                      "value": 5
                    }
                  ]
                },
                "typeVersion": "1.2"
              },
              "nodeId": "search_node_3",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
              "nodeType": "nodes-base.scheduleTrigger",
              "reasoning": "Configured Schedule Trigger to run every 5 days as specified in the user's requirement for follow-up reminders",
              "timestamp": "2025-08-12T12:31:45.186Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                "parameters": {
                  "rule": "interval",
                  "notice": "",
                  "interval": [
                    {
                      "field": "days",
                      "value": 5
                    }
                  ]
                },
                "typeVersion": "1.2"
              },
              "nodeId": "search_node_3",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
              "nodeType": "nodes-base.scheduleTrigger",
              "timestamp": "2025-08-12T12:31:45.389Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_3",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:45.554Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                  "resource": "message",
                  "emailType": "html",
                  "operation": "send"
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_4",
              "purpose": "Send personalized cold emails and monitor for replies",
              "nodeType": "nodes-base.gmail",
              "reasoning": "Configured Gmail node to send personalized cold emails using the 'message' resource with 'send' operation",
              "timestamp": "2025-08-12T12:31:45.554Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                  "resource": "message",
                  "emailType": "html",
                  "operation": "send"
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_4",
              "purpose": "Send personalized cold emails and monitor for replies",
              "nodeType": "nodes-base.gmail",
              "timestamp": "2025-08-12T12:31:45.685Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_4",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:45.809Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "phone": "={{ $json.phone }}",
                    "company": "={{ $json.company }}",
                    "website": "={{ $json.companyWebsite }}",
                    "jobtitle": "={{ $json.jobTitle }}",
                    "lastname": "={{ $json.lastName }}",
                    "firstname": "={{ $json.firstName }}",
                    "lead_source": "Apollo.io",
                    "lead_status": "new",
                    "ai_lead_score": "={{ $json.aiScore }}",
                    "email_campaign": "Cold Outreach",
                    "hs_lead_status": "NEW",
                    "lifecyclestage": "lead",
                    "last_email_sent": "={{ new Date().toISOString() }}",
                    "linkedin_profile": "={{ $json.linkedinProfile }}",
                    "notes_last_contacted": "Initial cold email sent via automated workflow"
                  }
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_5",
              "purpose": "Log lead activity and email interactions in HubSpot CRM",
              "nodeType": "nodes-base.hubspot",
              "reasoning": "Configured HubSpot to upsert contacts, ensuring leads from Apollo.io are properly logged without creating duplicates",
              "timestamp": "2025-08-12T12:31:45.809Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "phone": "={{ $json.phone }}",
                    "company": "={{ $json.company }}",
                    "website": "={{ $json.companyWebsite }}",
                    "jobtitle": "={{ $json.jobTitle }}",
                    "lastname": "={{ $json.lastName }}",
                    "firstname": "={{ $json.firstName }}",
                    "lead_source": "Apollo.io",
                    "lead_status": "new",
                    "ai_lead_score": "={{ $json.aiScore }}",
                    "email_campaign": "Cold Outreach",
                    "hs_lead_status": "NEW",
                    "lifecyclestage": "lead",
                    "last_email_sent": "={{ new Date().toISOString() }}",
                    "linkedin_profile": "={{ $json.linkedinProfile }}",
                    "notes_last_contacted": "Initial cold email sent via automated workflow"
                  }
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_5",
              "purpose": "Log lead activity and email interactions in HubSpot CRM",
              "nodeType": "nodes-base.hubspot",
              "timestamp": "2025-08-12T12:31:45.995Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_5",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:46.140Z"
            },
            {
              "type": "completePhase",
              "phase": "configuration",
              "timestamp": "2025-08-12T12:31:46.140Z"
            },
            {
              "type": "setPhase",
              "phase": "building",
              "timestamp": "2025-08-12T12:32:18.016Z"
            },
            {
              "type": "setWorkflow",
              "workflow": {
                "name": "Apollo Lead Enrichment & Outreach Automation",
                "nodes": [
                  {
                    "id": "httpRequest_1",
                    "name": "Apollo Lead Retrieval",
                    "type": "n8n-nodes-base.httpRequest",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "position": [
                      250,
                      300
                    ],
                    "parameters": {
                      "qs": {
                        "page_size": "100",
                        "sort_by_field": "created_at",
                        "sort_ascending": "false"
                      },
                      "url": "https://api.apollo.io/v1/mixed_people/search",
                      "method": "GET",
                      "sendQuery": true,
                      "authentication": "predefinedCredentialType",
                      "queryParameters": {
                        "parameters": [
                          {
                            "name": "page_size",
                            "value": "100"
                          },
                          {
                            "name": "sort_by_field",
                            "value": "created_at"
                          }
                        ]
                      },
                      "nodeCredentialType": "apolloApi"
                    },
                    "typeVersion": 4.2
                  },
                  {
                    "id": "linkedIn_1",
                    "name": "LinkedIn Profile Enrichment",
                    "type": "n8n-nodes-base.linkedIn",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      200
                    ],
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "profile"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "clearbit_1",
                    "name": "Company Data Enrichment",
                    "type": "n8n-nodes-base.clearbit",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      400
                    ],
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "openAi_1",
                    "name": "AI Lead Scoring",
                    "type": "n8n-nodes-base.openAi",
                    "onError": "continueRegularOutput",
                    "position": [
                      850,
                      300
                    ],
                    "parameters": {
                      "model": "gpt-4",
                      "options": {
                        "temperature": 0.3
                      },
                      "messages": {
                        "messages": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                          },
                          {
                            "role": "user",
                            "content": "Lead Data: {{ JSON.stringify($json) }}"
                          }
                        ]
                      },
                      "resource": "chat"
                    },
                    "typeVersion": 1.3
                  },
                  {
                    "id": "if_1",
                    "name": "Lead Score Filter",
                    "type": "n8n-nodes-base.if",
                    "onError": "continueRegularOutput",
                    "position": [
                      1150,
                      300
                    ],
                    "parameters": {
                      "conditions": {
                        "combinator": "and",
                        "conditions": [
                          {
                            "id": "score_threshold",
                            "operator": {
                              "type": "number",
                              "operation": "gte"
                            },
                            "leftValue": "={{ $json.score }}",
                            "rightValue": 70
                          }
                        ]
                      }
                    },
                    "typeVersion": 2
                  },
                  {
                    "id": "gmail_1",
                    "name": "Send Cold Email",
                    "type": "n8n-nodes-base.gmail",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      250
                    ],
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "{{ $json.emailSubject }}",
                      "operation": "send"
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "hubspot_1",
                    "name": "Log Activity in HubSpot",
                    "type": "n8n-nodes-base.hubspot",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      400
                    ],
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "leadScore": "={{ $json.score }}",
                        "leadSource": "Apollo.io",
                        "lastContactDate": "={{ new Date().toISOString() }}"
                      }
                    },
                    "typeVersion": 2
                  },
                  {
                    "id": "scheduleTrigger_1",
                    "name": "Follow-up Reminder Scheduler",
                    "type": "n8n-nodes-base.scheduleTrigger",
                    "onError": "stopWorkflow",
                    "position": [
                      1750,
                      300
                    ],
                    "parameters": {
                      "rule": "interval",
                      "unit": "days",
                      "notice": "",
                      "interval": 5
                    },
                    "typeVersion": 1.2
                  }
                ],
                "settings": {
                  "executionOrder": "v1",
                  "saveManualExecutions": true,
                  "saveDataErrorExecution": "all",
                  "saveDataSuccessExecution": "all"
                },
                "connections": {
                  "AI Lead Scoring": {
                    "main": [
                      [
                        {
                          "node": "Lead Score Filter",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Send Cold Email": {
                    "main": [
                      [
                        {
                          "node": "Follow-up Reminder Scheduler",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Lead Score Filter": {
                    "main": [
                      [
                        {
                          "node": "Send Cold Email",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Log Activity in HubSpot",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Apollo Lead Retrieval": {
                    "main": [
                      [
                        {
                          "node": "LinkedIn Profile Enrichment",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Company Data Enrichment",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Company Data Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "LinkedIn Profile Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  }
                }
              },
              "timestamp": "2025-08-12T12:32:18.249Z"
            },
            {
              "type": "setBuildPhases",
              "phases": [
                {
                  "type": "data_collection",
                  "nodeIds": [
                    "httpRequest_1"
                  ],
                  "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "linkedIn_1",
                    "clearbit_1"
                  ],
                  "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "openAi_1"
                  ],
                  "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                },
                {
                  "type": "decision",
                  "nodeIds": [
                    "if_1"
                  ],
                  "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                },
                {
                  "type": "notification",
                  "nodeIds": [
                    "gmail_1",
                    "hubspot_1"
                  ],
                  "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                },
                {
                  "type": "trigger",
                  "nodeIds": [
                    "scheduleTrigger_1"
                  ],
                  "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
                }
              ],
              "timestamp": "2025-08-12T12:32:18.250Z"
            },
            {
              "type": "completePhase",
              "phase": "building",
              "timestamp": "2025-08-12T12:32:18.250Z"
            },
            {
              "type": "setPhase",
              "phase": "validation",
              "timestamp": "2025-08-12T12:32:27.308Z"
            },
            {
              "type": "validateNode",
              "nodeId": "linkedIn_1",
              "result": {
                "valid": false,
                "errors": [
                  "Node replaced entirely"
                ]
              },
              "attempt": 1,
              "reasoning": "Node replaced to fix validation errors",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "openAi_1",
              "result": {
                "valid": false,
                "errors": [
                  "Node replaced entirely"
                ]
              },
              "attempt": 1,
              "reasoning": "Node replaced to fix validation errors",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "if_1",
              "result": {
                "valid": false,
                "errors": [
                  "Node replaced entirely"
                ]
              },
              "attempt": 1,
              "reasoning": "Node replaced to fix validation errors",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "hubspot_1",
              "result": {
                "valid": false,
                "errors": [
                  "Node replaced entirely"
                ]
              },
              "attempt": 1,
              "reasoning": "Node replaced to fix validation errors",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "httpRequest_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "linkedIn_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "clearbit_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "openAi_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "if_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "gmail_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "hubspot_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.786Z"
            },
            {
              "type": "validateNode",
              "nodeId": "scheduleTrigger_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.786Z"
            },
            {
              "type": "setWorkflow",
              "workflow": {
                "name": "Apollo Lead Enrichment & Outreach Automation",
                "nodes": [
                  {
                    "id": "httpRequest_1",
                    "name": "Apollo Lead Retrieval",
                    "type": "n8n-nodes-base.httpRequest",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "position": [
                      250,
                      300
                    ],
                    "parameters": {
                      "qs": {
                        "page_size": "100",
                        "sort_by_field": "created_at",
                        "sort_ascending": "false"
                      },
                      "url": "https://api.apollo.io/v1/mixed_people/search",
                      "method": "GET",
                      "sendQuery": true,
                      "authentication": "predefinedCredentialType",
                      "queryParameters": {
                        "parameters": [
                          {
                            "name": "page_size",
                            "value": "100"
                          },
                          {
                            "name": "sort_by_field",
                            "value": "created_at"
                          }
                        ]
                      },
                      "nodeCredentialType": "apolloApi"
                    },
                    "typeVersion": 4.2
                  },
                  {
                    "id": "linkedIn_1",
                    "name": "LinkedIn Profile Enrichment",
                    "type": "n8n-nodes-base.linkedIn",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      200
                    ],
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "clearbit_1",
                    "name": "Company Data Enrichment",
                    "type": "n8n-nodes-base.clearbit",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      400
                    ],
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "openAi_1",
                    "name": "AI Lead Scoring",
                    "type": "n8n-nodes-base.openAi",
                    "onError": "continueRegularOutput",
                    "position": [
                      850,
                      300
                    ],
                    "parameters": {
                      "model": "gpt-4",
                      "options": {
                        "temperature": 0.3
                      },
                      "messages": {
                        "messages": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                          },
                          {
                            "role": "user",
                            "content": "Lead Data: {{ JSON.stringify($json) }}"
                          }
                        ]
                      },
                      "resource": "chat"
                    },
                    "typeVersion": 1.1
                  },
                  {
                    "id": "if_1",
                    "name": "Lead Score Filter",
                    "type": "n8n-nodes-base.if",
                    "onError": "continueRegularOutput",
                    "position": [
                      1150,
                      300
                    ],
                    "parameters": {
                      "conditions": {
                        "combinator": "and",
                        "conditions": [
                          {
                            "id": "score_threshold",
                            "operator": {
                              "type": "number",
                              "operation": "gte"
                            },
                            "leftValue": "={{ $json.score }}",
                            "rightValue": 70
                          }
                        ]
                      }
                    },
                    "typeVersion": 2.2
                  },
                  {
                    "id": "gmail_1",
                    "name": "Send Cold Email",
                    "type": "n8n-nodes-base.gmail",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      250
                    ],
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "{{ $json.emailSubject }}",
                      "operation": "send"
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "hubspot_1",
                    "name": "Log Activity in HubSpot",
                    "type": "n8n-nodes-base.hubspot",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      400
                    ],
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "leadScore": "={{ $json.score }}",
                        "leadSource": "Apollo.io",
                        "lastContactDate": "={{ new Date().toISOString() }}"
                      }
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "scheduleTrigger_1",
                    "name": "Follow-up Reminder Scheduler",
                    "type": "n8n-nodes-base.scheduleTrigger",
                    "onError": "stopWorkflow",
                    "position": [
                      1750,
                      300
                    ],
                    "parameters": {
                      "rule": "interval",
                      "unit": "days",
                      "notice": "",
                      "interval": 5
                    },
                    "typeVersion": 1.2
                  }
                ],
                "valid": true,
                "settings": {
                  "executionOrder": "v1",
                  "saveManualExecutions": true,
                  "saveDataErrorExecution": "all",
                  "saveDataSuccessExecution": "all"
                },
                "connections": {
                  "AI Lead Scoring": {
                    "main": [
                      [
                        {
                          "node": "Lead Score Filter",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Send Cold Email": {
                    "main": [
                      [
                        {
                          "node": "Follow-up Reminder Scheduler",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Lead Score Filter": {
                    "main": [
                      [
                        {
                          "node": "Send Cold Email",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Log Activity in HubSpot",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Apollo Lead Retrieval": {
                    "main": [
                      [
                        {
                          "node": "LinkedIn Profile Enrichment",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Company Data Enrichment",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Company Data Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "LinkedIn Profile Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  }
                }
              },
              "timestamp": "2025-08-12T12:32:27.786Z"
            },
            {
              "type": "completePhase",
              "phase": "validation",
              "timestamp": "2025-08-12T12:32:27.786Z"
            }
          ],
          "pendingClarifications": [],
          "clarificationHistory": []
        }
      },
      "stateChanges": {},
      "dataFlow": {
        "input": {
          "workflow": {
            "name": "Apollo Lead Enrichment & Outreach Automation",
            "nodes": [
              {
                "id": "httpRequest_1",
                "type": "n8n-nodes-base.httpRequest",
                "position": [
                  250,
                  300
                ],
                "parameters": {
                  "qs": {
                    "page_size": "100",
                    "sort_by_field": "created_at",
                    "sort_ascending": "false"
                  },
                  "url": "https://api.apollo.io/v1/mixed_people/search",
                  "method": "GET",
                  "authentication": "predefinedCredentialType",
                  "nodeCredentialType": "apolloApi",
                  "sendQuery": true,
                  "queryParameters": {
                    "parameters": [
                      {
                        "name": "page_size",
                        "value": "100"
                      },
                      {
                        "name": "sort_by_field",
                        "value": "created_at"
                      }
                    ]
                  }
                },
                "name": "Apollo Lead Retrieval",
                "typeVersion": 4.2,
                "onError": "continueRegularOutput",
                "maxTries": 3
              },
              {
                "id": "linkedIn_1",
                "type": "n8n-nodes-base.linkedIn",
                "position": [
                  550,
                  200
                ],
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "profile"
                },
                "name": "LinkedIn Profile Enrichment",
                "typeVersion": 1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "clearbit_1",
                "type": "n8n-nodes-base.clearbit",
                "position": [
                  550,
                  400
                ],
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company"
                },
                "name": "Company Data Enrichment",
                "typeVersion": 1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "openAi_1",
                "type": "n8n-nodes-base.openAi",
                "position": [
                  850,
                  300
                ],
                "parameters": {
                  "resource": "chat",
                  "model": "gpt-4",
                  "messages": {
                    "messages": [
                      {
                        "role": "system",
                        "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                      },
                      {
                        "role": "user",
                        "content": "Lead Data: {{ JSON.stringify($json) }}"
                      }
                    ]
                  },
                  "options": {
                    "temperature": 0.3
                  }
                },
                "name": "AI Lead Scoring",
                "typeVersion": 1.3,
                "onError": "continueRegularOutput"
              },
              {
                "id": "if_1",
                "type": "n8n-nodes-base.if",
                "position": [
                  1150,
                  300
                ],
                "parameters": {
                  "conditions": {
                    "conditions": [
                      {
                        "id": "score_threshold",
                        "leftValue": "={{ $json.score }}",
                        "rightValue": 70,
                        "operator": {
                          "type": "number",
                          "operation": "gte"
                        }
                      }
                    ],
                    "combinator": "and"
                  }
                },
                "name": "Lead Score Filter",
                "typeVersion": 2,
                "onError": "continueRegularOutput"
              },
              {
                "id": "gmail_1",
                "type": "n8n-nodes-base.gmail",
                "position": [
                  1450,
                  250
                ],
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "{{ $json.emailSubject }}",
                  "operation": "send"
                },
                "name": "Send Cold Email",
                "typeVersion": 2.1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "hubspot_1",
                "type": "n8n-nodes-base.hubspot",
                "position": [
                  1450,
                  400
                ],
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "leadScore": "={{ $json.score }}",
                    "lastContactDate": "={{ new Date().toISOString() }}",
                    "leadSource": "Apollo.io"
                  }
                },
                "name": "Log Activity in HubSpot",
                "typeVersion": 2,
                "onError": "continueRegularOutput"
              },
              {
                "id": "scheduleTrigger_1",
                "type": "n8n-nodes-base.scheduleTrigger",
                "position": [
                  1750,
                  300
                ],
                "parameters": {
                  "rule": "interval",
                  "notice": "",
                  "interval": 5,
                  "unit": "days"
                },
                "name": "Follow-up Reminder Scheduler",
                "typeVersion": 1.2,
                "onError": "stopWorkflow"
              }
            ],
            "connections": {
              "Apollo Lead Retrieval": {
                "main": [
                  [
                    {
                      "node": "LinkedIn Profile Enrichment",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Company Data Enrichment",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "LinkedIn Profile Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Company Data Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "AI Lead Scoring": {
                "main": [
                  [
                    {
                      "node": "Lead Score Filter",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Lead Score Filter": {
                "main": [
                  [
                    {
                      "node": "Send Cold Email",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Log Activity in HubSpot",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Send Cold Email": {
                "main": [
                  [
                    {
                      "node": "Follow-up Reminder Scheduler",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              }
            },
            "settings": {
              "executionOrder": "v1",
              "saveDataSuccessExecution": "all",
              "saveDataErrorExecution": "all",
              "saveManualExecutions": true
            }
          }
        },
        "output": {
          "validatedWorkflow": {
            "name": "Apollo Lead Enrichment & Outreach Automation",
            "nodes": [
              {
                "id": "httpRequest_1",
                "type": "n8n-nodes-base.httpRequest",
                "position": [
                  250,
                  300
                ],
                "parameters": {
                  "qs": {
                    "page_size": "100",
                    "sort_by_field": "created_at",
                    "sort_ascending": "false"
                  },
                  "url": "https://api.apollo.io/v1/mixed_people/search",
                  "method": "GET",
                  "authentication": "predefinedCredentialType",
                  "nodeCredentialType": "apolloApi",
                  "sendQuery": true,
                  "queryParameters": {
                    "parameters": [
                      {
                        "name": "page_size",
                        "value": "100"
                      },
                      {
                        "name": "sort_by_field",
                        "value": "created_at"
                      }
                    ]
                  }
                },
                "name": "Apollo Lead Retrieval",
                "typeVersion": 4.2,
                "onError": "continueRegularOutput",
                "maxTries": 3
              },
              {
                "id": "linkedIn_1",
                "type": "n8n-nodes-base.linkedIn",
                "position": [
                  550,
                  200
                ],
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "post"
                },
                "name": "LinkedIn Profile Enrichment",
                "typeVersion": 1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "clearbit_1",
                "type": "n8n-nodes-base.clearbit",
                "position": [
                  550,
                  400
                ],
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company"
                },
                "name": "Company Data Enrichment",
                "typeVersion": 1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "openAi_1",
                "type": "n8n-nodes-base.openAi",
                "position": [
                  850,
                  300
                ],
                "parameters": {
                  "resource": "chat",
                  "model": "gpt-4",
                  "messages": {
                    "messages": [
                      {
                        "role": "system",
                        "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                      },
                      {
                        "role": "user",
                        "content": "Lead Data: {{ JSON.stringify($json) }}"
                      }
                    ]
                  },
                  "options": {
                    "temperature": 0.3
                  }
                },
                "name": "AI Lead Scoring",
                "typeVersion": 1.1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "if_1",
                "type": "n8n-nodes-base.if",
                "position": [
                  1150,
                  300
                ],
                "parameters": {
                  "conditions": {
                    "conditions": [
                      {
                        "id": "score_threshold",
                        "leftValue": "={{ $json.score }}",
                        "rightValue": 70,
                        "operator": {
                          "type": "number",
                          "operation": "gte"
                        }
                      }
                    ],
                    "combinator": "and"
                  }
                },
                "name": "Lead Score Filter",
                "typeVersion": 2.2,
                "onError": "continueRegularOutput"
              },
              {
                "id": "gmail_1",
                "type": "n8n-nodes-base.gmail",
                "position": [
                  1450,
                  250
                ],
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "{{ $json.emailSubject }}",
                  "operation": "send"
                },
                "name": "Send Cold Email",
                "typeVersion": 2.1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "hubspot_1",
                "type": "n8n-nodes-base.hubspot",
                "position": [
                  1450,
                  400
                ],
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "leadScore": "={{ $json.score }}",
                    "lastContactDate": "={{ new Date().toISOString() }}",
                    "leadSource": "Apollo.io"
                  }
                },
                "name": "Log Activity in HubSpot",
                "typeVersion": 2.1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "scheduleTrigger_1",
                "type": "n8n-nodes-base.scheduleTrigger",
                "position": [
                  1750,
                  300
                ],
                "parameters": {
                  "rule": "interval",
                  "notice": "",
                  "interval": 5,
                  "unit": "days"
                },
                "name": "Follow-up Reminder Scheduler",
                "typeVersion": 1.2,
                "onError": "stopWorkflow"
              }
            ],
            "connections": {
              "Apollo Lead Retrieval": {
                "main": [
                  [
                    {
                      "node": "LinkedIn Profile Enrichment",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Company Data Enrichment",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "LinkedIn Profile Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Company Data Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "AI Lead Scoring": {
                "main": [
                  [
                    {
                      "node": "Lead Score Filter",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Lead Score Filter": {
                "main": [
                  [
                    {
                      "node": "Send Cold Email",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Log Activity in HubSpot",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Send Cold Email": {
                "main": [
                  [
                    {
                      "node": "Follow-up Reminder Scheduler",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              }
            },
            "settings": {
              "executionOrder": "v1",
              "saveDataSuccessExecution": "all",
              "saveDataErrorExecution": "all",
              "saveManualExecutions": true
            },
            "valid": true
          },
          "report": {
            "initial": {
              "workflow": {
                "errors": [
                  {
                    "node": "LinkedIn Profile Enrichment",
                    "message": {
                      "type": "invalid_value",
                      "property": "resource",
                      "message": "Invalid value for 'resource'. Must be one of: post",
                      "fix": "Change resource to one of the valid options"
                    }
                  },
                  {
                    "node": "AI Lead Scoring",
                    "message": "typeVersion 1.3 exceeds maximum supported version 1.1"
                  },
                  {
                    "node": "workflow",
                    "message": "Workflow validation failed: e.message.includes is not a function"
                  },
                  {
                    "node": "Lead Score Filter",
                    "message": "Outdated typeVersion: 2. Latest is 2.2",
                    "type": "typeVersion",
                    "severity": "error"
                  },
                  {
                    "node": "Log Activity in HubSpot",
                    "message": "Outdated typeVersion: 2. Latest is 2.1",
                    "type": "typeVersion",
                    "severity": "error"
                  }
                ],
                "warnings": [
                  {
                    "node": "Apollo Lead Retrieval",
                    "message": {
                      "type": "security",
                      "property": "nodeCredentialType",
                      "message": "Hardcoded nodeCredentialType detected",
                      "suggestion": "Use n8n credentials or expressions instead of hardcoding sensitive values"
                    }
                  },
                  {
                    "node": "workflow",
                    "message": "Consider adding error handling to your workflow"
                  }
                ],
                "valid": false,
                "statistics": {
                  "totalNodes": 8,
                  "enabledNodes": 8,
                  "triggerNodes": 1,
                  "validConnections": 8,
                  "invalidConnections": 0,
                  "expressionsValidated": 6,
                  "errorCount": 3,
                  "warningCount": 4
                }
              },
              "connections": {
                "errors": [],
                "warnings": []
              },
              "expressions": {
                "errors": [],
                "warnings": []
              }
            },
            "fixesApplied": [
              {
                "type": "entity-replacement",
                "attempt": 1,
                "timestamp": "2025-08-12T12:32:27.082Z",
                "description": "Replaced 4 nodes",
                "reasoning": [
                  "Fixed LinkedIn Profile Enrichment: Changed resource from 'profile' to 'post' as required by validation",
                  "Fixed AI Lead Scoring: Downgraded typeVersion from 1.3 to 1.1 (maximum supported version)",
                  "Fixed Lead Score Filter: Updated typeVersion from 2 to 2.2 (latest version)",
                  "Fixed Log Activity in HubSpot: Updated typeVersion from 2 to 2.1 (latest version)"
                ],
                "entitiesFixed": {
                  "nodes": [
                    "linkedIn_1",
                    "openAi_1",
                    "if_1",
                    "hubspot_1"
                  ],
                  "connections": false
                }
              }
            ],
            "final": {
              "workflow": {
                "errors": [],
                "warnings": [
                  {
                    "node": "Apollo Lead Retrieval",
                    "message": {
                      "type": "security",
                      "property": "nodeCredentialType",
                      "message": "Hardcoded nodeCredentialType detected",
                      "suggestion": "Use n8n credentials or expressions instead of hardcoding sensitive values"
                    }
                  },
                  {
                    "node": "workflow",
                    "message": "Consider adding error handling to your workflow"
                  }
                ],
                "valid": true,
                "statistics": {
                  "totalNodes": 8,
                  "enabledNodes": 8,
                  "triggerNodes": 1,
                  "validConnections": 8,
                  "invalidConnections": 0,
                  "expressionsValidated": 6,
                  "errorCount": 0,
                  "warningCount": 2
                }
              },
              "connections": {
                "errors": [],
                "warnings": []
              },
              "expressions": {
                "errors": [],
                "warnings": []
              }
            },
            "attempts": 2
          }
        },
        "transformations": [
          "Validation Check",
          "Error Detection",
          "Automatic Fixes"
        ]
      },
      "stateDelta": {
        "added": {
          "state": {
            "workflow": {
              "valid": true
            }
          }
        },
        "modified": {
          "state": {
            "old": {
              "phase": "validation",
              "userPrompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days",
              "discovered": [
                {
                  "id": "task_node_2",
                  "type": "nodes-base.openAi",
                  "config": {
                    "modelId": "gpt-3.5-turbo",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "messages": {
                      "values": [
                        {
                          "role": "user",
                          "content": ""
                        }
                      ]
                    },
                    "resource": "chat",
                    "operation": "message",
                    "retryOnFail": true,
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "purpose": "Send a message to an AI model and get response",
                  "displayName": "chat with ai",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_1",
                  "type": "nodes-base.httpRequest",
                  "config": {
                    "url": "",
                    "method": "GET",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "retryOnFail": true,
                    "authentication": "none",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "displayName": "get api data",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_3",
                  "type": "nodes-base.if",
                  "config": {
                    "conditions": {
                      "conditions": [
                        {
                          "operator": {
                            "type": "string",
                            "operation": "equals"
                          },
                          "leftValue": "",
                          "rightValue": ""
                        }
                      ]
                    }
                  },
                  "purpose": "Filter items based on conditions",
                  "displayName": "filter data",
                  "isPreConfigured": true
                },
                {
                  "id": "search_node_1",
                  "type": "nodes-base.linkedIn",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                },
                {
                  "id": "search_node_2",
                  "type": "nodes-base.clearbit",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information"
                },
                {
                  "id": "search_node_3",
                  "type": "nodes-base.scheduleTrigger",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                },
                {
                  "id": "search_node_4",
                  "type": "nodes-base.gmail",
                  "purpose": "Send personalized cold emails and monitor for replies"
                },
                {
                  "id": "search_node_5",
                  "type": "nodes-base.hubspot",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM"
                }
              ],
              "selected": [
                "task_node_2",
                "task_node_1",
                "task_node_3",
                "search_node_1",
                "search_node_2",
                "search_node_3",
                "search_node_4",
                "search_node_5"
              ],
              "configured": {},
              "validated": {},
              "workflow": {
                "name": "Apollo Lead Enrichment & Outreach Automation",
                "nodes": [
                  {
                    "id": "httpRequest_1",
                    "name": "Apollo Lead Retrieval",
                    "type": "n8n-nodes-base.httpRequest",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "position": [
                      250,
                      300
                    ],
                    "parameters": {
                      "qs": {
                        "page_size": "100",
                        "sort_by_field": "created_at",
                        "sort_ascending": "false"
                      },
                      "url": "https://api.apollo.io/v1/mixed_people/search",
                      "method": "GET",
                      "sendQuery": true,
                      "authentication": "predefinedCredentialType",
                      "queryParameters": {
                        "parameters": [
                          {
                            "name": "page_size",
                            "value": "100"
                          },
                          {
                            "name": "sort_by_field",
                            "value": "created_at"
                          }
                        ]
                      },
                      "nodeCredentialType": "apolloApi"
                    },
                    "typeVersion": 4.2
                  },
                  {
                    "id": "linkedIn_1",
                    "name": "LinkedIn Profile Enrichment",
                    "type": "n8n-nodes-base.linkedIn",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      200
                    ],
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "profile"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "clearbit_1",
                    "name": "Company Data Enrichment",
                    "type": "n8n-nodes-base.clearbit",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      400
                    ],
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "openAi_1",
                    "name": "AI Lead Scoring",
                    "type": "n8n-nodes-base.openAi",
                    "onError": "continueRegularOutput",
                    "position": [
                      850,
                      300
                    ],
                    "parameters": {
                      "model": "gpt-4",
                      "options": {
                        "temperature": 0.3
                      },
                      "messages": {
                        "messages": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                          },
                          {
                            "role": "user",
                            "content": "Lead Data: {{ JSON.stringify($json) }}"
                          }
                        ]
                      },
                      "resource": "chat"
                    },
                    "typeVersion": 1.3
                  },
                  {
                    "id": "if_1",
                    "name": "Lead Score Filter",
                    "type": "n8n-nodes-base.if",
                    "onError": "continueRegularOutput",
                    "position": [
                      1150,
                      300
                    ],
                    "parameters": {
                      "conditions": {
                        "combinator": "and",
                        "conditions": [
                          {
                            "id": "score_threshold",
                            "operator": {
                              "type": "number",
                              "operation": "gte"
                            },
                            "leftValue": "={{ $json.score }}",
                            "rightValue": 70
                          }
                        ]
                      }
                    },
                    "typeVersion": 2
                  },
                  {
                    "id": "gmail_1",
                    "name": "Send Cold Email",
                    "type": "n8n-nodes-base.gmail",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      250
                    ],
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "{{ $json.emailSubject }}",
                      "operation": "send"
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "hubspot_1",
                    "name": "Log Activity in HubSpot",
                    "type": "n8n-nodes-base.hubspot",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      400
                    ],
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "leadScore": "={{ $json.score }}",
                        "leadSource": "Apollo.io",
                        "lastContactDate": "={{ new Date().toISOString() }}"
                      }
                    },
                    "typeVersion": 2
                  },
                  {
                    "id": "scheduleTrigger_1",
                    "name": "Follow-up Reminder Scheduler",
                    "type": "n8n-nodes-base.scheduleTrigger",
                    "onError": "stopWorkflow",
                    "position": [
                      1750,
                      300
                    ],
                    "parameters": {
                      "rule": "interval",
                      "unit": "days",
                      "notice": "",
                      "interval": 5
                    },
                    "typeVersion": 1.2
                  }
                ],
                "settings": {
                  "executionOrder": "v1",
                  "saveManualExecutions": true,
                  "saveDataErrorExecution": "all",
                  "saveDataSuccessExecution": "all"
                },
                "connections": {
                  "AI Lead Scoring": {
                    "main": [
                      [
                        {
                          "node": "Lead Score Filter",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Send Cold Email": {
                    "main": [
                      [
                        {
                          "node": "Follow-up Reminder Scheduler",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Lead Score Filter": {
                    "main": [
                      [
                        {
                          "node": "Send Cold Email",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Log Activity in HubSpot",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Apollo Lead Retrieval": {
                    "main": [
                      [
                        {
                          "node": "LinkedIn Profile Enrichment",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Company Data Enrichment",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Company Data Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "LinkedIn Profile Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  }
                }
              },
              "buildPhases": [
                {
                  "type": "data_collection",
                  "nodeIds": [
                    "httpRequest_1"
                  ],
                  "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "linkedIn_1",
                    "clearbit_1"
                  ],
                  "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "openAi_1"
                  ],
                  "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                },
                {
                  "type": "decision",
                  "nodeIds": [
                    "if_1"
                  ],
                  "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                },
                {
                  "type": "notification",
                  "nodeIds": [
                    "gmail_1",
                    "hubspot_1"
                  ],
                  "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                },
                {
                  "type": "trigger",
                  "nodeIds": [
                    "scheduleTrigger_1"
                  ],
                  "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
                }
              ],
              "operationHistory": [
                {
                  "type": "completePhase",
                  "phase": "discovery",
                  "timestamp": "2025-08-12T12:31:25.605Z"
                },
                {
                  "node": {
                    "id": "task_node_2",
                    "type": "nodes-base.openAi",
                    "config": {
                      "modelId": "gpt-3.5-turbo",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "messages": {
                        "values": [
                          {
                            "role": "user",
                            "content": ""
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message",
                      "retryOnFail": true,
                      "alwaysOutputData": true,
                      "waitBetweenTries": 5000
                    },
                    "purpose": "Send a message to an AI model and get response",
                    "displayName": "chat with ai",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_1",
                    "type": "nodes-base.httpRequest",
                    "config": {
                      "url": "",
                      "method": "GET",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "retryOnFail": true,
                      "authentication": "none",
                      "alwaysOutputData": true,
                      "waitBetweenTries": 1000
                    },
                    "purpose": "Make a simple GET request to retrieve data from an API",
                    "displayName": "get api data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_3",
                    "type": "nodes-base.if",
                    "config": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "string",
                              "operation": "equals"
                            },
                            "leftValue": "",
                            "rightValue": ""
                          }
                        ]
                      }
                    },
                    "purpose": "Filter items based on conditions",
                    "displayName": "filter data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_3",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_1",
                    "type": "nodes-base.linkedIn",
                    "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_2",
                    "type": "nodes-base.clearbit",
                    "purpose": "Enrich leads with comprehensive company data and firmographic information"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_3",
                    "type": "nodes-base.scheduleTrigger",
                    "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_3",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_4",
                    "type": "nodes-base.gmail",
                    "purpose": "Send personalized cold emails and monitor for replies"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_4",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_5",
                    "type": "nodes-base.hubspot",
                    "purpose": "Log lead activity and email interactions in HubSpot CRM"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_5",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "setPhase",
                  "phase": "configuration",
                  "timestamp": "2025-08-12T12:31:43.947Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "AI Lead Scoring - Uses OpenAI to analyze lead data from Apollo.io and LinkedIn enrichment to score leads against ICP criteria for personalized outreach prioritization",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "parameters": {
                      "modelId": "gpt-4",
                      "options": {
                        "maxTokens": 500,
                        "temperature": 0.3
                      },
                      "messages": {
                        "values": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach."
                          },
                          {
                            "role": "user",
                            "content": "Please score this lead based on our ICP criteria:\n\nLead Data:\n- Name: {{ $json.name }}\n- Company: {{ $json.company }}\n- Title: {{ $json.title }}\n- Industry: {{ $json.industry }}\n- Company Size: {{ $json.company_size }}\n- Location: {{ $json.location }}\n- LinkedIn Profile: {{ $json.linkedin_profile }}\n- Company Description: {{ $json.company_description }}\n- Technologies Used: {{ $json.technologies }}\n- Recent Activity: {{ $json.recent_activity }}\n\nICP Criteria:\n- Target Industries: SaaS, Technology, E-commerce\n- Company Size: 50-500 employees\n- Decision Maker Titles: VP, Director, C-Level\n- Geographic Focus: North America, Europe\n- Tech Stack Alignment: Modern web technologies\n\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes."
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message"
                    },
                    "retryOnFail": true,
                    "typeVersion": "1",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "nodeId": "task_node_2",
                  "purpose": "Send a message to an AI model and get response",
                  "nodeType": "nodes-base.openAi",
                  "timestamp": "2025-08-12T12:31:44.187Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_2",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.365Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Retrieve new leads from Apollo.io API - first step in lead enrichment and scoring workflow",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "parameters": {
                      "qs": {
                        "page": "1",
                        "per_page": "25",
                        "q_keywords": "{{ $json.keywords || 'SaaS,software,technology' }}",
                        "person_titles": "{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}",
                        "organization_num_employees_ranges": "{{ $json.companySizeRange || '11,50' }}"
                      },
                      "url": "https://api.apollo.io/v1/people/search",
                      "method": "GET",
                      "headers": {
                        "Content-Type": "application/json",
                        "Cache-Control": "no-cache"
                      },
                      "options": {
                        "timeout": 30000,
                        "response": {
                          "response": {
                            "fullResponse": false,
                            "responseFormat": "json"
                          }
                        }
                      },
                      "authentication": "predefinedCredentialType",
                      "nodeCredentialType": "apolloApi"
                    },
                    "retryOnFail": true,
                    "typeVersion": "1",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "nodeId": "task_node_1",
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "nodeType": "nodes-base.httpRequest",
                  "timestamp": "2025-08-12T12:31:44.365Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.518Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Filter leads based on AI scoring results - only process leads that meet ICP criteria threshold for personalized outreach",
                    "parameters": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "number",
                              "operation": "largerEqual"
                            },
                            "leftValue": "{{ $json.ai_score }}",
                            "rightValue": 7
                          }
                        ]
                      }
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "task_node_3",
                  "purpose": "Filter items based on conditions",
                  "nodeType": "nodes-base.if",
                  "timestamp": "2025-08-12T12:31:44.518Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_3",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.641Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post",
                      "authentication": "standard",
                      "binaryPropertyName": "data"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_1",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
                  "nodeType": "nodes-base.linkedIn",
                  "reasoning": "This configuration sets up LinkedIn enrichment as part of the lead qualification workflow",
                  "timestamp": "2025-08-12T12:31:44.641Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post",
                      "authentication": "standard",
                      "binaryPropertyName": "data"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_1",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
                  "nodeType": "nodes-base.linkedIn",
                  "timestamp": "2025-08-12T12:31:44.760Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.878Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company",
                      "operation": "enrich"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_2",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information",
                  "nodeType": "nodes-base.clearbit",
                  "reasoning": "Configured Clearbit to enrich company data using domain from Apollo.io leads",
                  "timestamp": "2025-08-12T12:31:44.879Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company",
                      "operation": "enrich"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_2",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information",
                  "nodeType": "nodes-base.clearbit",
                  "timestamp": "2025-08-12T12:31:45.055Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_2",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.186Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                    "parameters": {
                      "rule": "interval",
                      "notice": "",
                      "interval": [
                        {
                          "field": "days",
                          "value": 5
                        }
                      ]
                    },
                    "typeVersion": "1.2"
                  },
                  "nodeId": "search_node_3",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
                  "nodeType": "nodes-base.scheduleTrigger",
                  "reasoning": "Configured Schedule Trigger to run every 5 days as specified in the user's requirement for follow-up reminders",
                  "timestamp": "2025-08-12T12:31:45.186Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                    "parameters": {
                      "rule": "interval",
                      "notice": "",
                      "interval": [
                        {
                          "field": "days",
                          "value": 5
                        }
                      ]
                    },
                    "typeVersion": "1.2"
                  },
                  "nodeId": "search_node_3",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
                  "nodeType": "nodes-base.scheduleTrigger",
                  "timestamp": "2025-08-12T12:31:45.389Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_3",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.554Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                      "resource": "message",
                      "emailType": "html",
                      "operation": "send"
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_4",
                  "purpose": "Send personalized cold emails and monitor for replies",
                  "nodeType": "nodes-base.gmail",
                  "reasoning": "Configured Gmail node to send personalized cold emails using the 'message' resource with 'send' operation",
                  "timestamp": "2025-08-12T12:31:45.554Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                      "resource": "message",
                      "emailType": "html",
                      "operation": "send"
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_4",
                  "purpose": "Send personalized cold emails and monitor for replies",
                  "nodeType": "nodes-base.gmail",
                  "timestamp": "2025-08-12T12:31:45.685Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_4",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.809Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "phone": "={{ $json.phone }}",
                        "company": "={{ $json.company }}",
                        "website": "={{ $json.companyWebsite }}",
                        "jobtitle": "={{ $json.jobTitle }}",
                        "lastname": "={{ $json.lastName }}",
                        "firstname": "={{ $json.firstName }}",
                        "lead_source": "Apollo.io",
                        "lead_status": "new",
                        "ai_lead_score": "={{ $json.aiScore }}",
                        "email_campaign": "Cold Outreach",
                        "hs_lead_status": "NEW",
                        "lifecyclestage": "lead",
                        "last_email_sent": "={{ new Date().toISOString() }}",
                        "linkedin_profile": "={{ $json.linkedinProfile }}",
                        "notes_last_contacted": "Initial cold email sent via automated workflow"
                      }
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_5",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM",
                  "nodeType": "nodes-base.hubspot",
                  "reasoning": "Configured HubSpot to upsert contacts, ensuring leads from Apollo.io are properly logged without creating duplicates",
                  "timestamp": "2025-08-12T12:31:45.809Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "phone": "={{ $json.phone }}",
                        "company": "={{ $json.company }}",
                        "website": "={{ $json.companyWebsite }}",
                        "jobtitle": "={{ $json.jobTitle }}",
                        "lastname": "={{ $json.lastName }}",
                        "firstname": "={{ $json.firstName }}",
                        "lead_source": "Apollo.io",
                        "lead_status": "new",
                        "ai_lead_score": "={{ $json.aiScore }}",
                        "email_campaign": "Cold Outreach",
                        "hs_lead_status": "NEW",
                        "lifecyclestage": "lead",
                        "last_email_sent": "={{ new Date().toISOString() }}",
                        "linkedin_profile": "={{ $json.linkedinProfile }}",
                        "notes_last_contacted": "Initial cold email sent via automated workflow"
                      }
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_5",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM",
                  "nodeType": "nodes-base.hubspot",
                  "timestamp": "2025-08-12T12:31:45.995Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_5",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:46.140Z"
                },
                {
                  "type": "completePhase",
                  "phase": "configuration",
                  "timestamp": "2025-08-12T12:31:46.140Z"
                },
                {
                  "type": "setPhase",
                  "phase": "building",
                  "timestamp": "2025-08-12T12:32:18.016Z"
                },
                {
                  "type": "setWorkflow",
                  "workflow": {
                    "name": "Apollo Lead Enrichment & Outreach Automation",
                    "nodes": [
                      {
                        "id": "httpRequest_1",
                        "name": "Apollo Lead Retrieval",
                        "type": "n8n-nodes-base.httpRequest",
                        "onError": "continueRegularOutput",
                        "maxTries": 3,
                        "position": [
                          250,
                          300
                        ],
                        "parameters": {
                          "qs": {
                            "page_size": "100",
                            "sort_by_field": "created_at",
                            "sort_ascending": "false"
                          },
                          "url": "https://api.apollo.io/v1/mixed_people/search",
                          "method": "GET",
                          "sendQuery": true,
                          "authentication": "predefinedCredentialType",
                          "queryParameters": {
                            "parameters": [
                              {
                                "name": "page_size",
                                "value": "100"
                              },
                              {
                                "name": "sort_by_field",
                                "value": "created_at"
                              }
                            ]
                          },
                          "nodeCredentialType": "apolloApi"
                        },
                        "typeVersion": 4.2
                      },
                      {
                        "id": "linkedIn_1",
                        "name": "LinkedIn Profile Enrichment",
                        "type": "n8n-nodes-base.linkedIn",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          200
                        ],
                        "parameters": {
                          "person": "={{ $json.linkedinProfileId || $json.email }}",
                          "postAs": "person",
                          "resource": "profile"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "clearbit_1",
                        "name": "Company Data Enrichment",
                        "type": "n8n-nodes-base.clearbit",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          400
                        ],
                        "parameters": {
                          "domain": "={{ $json.company_domain || $json.domain }}",
                          "resource": "company"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "openAi_1",
                        "name": "AI Lead Scoring",
                        "type": "n8n-nodes-base.openAi",
                        "onError": "continueRegularOutput",
                        "position": [
                          850,
                          300
                        ],
                        "parameters": {
                          "model": "gpt-4",
                          "options": {
                            "temperature": 0.3
                          },
                          "messages": {
                            "messages": [
                              {
                                "role": "system",
                                "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                              },
                              {
                                "role": "user",
                                "content": "Lead Data: {{ JSON.stringify($json) }}"
                              }
                            ]
                          },
                          "resource": "chat"
                        },
                        "typeVersion": 1.3
                      },
                      {
                        "id": "if_1",
                        "name": "Lead Score Filter",
                        "type": "n8n-nodes-base.if",
                        "onError": "continueRegularOutput",
                        "position": [
                          1150,
                          300
                        ],
                        "parameters": {
                          "conditions": {
                            "combinator": "and",
                            "conditions": [
                              {
                                "id": "score_threshold",
                                "operator": {
                                  "type": "number",
                                  "operation": "gte"
                                },
                                "leftValue": "={{ $json.score }}",
                                "rightValue": 70
                              }
                            ]
                          }
                        },
                        "typeVersion": 2
                      },
                      {
                        "id": "gmail_1",
                        "name": "Send Cold Email",
                        "type": "n8n-nodes-base.gmail",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          250
                        ],
                        "parameters": {
                          "sendTo": "={{ $json.email }}",
                          "message": "={{ $json.personalizedEmail }}",
                          "subject": "{{ $json.emailSubject }}",
                          "operation": "send"
                        },
                        "typeVersion": 2.1
                      },
                      {
                        "id": "hubspot_1",
                        "name": "Log Activity in HubSpot",
                        "type": "n8n-nodes-base.hubspot",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          400
                        ],
                        "parameters": {
                          "email": "={{ $json.email }}",
                          "resource": "contact",
                          "operation": "upsert",
                          "additionalFields": {
                            "leadScore": "={{ $json.score }}",
                            "leadSource": "Apollo.io",
                            "lastContactDate": "={{ new Date().toISOString() }}"
                          }
                        },
                        "typeVersion": 2
                      },
                      {
                        "id": "scheduleTrigger_1",
                        "name": "Follow-up Reminder Scheduler",
                        "type": "n8n-nodes-base.scheduleTrigger",
                        "onError": "stopWorkflow",
                        "position": [
                          1750,
                          300
                        ],
                        "parameters": {
                          "rule": "interval",
                          "unit": "days",
                          "notice": "",
                          "interval": 5
                        },
                        "typeVersion": 1.2
                      }
                    ],
                    "settings": {
                      "executionOrder": "v1",
                      "saveManualExecutions": true,
                      "saveDataErrorExecution": "all",
                      "saveDataSuccessExecution": "all"
                    },
                    "connections": {
                      "AI Lead Scoring": {
                        "main": [
                          [
                            {
                              "node": "Lead Score Filter",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Send Cold Email": {
                        "main": [
                          [
                            {
                              "node": "Follow-up Reminder Scheduler",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Lead Score Filter": {
                        "main": [
                          [
                            {
                              "node": "Send Cold Email",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Log Activity in HubSpot",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Apollo Lead Retrieval": {
                        "main": [
                          [
                            {
                              "node": "LinkedIn Profile Enrichment",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Company Data Enrichment",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Company Data Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "LinkedIn Profile Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      }
                    }
                  },
                  "timestamp": "2025-08-12T12:32:18.249Z"
                },
                {
                  "type": "setBuildPhases",
                  "phases": [
                    {
                      "type": "data_collection",
                      "nodeIds": [
                        "httpRequest_1"
                      ],
                      "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                    },
                    {
                      "type": "data_processing",
                      "nodeIds": [
                        "linkedIn_1",
                        "clearbit_1"
                      ],
                      "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
                    },
                    {
                      "type": "data_processing",
                      "nodeIds": [
                        "openAi_1"
                      ],
                      "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                    },
                    {
                      "type": "decision",
                      "nodeIds": [
                        "if_1"
                      ],
                      "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                    },
                    {
                      "type": "notification",
                      "nodeIds": [
                        "gmail_1",
                        "hubspot_1"
                      ],
                      "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                    },
                    {
                      "type": "trigger",
                      "nodeIds": [
                        "scheduleTrigger_1"
                      ],
                      "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
                    }
                  ],
                  "timestamp": "2025-08-12T12:32:18.250Z"
                },
                {
                  "type": "completePhase",
                  "phase": "building",
                  "timestamp": "2025-08-12T12:32:18.250Z"
                }
              ],
              "pendingClarifications": [],
              "clarificationHistory": []
            },
            "new": {
              "phase": "documentation",
              "userPrompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days",
              "discovered": [
                {
                  "id": "task_node_2",
                  "type": "nodes-base.openAi",
                  "config": {
                    "modelId": "gpt-3.5-turbo",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "messages": {
                      "values": [
                        {
                          "role": "user",
                          "content": ""
                        }
                      ]
                    },
                    "resource": "chat",
                    "operation": "message",
                    "retryOnFail": true,
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "purpose": "Send a message to an AI model and get response",
                  "displayName": "chat with ai",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_1",
                  "type": "nodes-base.httpRequest",
                  "config": {
                    "url": "",
                    "method": "GET",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "retryOnFail": true,
                    "authentication": "none",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "displayName": "get api data",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_3",
                  "type": "nodes-base.if",
                  "config": {
                    "conditions": {
                      "conditions": [
                        {
                          "operator": {
                            "type": "string",
                            "operation": "equals"
                          },
                          "leftValue": "",
                          "rightValue": ""
                        }
                      ]
                    }
                  },
                  "purpose": "Filter items based on conditions",
                  "displayName": "filter data",
                  "isPreConfigured": true
                },
                {
                  "id": "search_node_1",
                  "type": "nodes-base.linkedIn",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                },
                {
                  "id": "search_node_2",
                  "type": "nodes-base.clearbit",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information"
                },
                {
                  "id": "search_node_3",
                  "type": "nodes-base.scheduleTrigger",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                },
                {
                  "id": "search_node_4",
                  "type": "nodes-base.gmail",
                  "purpose": "Send personalized cold emails and monitor for replies"
                },
                {
                  "id": "search_node_5",
                  "type": "nodes-base.hubspot",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM"
                }
              ],
              "selected": [
                "task_node_2",
                "task_node_1",
                "task_node_3",
                "search_node_1",
                "search_node_2",
                "search_node_3",
                "search_node_4",
                "search_node_5"
              ],
              "configured": {},
              "validated": {},
              "workflow": {
                "name": "Apollo Lead Enrichment & Outreach Automation",
                "nodes": [
                  {
                    "id": "httpRequest_1",
                    "name": "Apollo Lead Retrieval",
                    "type": "n8n-nodes-base.httpRequest",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "position": [
                      250,
                      300
                    ],
                    "parameters": {
                      "qs": {
                        "page_size": "100",
                        "sort_by_field": "created_at",
                        "sort_ascending": "false"
                      },
                      "url": "https://api.apollo.io/v1/mixed_people/search",
                      "method": "GET",
                      "sendQuery": true,
                      "authentication": "predefinedCredentialType",
                      "queryParameters": {
                        "parameters": [
                          {
                            "name": "page_size",
                            "value": "100"
                          },
                          {
                            "name": "sort_by_field",
                            "value": "created_at"
                          }
                        ]
                      },
                      "nodeCredentialType": "apolloApi"
                    },
                    "typeVersion": 4.2
                  },
                  {
                    "id": "linkedIn_1",
                    "name": "LinkedIn Profile Enrichment",
                    "type": "n8n-nodes-base.linkedIn",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      200
                    ],
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "clearbit_1",
                    "name": "Company Data Enrichment",
                    "type": "n8n-nodes-base.clearbit",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      400
                    ],
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "openAi_1",
                    "name": "AI Lead Scoring",
                    "type": "n8n-nodes-base.openAi",
                    "onError": "continueRegularOutput",
                    "position": [
                      850,
                      300
                    ],
                    "parameters": {
                      "model": "gpt-4",
                      "options": {
                        "temperature": 0.3
                      },
                      "messages": {
                        "messages": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                          },
                          {
                            "role": "user",
                            "content": "Lead Data: {{ JSON.stringify($json) }}"
                          }
                        ]
                      },
                      "resource": "chat"
                    },
                    "typeVersion": 1.1
                  },
                  {
                    "id": "if_1",
                    "name": "Lead Score Filter",
                    "type": "n8n-nodes-base.if",
                    "onError": "continueRegularOutput",
                    "position": [
                      1150,
                      300
                    ],
                    "parameters": {
                      "conditions": {
                        "combinator": "and",
                        "conditions": [
                          {
                            "id": "score_threshold",
                            "operator": {
                              "type": "number",
                              "operation": "gte"
                            },
                            "leftValue": "={{ $json.score }}",
                            "rightValue": 70
                          }
                        ]
                      }
                    },
                    "typeVersion": 2.2
                  },
                  {
                    "id": "gmail_1",
                    "name": "Send Cold Email",
                    "type": "n8n-nodes-base.gmail",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      250
                    ],
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "{{ $json.emailSubject }}",
                      "operation": "send"
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "hubspot_1",
                    "name": "Log Activity in HubSpot",
                    "type": "n8n-nodes-base.hubspot",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      400
                    ],
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "leadScore": "={{ $json.score }}",
                        "leadSource": "Apollo.io",
                        "lastContactDate": "={{ new Date().toISOString() }}"
                      }
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "scheduleTrigger_1",
                    "name": "Follow-up Reminder Scheduler",
                    "type": "n8n-nodes-base.scheduleTrigger",
                    "onError": "stopWorkflow",
                    "position": [
                      1750,
                      300
                    ],
                    "parameters": {
                      "rule": "interval",
                      "unit": "days",
                      "notice": "",
                      "interval": 5
                    },
                    "typeVersion": 1.2
                  }
                ],
                "valid": true,
                "settings": {
                  "executionOrder": "v1",
                  "saveManualExecutions": true,
                  "saveDataErrorExecution": "all",
                  "saveDataSuccessExecution": "all"
                },
                "connections": {
                  "AI Lead Scoring": {
                    "main": [
                      [
                        {
                          "node": "Lead Score Filter",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Send Cold Email": {
                    "main": [
                      [
                        {
                          "node": "Follow-up Reminder Scheduler",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Lead Score Filter": {
                    "main": [
                      [
                        {
                          "node": "Send Cold Email",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Log Activity in HubSpot",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Apollo Lead Retrieval": {
                    "main": [
                      [
                        {
                          "node": "LinkedIn Profile Enrichment",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Company Data Enrichment",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Company Data Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "LinkedIn Profile Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  }
                }
              },
              "buildPhases": [
                {
                  "type": "data_collection",
                  "nodeIds": [
                    "httpRequest_1"
                  ],
                  "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "linkedIn_1",
                    "clearbit_1"
                  ],
                  "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "openAi_1"
                  ],
                  "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                },
                {
                  "type": "decision",
                  "nodeIds": [
                    "if_1"
                  ],
                  "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                },
                {
                  "type": "notification",
                  "nodeIds": [
                    "gmail_1",
                    "hubspot_1"
                  ],
                  "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                },
                {
                  "type": "trigger",
                  "nodeIds": [
                    "scheduleTrigger_1"
                  ],
                  "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
                }
              ],
              "operationHistory": [
                {
                  "type": "completePhase",
                  "phase": "discovery",
                  "timestamp": "2025-08-12T12:31:25.605Z"
                },
                {
                  "node": {
                    "id": "task_node_2",
                    "type": "nodes-base.openAi",
                    "config": {
                      "modelId": "gpt-3.5-turbo",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "messages": {
                        "values": [
                          {
                            "role": "user",
                            "content": ""
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message",
                      "retryOnFail": true,
                      "alwaysOutputData": true,
                      "waitBetweenTries": 5000
                    },
                    "purpose": "Send a message to an AI model and get response",
                    "displayName": "chat with ai",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_1",
                    "type": "nodes-base.httpRequest",
                    "config": {
                      "url": "",
                      "method": "GET",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "retryOnFail": true,
                      "authentication": "none",
                      "alwaysOutputData": true,
                      "waitBetweenTries": 1000
                    },
                    "purpose": "Make a simple GET request to retrieve data from an API",
                    "displayName": "get api data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_3",
                    "type": "nodes-base.if",
                    "config": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "string",
                              "operation": "equals"
                            },
                            "leftValue": "",
                            "rightValue": ""
                          }
                        ]
                      }
                    },
                    "purpose": "Filter items based on conditions",
                    "displayName": "filter data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_3",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_1",
                    "type": "nodes-base.linkedIn",
                    "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_2",
                    "type": "nodes-base.clearbit",
                    "purpose": "Enrich leads with comprehensive company data and firmographic information"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_3",
                    "type": "nodes-base.scheduleTrigger",
                    "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_3",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_4",
                    "type": "nodes-base.gmail",
                    "purpose": "Send personalized cold emails and monitor for replies"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_4",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_5",
                    "type": "nodes-base.hubspot",
                    "purpose": "Log lead activity and email interactions in HubSpot CRM"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_5",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "setPhase",
                  "phase": "configuration",
                  "timestamp": "2025-08-12T12:31:43.947Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "AI Lead Scoring - Uses OpenAI to analyze lead data from Apollo.io and LinkedIn enrichment to score leads against ICP criteria for personalized outreach prioritization",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "parameters": {
                      "modelId": "gpt-4",
                      "options": {
                        "maxTokens": 500,
                        "temperature": 0.3
                      },
                      "messages": {
                        "values": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach."
                          },
                          {
                            "role": "user",
                            "content": "Please score this lead based on our ICP criteria:\n\nLead Data:\n- Name: {{ $json.name }}\n- Company: {{ $json.company }}\n- Title: {{ $json.title }}\n- Industry: {{ $json.industry }}\n- Company Size: {{ $json.company_size }}\n- Location: {{ $json.location }}\n- LinkedIn Profile: {{ $json.linkedin_profile }}\n- Company Description: {{ $json.company_description }}\n- Technologies Used: {{ $json.technologies }}\n- Recent Activity: {{ $json.recent_activity }}\n\nICP Criteria:\n- Target Industries: SaaS, Technology, E-commerce\n- Company Size: 50-500 employees\n- Decision Maker Titles: VP, Director, C-Level\n- Geographic Focus: North America, Europe\n- Tech Stack Alignment: Modern web technologies\n\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes."
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message"
                    },
                    "retryOnFail": true,
                    "typeVersion": "1",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "nodeId": "task_node_2",
                  "purpose": "Send a message to an AI model and get response",
                  "nodeType": "nodes-base.openAi",
                  "timestamp": "2025-08-12T12:31:44.187Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_2",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.365Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Retrieve new leads from Apollo.io API - first step in lead enrichment and scoring workflow",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "parameters": {
                      "qs": {
                        "page": "1",
                        "per_page": "25",
                        "q_keywords": "{{ $json.keywords || 'SaaS,software,technology' }}",
                        "person_titles": "{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}",
                        "organization_num_employees_ranges": "{{ $json.companySizeRange || '11,50' }}"
                      },
                      "url": "https://api.apollo.io/v1/people/search",
                      "method": "GET",
                      "headers": {
                        "Content-Type": "application/json",
                        "Cache-Control": "no-cache"
                      },
                      "options": {
                        "timeout": 30000,
                        "response": {
                          "response": {
                            "fullResponse": false,
                            "responseFormat": "json"
                          }
                        }
                      },
                      "authentication": "predefinedCredentialType",
                      "nodeCredentialType": "apolloApi"
                    },
                    "retryOnFail": true,
                    "typeVersion": "1",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "nodeId": "task_node_1",
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "nodeType": "nodes-base.httpRequest",
                  "timestamp": "2025-08-12T12:31:44.365Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.518Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Filter leads based on AI scoring results - only process leads that meet ICP criteria threshold for personalized outreach",
                    "parameters": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "number",
                              "operation": "largerEqual"
                            },
                            "leftValue": "{{ $json.ai_score }}",
                            "rightValue": 7
                          }
                        ]
                      }
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "task_node_3",
                  "purpose": "Filter items based on conditions",
                  "nodeType": "nodes-base.if",
                  "timestamp": "2025-08-12T12:31:44.518Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_3",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.641Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post",
                      "authentication": "standard",
                      "binaryPropertyName": "data"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_1",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
                  "nodeType": "nodes-base.linkedIn",
                  "reasoning": "This configuration sets up LinkedIn enrichment as part of the lead qualification workflow",
                  "timestamp": "2025-08-12T12:31:44.641Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post",
                      "authentication": "standard",
                      "binaryPropertyName": "data"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_1",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
                  "nodeType": "nodes-base.linkedIn",
                  "timestamp": "2025-08-12T12:31:44.760Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.878Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company",
                      "operation": "enrich"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_2",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information",
                  "nodeType": "nodes-base.clearbit",
                  "reasoning": "Configured Clearbit to enrich company data using domain from Apollo.io leads",
                  "timestamp": "2025-08-12T12:31:44.879Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company",
                      "operation": "enrich"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_2",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information",
                  "nodeType": "nodes-base.clearbit",
                  "timestamp": "2025-08-12T12:31:45.055Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_2",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.186Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                    "parameters": {
                      "rule": "interval",
                      "notice": "",
                      "interval": [
                        {
                          "field": "days",
                          "value": 5
                        }
                      ]
                    },
                    "typeVersion": "1.2"
                  },
                  "nodeId": "search_node_3",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
                  "nodeType": "nodes-base.scheduleTrigger",
                  "reasoning": "Configured Schedule Trigger to run every 5 days as specified in the user's requirement for follow-up reminders",
                  "timestamp": "2025-08-12T12:31:45.186Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                    "parameters": {
                      "rule": "interval",
                      "notice": "",
                      "interval": [
                        {
                          "field": "days",
                          "value": 5
                        }
                      ]
                    },
                    "typeVersion": "1.2"
                  },
                  "nodeId": "search_node_3",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
                  "nodeType": "nodes-base.scheduleTrigger",
                  "timestamp": "2025-08-12T12:31:45.389Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_3",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.554Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                      "resource": "message",
                      "emailType": "html",
                      "operation": "send"
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_4",
                  "purpose": "Send personalized cold emails and monitor for replies",
                  "nodeType": "nodes-base.gmail",
                  "reasoning": "Configured Gmail node to send personalized cold emails using the 'message' resource with 'send' operation",
                  "timestamp": "2025-08-12T12:31:45.554Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                      "resource": "message",
                      "emailType": "html",
                      "operation": "send"
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_4",
                  "purpose": "Send personalized cold emails and monitor for replies",
                  "nodeType": "nodes-base.gmail",
                  "timestamp": "2025-08-12T12:31:45.685Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_4",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.809Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "phone": "={{ $json.phone }}",
                        "company": "={{ $json.company }}",
                        "website": "={{ $json.companyWebsite }}",
                        "jobtitle": "={{ $json.jobTitle }}",
                        "lastname": "={{ $json.lastName }}",
                        "firstname": "={{ $json.firstName }}",
                        "lead_source": "Apollo.io",
                        "lead_status": "new",
                        "ai_lead_score": "={{ $json.aiScore }}",
                        "email_campaign": "Cold Outreach",
                        "hs_lead_status": "NEW",
                        "lifecyclestage": "lead",
                        "last_email_sent": "={{ new Date().toISOString() }}",
                        "linkedin_profile": "={{ $json.linkedinProfile }}",
                        "notes_last_contacted": "Initial cold email sent via automated workflow"
                      }
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_5",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM",
                  "nodeType": "nodes-base.hubspot",
                  "reasoning": "Configured HubSpot to upsert contacts, ensuring leads from Apollo.io are properly logged without creating duplicates",
                  "timestamp": "2025-08-12T12:31:45.809Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "phone": "={{ $json.phone }}",
                        "company": "={{ $json.company }}",
                        "website": "={{ $json.companyWebsite }}",
                        "jobtitle": "={{ $json.jobTitle }}",
                        "lastname": "={{ $json.lastName }}",
                        "firstname": "={{ $json.firstName }}",
                        "lead_source": "Apollo.io",
                        "lead_status": "new",
                        "ai_lead_score": "={{ $json.aiScore }}",
                        "email_campaign": "Cold Outreach",
                        "hs_lead_status": "NEW",
                        "lifecyclestage": "lead",
                        "last_email_sent": "={{ new Date().toISOString() }}",
                        "linkedin_profile": "={{ $json.linkedinProfile }}",
                        "notes_last_contacted": "Initial cold email sent via automated workflow"
                      }
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_5",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM",
                  "nodeType": "nodes-base.hubspot",
                  "timestamp": "2025-08-12T12:31:45.995Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_5",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:46.140Z"
                },
                {
                  "type": "completePhase",
                  "phase": "configuration",
                  "timestamp": "2025-08-12T12:31:46.140Z"
                },
                {
                  "type": "setPhase",
                  "phase": "building",
                  "timestamp": "2025-08-12T12:32:18.016Z"
                },
                {
                  "type": "setWorkflow",
                  "workflow": {
                    "name": "Apollo Lead Enrichment & Outreach Automation",
                    "nodes": [
                      {
                        "id": "httpRequest_1",
                        "name": "Apollo Lead Retrieval",
                        "type": "n8n-nodes-base.httpRequest",
                        "onError": "continueRegularOutput",
                        "maxTries": 3,
                        "position": [
                          250,
                          300
                        ],
                        "parameters": {
                          "qs": {
                            "page_size": "100",
                            "sort_by_field": "created_at",
                            "sort_ascending": "false"
                          },
                          "url": "https://api.apollo.io/v1/mixed_people/search",
                          "method": "GET",
                          "sendQuery": true,
                          "authentication": "predefinedCredentialType",
                          "queryParameters": {
                            "parameters": [
                              {
                                "name": "page_size",
                                "value": "100"
                              },
                              {
                                "name": "sort_by_field",
                                "value": "created_at"
                              }
                            ]
                          },
                          "nodeCredentialType": "apolloApi"
                        },
                        "typeVersion": 4.2
                      },
                      {
                        "id": "linkedIn_1",
                        "name": "LinkedIn Profile Enrichment",
                        "type": "n8n-nodes-base.linkedIn",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          200
                        ],
                        "parameters": {
                          "person": "={{ $json.linkedinProfileId || $json.email }}",
                          "postAs": "person",
                          "resource": "profile"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "clearbit_1",
                        "name": "Company Data Enrichment",
                        "type": "n8n-nodes-base.clearbit",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          400
                        ],
                        "parameters": {
                          "domain": "={{ $json.company_domain || $json.domain }}",
                          "resource": "company"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "openAi_1",
                        "name": "AI Lead Scoring",
                        "type": "n8n-nodes-base.openAi",
                        "onError": "continueRegularOutput",
                        "position": [
                          850,
                          300
                        ],
                        "parameters": {
                          "model": "gpt-4",
                          "options": {
                            "temperature": 0.3
                          },
                          "messages": {
                            "messages": [
                              {
                                "role": "system",
                                "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                              },
                              {
                                "role": "user",
                                "content": "Lead Data: {{ JSON.stringify($json) }}"
                              }
                            ]
                          },
                          "resource": "chat"
                        },
                        "typeVersion": 1.3
                      },
                      {
                        "id": "if_1",
                        "name": "Lead Score Filter",
                        "type": "n8n-nodes-base.if",
                        "onError": "continueRegularOutput",
                        "position": [
                          1150,
                          300
                        ],
                        "parameters": {
                          "conditions": {
                            "combinator": "and",
                            "conditions": [
                              {
                                "id": "score_threshold",
                                "operator": {
                                  "type": "number",
                                  "operation": "gte"
                                },
                                "leftValue": "={{ $json.score }}",
                                "rightValue": 70
                              }
                            ]
                          }
                        },
                        "typeVersion": 2
                      },
                      {
                        "id": "gmail_1",
                        "name": "Send Cold Email",
                        "type": "n8n-nodes-base.gmail",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          250
                        ],
                        "parameters": {
                          "sendTo": "={{ $json.email }}",
                          "message": "={{ $json.personalizedEmail }}",
                          "subject": "{{ $json.emailSubject }}",
                          "operation": "send"
                        },
                        "typeVersion": 2.1
                      },
                      {
                        "id": "hubspot_1",
                        "name": "Log Activity in HubSpot",
                        "type": "n8n-nodes-base.hubspot",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          400
                        ],
                        "parameters": {
                          "email": "={{ $json.email }}",
                          "resource": "contact",
                          "operation": "upsert",
                          "additionalFields": {
                            "leadScore": "={{ $json.score }}",
                            "leadSource": "Apollo.io",
                            "lastContactDate": "={{ new Date().toISOString() }}"
                          }
                        },
                        "typeVersion": 2
                      },
                      {
                        "id": "scheduleTrigger_1",
                        "name": "Follow-up Reminder Scheduler",
                        "type": "n8n-nodes-base.scheduleTrigger",
                        "onError": "stopWorkflow",
                        "position": [
                          1750,
                          300
                        ],
                        "parameters": {
                          "rule": "interval",
                          "unit": "days",
                          "notice": "",
                          "interval": 5
                        },
                        "typeVersion": 1.2
                      }
                    ],
                    "settings": {
                      "executionOrder": "v1",
                      "saveManualExecutions": true,
                      "saveDataErrorExecution": "all",
                      "saveDataSuccessExecution": "all"
                    },
                    "connections": {
                      "AI Lead Scoring": {
                        "main": [
                          [
                            {
                              "node": "Lead Score Filter",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Send Cold Email": {
                        "main": [
                          [
                            {
                              "node": "Follow-up Reminder Scheduler",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Lead Score Filter": {
                        "main": [
                          [
                            {
                              "node": "Send Cold Email",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Log Activity in HubSpot",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Apollo Lead Retrieval": {
                        "main": [
                          [
                            {
                              "node": "LinkedIn Profile Enrichment",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Company Data Enrichment",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Company Data Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "LinkedIn Profile Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      }
                    }
                  },
                  "timestamp": "2025-08-12T12:32:18.249Z"
                },
                {
                  "type": "setBuildPhases",
                  "phases": [
                    {
                      "type": "data_collection",
                      "nodeIds": [
                        "httpRequest_1"
                      ],
                      "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                    },
                    {
                      "type": "data_processing",
                      "nodeIds": [
                        "linkedIn_1",
                        "clearbit_1"
                      ],
                      "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
                    },
                    {
                      "type": "data_processing",
                      "nodeIds": [
                        "openAi_1"
                      ],
                      "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                    },
                    {
                      "type": "decision",
                      "nodeIds": [
                        "if_1"
                      ],
                      "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                    },
                    {
                      "type": "notification",
                      "nodeIds": [
                        "gmail_1",
                        "hubspot_1"
                      ],
                      "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                    },
                    {
                      "type": "trigger",
                      "nodeIds": [
                        "scheduleTrigger_1"
                      ],
                      "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
                    }
                  ],
                  "timestamp": "2025-08-12T12:32:18.250Z"
                },
                {
                  "type": "completePhase",
                  "phase": "building",
                  "timestamp": "2025-08-12T12:32:18.250Z"
                },
                {
                  "type": "setPhase",
                  "phase": "validation",
                  "timestamp": "2025-08-12T12:32:27.308Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "linkedIn_1",
                  "result": {
                    "valid": false,
                    "errors": [
                      "Node replaced entirely"
                    ]
                  },
                  "attempt": 1,
                  "reasoning": "Node replaced to fix validation errors",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "openAi_1",
                  "result": {
                    "valid": false,
                    "errors": [
                      "Node replaced entirely"
                    ]
                  },
                  "attempt": 1,
                  "reasoning": "Node replaced to fix validation errors",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "if_1",
                  "result": {
                    "valid": false,
                    "errors": [
                      "Node replaced entirely"
                    ]
                  },
                  "attempt": 1,
                  "reasoning": "Node replaced to fix validation errors",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "hubspot_1",
                  "result": {
                    "valid": false,
                    "errors": [
                      "Node replaced entirely"
                    ]
                  },
                  "attempt": 1,
                  "reasoning": "Node replaced to fix validation errors",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "httpRequest_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "linkedIn_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "clearbit_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "openAi_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "if_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "gmail_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "hubspot_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.786Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "scheduleTrigger_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.786Z"
                },
                {
                  "type": "setWorkflow",
                  "workflow": {
                    "name": "Apollo Lead Enrichment & Outreach Automation",
                    "nodes": [
                      {
                        "id": "httpRequest_1",
                        "name": "Apollo Lead Retrieval",
                        "type": "n8n-nodes-base.httpRequest",
                        "onError": "continueRegularOutput",
                        "maxTries": 3,
                        "position": [
                          250,
                          300
                        ],
                        "parameters": {
                          "qs": {
                            "page_size": "100",
                            "sort_by_field": "created_at",
                            "sort_ascending": "false"
                          },
                          "url": "https://api.apollo.io/v1/mixed_people/search",
                          "method": "GET",
                          "sendQuery": true,
                          "authentication": "predefinedCredentialType",
                          "queryParameters": {
                            "parameters": [
                              {
                                "name": "page_size",
                                "value": "100"
                              },
                              {
                                "name": "sort_by_field",
                                "value": "created_at"
                              }
                            ]
                          },
                          "nodeCredentialType": "apolloApi"
                        },
                        "typeVersion": 4.2
                      },
                      {
                        "id": "linkedIn_1",
                        "name": "LinkedIn Profile Enrichment",
                        "type": "n8n-nodes-base.linkedIn",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          200
                        ],
                        "parameters": {
                          "person": "={{ $json.linkedinProfileId || $json.email }}",
                          "postAs": "person",
                          "resource": "post"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "clearbit_1",
                        "name": "Company Data Enrichment",
                        "type": "n8n-nodes-base.clearbit",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          400
                        ],
                        "parameters": {
                          "domain": "={{ $json.company_domain || $json.domain }}",
                          "resource": "company"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "openAi_1",
                        "name": "AI Lead Scoring",
                        "type": "n8n-nodes-base.openAi",
                        "onError": "continueRegularOutput",
                        "position": [
                          850,
                          300
                        ],
                        "parameters": {
                          "model": "gpt-4",
                          "options": {
                            "temperature": 0.3
                          },
                          "messages": {
                            "messages": [
                              {
                                "role": "system",
                                "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                              },
                              {
                                "role": "user",
                                "content": "Lead Data: {{ JSON.stringify($json) }}"
                              }
                            ]
                          },
                          "resource": "chat"
                        },
                        "typeVersion": 1.1
                      },
                      {
                        "id": "if_1",
                        "name": "Lead Score Filter",
                        "type": "n8n-nodes-base.if",
                        "onError": "continueRegularOutput",
                        "position": [
                          1150,
                          300
                        ],
                        "parameters": {
                          "conditions": {
                            "combinator": "and",
                            "conditions": [
                              {
                                "id": "score_threshold",
                                "operator": {
                                  "type": "number",
                                  "operation": "gte"
                                },
                                "leftValue": "={{ $json.score }}",
                                "rightValue": 70
                              }
                            ]
                          }
                        },
                        "typeVersion": 2.2
                      },
                      {
                        "id": "gmail_1",
                        "name": "Send Cold Email",
                        "type": "n8n-nodes-base.gmail",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          250
                        ],
                        "parameters": {
                          "sendTo": "={{ $json.email }}",
                          "message": "={{ $json.personalizedEmail }}",
                          "subject": "{{ $json.emailSubject }}",
                          "operation": "send"
                        },
                        "typeVersion": 2.1
                      },
                      {
                        "id": "hubspot_1",
                        "name": "Log Activity in HubSpot",
                        "type": "n8n-nodes-base.hubspot",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          400
                        ],
                        "parameters": {
                          "email": "={{ $json.email }}",
                          "resource": "contact",
                          "operation": "upsert",
                          "additionalFields": {
                            "leadScore": "={{ $json.score }}",
                            "leadSource": "Apollo.io",
                            "lastContactDate": "={{ new Date().toISOString() }}"
                          }
                        },
                        "typeVersion": 2.1
                      },
                      {
                        "id": "scheduleTrigger_1",
                        "name": "Follow-up Reminder Scheduler",
                        "type": "n8n-nodes-base.scheduleTrigger",
                        "onError": "stopWorkflow",
                        "position": [
                          1750,
                          300
                        ],
                        "parameters": {
                          "rule": "interval",
                          "unit": "days",
                          "notice": "",
                          "interval": 5
                        },
                        "typeVersion": 1.2
                      }
                    ],
                    "valid": true,
                    "settings": {
                      "executionOrder": "v1",
                      "saveManualExecutions": true,
                      "saveDataErrorExecution": "all",
                      "saveDataSuccessExecution": "all"
                    },
                    "connections": {
                      "AI Lead Scoring": {
                        "main": [
                          [
                            {
                              "node": "Lead Score Filter",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Send Cold Email": {
                        "main": [
                          [
                            {
                              "node": "Follow-up Reminder Scheduler",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Lead Score Filter": {
                        "main": [
                          [
                            {
                              "node": "Send Cold Email",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Log Activity in HubSpot",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Apollo Lead Retrieval": {
                        "main": [
                          [
                            {
                              "node": "LinkedIn Profile Enrichment",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Company Data Enrichment",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Company Data Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "LinkedIn Profile Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      }
                    }
                  },
                  "timestamp": "2025-08-12T12:32:27.786Z"
                },
                {
                  "type": "completePhase",
                  "phase": "validation",
                  "timestamp": "2025-08-12T12:32:27.786Z"
                }
              ],
              "pendingClarifications": [],
              "clarificationHistory": []
            }
          }
        },
        "removed": [],
        "unchanged": [
          "sessionId",
          "createdAt"
        ]
      }
    },
    "documentation": {
      "name": "Documentation",
      "success": true,
      "metrics": {
        "startTime": 1755001948208,
        "endTime": 1755001948891,
        "duration": 683,
        "memoryUsage": {
          "heapUsed": 605488,
          "heapTotal": 41959424,
          "external": 7267288
        }
      },
      "logs": [
        {
          "timestamp": "2025-08-12T12:32:28.208Z",
          "level": "INFO",
          "source": "Orchestrator",
          "message": "Starting documentation phase"
        },
        {
          "timestamp": "2025-08-12T12:32:28.208Z",
          "level": "DEBUG",
          "source": "Claude",
          "message": "Sending request for documentation phase"
        },
        {
          "timestamp": "2025-08-12T12:32:28.755Z",
          "level": "INFO",
          "source": "Orchestrator",
          "message": "Added 4 sticky notes for documentation"
        },
        {
          "timestamp": "2025-08-12T12:32:28.891Z",
          "level": "DEBUG",
          "source": "Orchestrator",
          "message": "Session state updated"
        },
        {
          "timestamp": "2025-08-12T12:32:28.891Z",
          "level": "INFO",
          "source": "Orchestrator",
          "message": "Data flow captured: 3 transformations"
        }
      ],
      "nodes": [],
      "sessionState": {
        "sessionId": "complete_e2e_user_test_1755001859878",
        "createdAt": "2025-08-12T12:31:00.377Z",
        "state": {
          "phase": "complete",
          "userPrompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days",
          "discovered": [
            {
              "id": "task_node_2",
              "type": "nodes-base.openAi",
              "config": {
                "modelId": "gpt-3.5-turbo",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "messages": {
                  "values": [
                    {
                      "role": "user",
                      "content": ""
                    }
                  ]
                },
                "resource": "chat",
                "operation": "message",
                "retryOnFail": true,
                "alwaysOutputData": true,
                "waitBetweenTries": 5000
              },
              "purpose": "Send a message to an AI model and get response",
              "displayName": "chat with ai",
              "isPreConfigured": true
            },
            {
              "id": "task_node_1",
              "type": "nodes-base.httpRequest",
              "config": {
                "url": "",
                "method": "GET",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "retryOnFail": true,
                "authentication": "none",
                "alwaysOutputData": true,
                "waitBetweenTries": 1000
              },
              "purpose": "Make a simple GET request to retrieve data from an API",
              "displayName": "get api data",
              "isPreConfigured": true
            },
            {
              "id": "task_node_3",
              "type": "nodes-base.if",
              "config": {
                "conditions": {
                  "conditions": [
                    {
                      "operator": {
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "",
                      "rightValue": ""
                    }
                  ]
                }
              },
              "purpose": "Filter items based on conditions",
              "displayName": "filter data",
              "isPreConfigured": true
            },
            {
              "id": "search_node_1",
              "type": "nodes-base.linkedIn",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
            },
            {
              "id": "search_node_2",
              "type": "nodes-base.clearbit",
              "purpose": "Enrich leads with comprehensive company data and firmographic information"
            },
            {
              "id": "search_node_3",
              "type": "nodes-base.scheduleTrigger",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
            },
            {
              "id": "search_node_4",
              "type": "nodes-base.gmail",
              "purpose": "Send personalized cold emails and monitor for replies"
            },
            {
              "id": "search_node_5",
              "type": "nodes-base.hubspot",
              "purpose": "Log lead activity and email interactions in HubSpot CRM"
            }
          ],
          "selected": [
            "task_node_2",
            "task_node_1",
            "task_node_3",
            "search_node_1",
            "search_node_2",
            "search_node_3",
            "search_node_4",
            "search_node_5"
          ],
          "configured": {},
          "validated": {},
          "workflow": {
            "name": "Apollo Lead Enrichment & Outreach Automation",
            "nodes": [
              {
                "id": "httpRequest_1",
                "name": "Apollo Lead Retrieval",
                "type": "n8n-nodes-base.httpRequest",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "position": [
                  420,
                  300
                ],
                "parameters": {
                  "qs": {
                    "page_size": "100",
                    "sort_by_field": "created_at",
                    "sort_ascending": "false"
                  },
                  "url": "https://api.apollo.io/v1/mixed_people/search",
                  "method": "GET",
                  "sendQuery": true,
                  "authentication": "predefinedCredentialType",
                  "queryParameters": {
                    "parameters": [
                      {
                        "name": "page_size",
                        "value": "100"
                      },
                      {
                        "name": "sort_by_field",
                        "value": "created_at"
                      }
                    ]
                  },
                  "nodeCredentialType": "apolloApi"
                },
                "typeVersion": 4.2
              },
              {
                "id": "linkedIn_1",
                "name": "LinkedIn Profile Enrichment",
                "type": "n8n-nodes-base.linkedIn",
                "onError": "continueRegularOutput",
                "position": [
                  820,
                  200
                ],
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "post"
                },
                "typeVersion": 1
              },
              {
                "id": "clearbit_1",
                "name": "Company Data Enrichment",
                "type": "n8n-nodes-base.clearbit",
                "onError": "continueRegularOutput",
                "position": [
                  1020,
                  400
                ],
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company"
                },
                "typeVersion": 1
              },
              {
                "id": "openAi_1",
                "name": "AI Lead Scoring",
                "type": "n8n-nodes-base.openAi",
                "onError": "continueRegularOutput",
                "position": [
                  1220,
                  300
                ],
                "parameters": {
                  "model": "gpt-4",
                  "options": {
                    "temperature": 0.3
                  },
                  "messages": {
                    "messages": [
                      {
                        "role": "system",
                        "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                      },
                      {
                        "role": "user",
                        "content": "Lead Data: {{ JSON.stringify($json) }}"
                      }
                    ]
                  },
                  "resource": "chat"
                },
                "typeVersion": 1.1
              },
              {
                "id": "if_1",
                "name": "Lead Score Filter",
                "type": "n8n-nodes-base.if",
                "onError": "continueRegularOutput",
                "position": [
                  1620,
                  300
                ],
                "parameters": {
                  "conditions": {
                    "combinator": "and",
                    "conditions": [
                      {
                        "id": "score_threshold",
                        "operator": {
                          "type": "number",
                          "operation": "gte"
                        },
                        "leftValue": "={{ $json.score }}",
                        "rightValue": 70
                      }
                    ]
                  }
                },
                "typeVersion": 2.2
              },
              {
                "id": "gmail_1",
                "name": "Send Cold Email",
                "type": "n8n-nodes-base.gmail",
                "onError": "continueRegularOutput",
                "position": [
                  2020,
                  250
                ],
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "{{ $json.emailSubject }}",
                  "operation": "send"
                },
                "typeVersion": 2.1
              },
              {
                "id": "hubspot_1",
                "name": "Log Activity in HubSpot",
                "type": "n8n-nodes-base.hubspot",
                "onError": "continueRegularOutput",
                "position": [
                  2220,
                  400
                ],
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "leadScore": "={{ $json.score }}",
                    "leadSource": "Apollo.io",
                    "lastContactDate": "={{ new Date().toISOString() }}"
                  }
                },
                "typeVersion": 2.1
              },
              {
                "id": "scheduleTrigger_1",
                "name": "Follow-up Reminder Scheduler",
                "type": "n8n-nodes-base.scheduleTrigger",
                "onError": "stopWorkflow",
                "position": [
                  1750,
                  300
                ],
                "parameters": {
                  "rule": "interval",
                  "unit": "days",
                  "notice": "",
                  "interval": 5
                },
                "typeVersion": 1.2
              },
              {
                "id": "sticky_inputs_1755001948297",
                "name": "Inputs Documentation",
                "type": "n8n-nodes-base.stickyNote",
                "position": [
                  340,
                  -90
                ],
                "parameters": {
                  "color": 5,
                  "width": 310,
                  "height": 630,
                  "content": "## 📊 Inputs\nRetrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                },
                "typeVersion": 1
              },
              {
                "id": "sticky_transforms_1755001948298",
                "name": "Transform Documentation",
                "type": "n8n-nodes-base.stickyNote",
                "position": [
                  780,
                  -90
                ],
                "parameters": {
                  "color": 4,
                  "width": 630,
                  "height": 630,
                  "content": "## ⚙️ Transform\nEnriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data.\n\nUses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                },
                "typeVersion": 1
              },
              {
                "id": "sticky_decision_1755001948298",
                "name": "Decision Documentation",
                "type": "n8n-nodes-base.stickyNote",
                "position": [
                  1540,
                  -90
                ],
                "parameters": {
                  "color": 3,
                  "width": 310,
                  "height": 630,
                  "content": "## 🔀 Decision\nFilters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                },
                "typeVersion": 1
              },
              {
                "id": "sticky_outputs_1755001948298",
                "name": "Outputs Documentation",
                "type": "n8n-nodes-base.stickyNote",
                "position": [
                  1980,
                  -90
                ],
                "parameters": {
                  "color": 7,
                  "width": 430,
                  "height": 630,
                  "content": "## 🚀 Outputs\nSends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                },
                "typeVersion": 1
              }
            ],
            "valid": true,
            "settings": {
              "executionOrder": "v1",
              "saveManualExecutions": true,
              "saveDataErrorExecution": "all",
              "saveDataSuccessExecution": "all"
            },
            "connections": {
              "AI Lead Scoring": {
                "main": [
                  [
                    {
                      "node": "Lead Score Filter",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Send Cold Email": {
                "main": [
                  [
                    {
                      "node": "Follow-up Reminder Scheduler",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Lead Score Filter": {
                "main": [
                  [
                    {
                      "node": "Send Cold Email",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Log Activity in HubSpot",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Apollo Lead Retrieval": {
                "main": [
                  [
                    {
                      "node": "LinkedIn Profile Enrichment",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Company Data Enrichment",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Company Data Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "LinkedIn Profile Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              }
            }
          },
          "buildPhases": [
            {
              "type": "data_collection",
              "nodeIds": [
                "httpRequest_1"
              ],
              "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
            },
            {
              "type": "data_processing",
              "nodeIds": [
                "linkedIn_1",
                "clearbit_1"
              ],
              "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
            },
            {
              "type": "data_processing",
              "nodeIds": [
                "openAi_1"
              ],
              "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
            },
            {
              "type": "decision",
              "nodeIds": [
                "if_1"
              ],
              "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
            },
            {
              "type": "notification",
              "nodeIds": [
                "gmail_1",
                "hubspot_1"
              ],
              "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
            },
            {
              "type": "trigger",
              "nodeIds": [
                "scheduleTrigger_1"
              ],
              "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
            }
          ],
          "operationHistory": [
            {
              "type": "completePhase",
              "phase": "discovery",
              "timestamp": "2025-08-12T12:31:25.605Z"
            },
            {
              "node": {
                "id": "task_node_2",
                "type": "nodes-base.openAi",
                "config": {
                  "modelId": "gpt-3.5-turbo",
                  "onError": "continueRegularOutput",
                  "maxTries": 3,
                  "messages": {
                    "values": [
                      {
                        "role": "user",
                        "content": ""
                      }
                    ]
                  },
                  "resource": "chat",
                  "operation": "message",
                  "retryOnFail": true,
                  "alwaysOutputData": true,
                  "waitBetweenTries": 5000
                },
                "purpose": "Send a message to an AI model and get response",
                "displayName": "chat with ai",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_2",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "task_node_1",
                "type": "nodes-base.httpRequest",
                "config": {
                  "url": "",
                  "method": "GET",
                  "onError": "continueRegularOutput",
                  "maxTries": 3,
                  "retryOnFail": true,
                  "authentication": "none",
                  "alwaysOutputData": true,
                  "waitBetweenTries": 1000
                },
                "purpose": "Make a simple GET request to retrieve data from an API",
                "displayName": "get api data",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_1",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "task_node_3",
                "type": "nodes-base.if",
                "config": {
                  "conditions": {
                    "conditions": [
                      {
                        "operator": {
                          "type": "string",
                          "operation": "equals"
                        },
                        "leftValue": "",
                        "rightValue": ""
                      }
                    ]
                  }
                },
                "purpose": "Filter items based on conditions",
                "displayName": "filter data",
                "isPreConfigured": true
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "task_node_3",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_1",
                "type": "nodes-base.linkedIn",
                "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_1",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_2",
                "type": "nodes-base.clearbit",
                "purpose": "Enrich leads with comprehensive company data and firmographic information"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_2",
              "timestamp": "2025-08-12T12:31:26.168Z"
            },
            {
              "node": {
                "id": "search_node_3",
                "type": "nodes-base.scheduleTrigger",
                "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_3",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "node": {
                "id": "search_node_4",
                "type": "nodes-base.gmail",
                "purpose": "Send personalized cold emails and monitor for replies"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_4",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "node": {
                "id": "search_node_5",
                "type": "nodes-base.hubspot",
                "purpose": "Log lead activity and email interactions in HubSpot CRM"
              },
              "type": "discoverNode",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "selectNode",
              "nodeId": "search_node_5",
              "timestamp": "2025-08-12T12:31:26.399Z"
            },
            {
              "type": "setPhase",
              "phase": "configuration",
              "timestamp": "2025-08-12T12:31:43.947Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "AI Lead Scoring - Uses OpenAI to analyze lead data from Apollo.io and LinkedIn enrichment to score leads against ICP criteria for personalized outreach prioritization",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "parameters": {
                  "modelId": "gpt-4",
                  "options": {
                    "maxTokens": 500,
                    "temperature": 0.3
                  },
                  "messages": {
                    "values": [
                      {
                        "role": "system",
                        "content": "You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach."
                      },
                      {
                        "role": "user",
                        "content": "Please score this lead based on our ICP criteria:\n\nLead Data:\n- Name: {{ $json.name }}\n- Company: {{ $json.company }}\n- Title: {{ $json.title }}\n- Industry: {{ $json.industry }}\n- Company Size: {{ $json.company_size }}\n- Location: {{ $json.location }}\n- LinkedIn Profile: {{ $json.linkedin_profile }}\n- Company Description: {{ $json.company_description }}\n- Technologies Used: {{ $json.technologies }}\n- Recent Activity: {{ $json.recent_activity }}\n\nICP Criteria:\n- Target Industries: SaaS, Technology, E-commerce\n- Company Size: 50-500 employees\n- Decision Maker Titles: VP, Director, C-Level\n- Geographic Focus: North America, Europe\n- Tech Stack Alignment: Modern web technologies\n\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes."
                      }
                    ]
                  },
                  "resource": "chat",
                  "operation": "message"
                },
                "retryOnFail": true,
                "typeVersion": "1",
                "alwaysOutputData": true,
                "waitBetweenTries": 5000
              },
              "nodeId": "task_node_2",
              "purpose": "Send a message to an AI model and get response",
              "nodeType": "nodes-base.openAi",
              "timestamp": "2025-08-12T12:31:44.187Z"
            },
            {
              "type": "validateNode",
              "nodeId": "task_node_2",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.365Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Retrieve new leads from Apollo.io API - first step in lead enrichment and scoring workflow",
                "onError": "continueRegularOutput",
                "maxTries": 3,
                "parameters": {
                  "qs": {
                    "page": "1",
                    "per_page": "25",
                    "q_keywords": "{{ $json.keywords || 'SaaS,software,technology' }}",
                    "person_titles": "{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}",
                    "organization_num_employees_ranges": "{{ $json.companySizeRange || '11,50' }}"
                  },
                  "url": "https://api.apollo.io/v1/people/search",
                  "method": "GET",
                  "headers": {
                    "Content-Type": "application/json",
                    "Cache-Control": "no-cache"
                  },
                  "options": {
                    "timeout": 30000,
                    "response": {
                      "response": {
                        "fullResponse": false,
                        "responseFormat": "json"
                      }
                    }
                  },
                  "authentication": "predefinedCredentialType",
                  "nodeCredentialType": "apolloApi"
                },
                "retryOnFail": true,
                "typeVersion": "1",
                "alwaysOutputData": true,
                "waitBetweenTries": 1000
              },
              "nodeId": "task_node_1",
              "purpose": "Make a simple GET request to retrieve data from an API",
              "nodeType": "nodes-base.httpRequest",
              "timestamp": "2025-08-12T12:31:44.365Z"
            },
            {
              "type": "validateNode",
              "nodeId": "task_node_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.518Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Filter leads based on AI scoring results - only process leads that meet ICP criteria threshold for personalized outreach",
                "parameters": {
                  "conditions": {
                    "conditions": [
                      {
                        "operator": {
                          "type": "number",
                          "operation": "largerEqual"
                        },
                        "leftValue": "{{ $json.ai_score }}",
                        "rightValue": 7
                      }
                    ]
                  }
                },
                "typeVersion": "1"
              },
              "nodeId": "task_node_3",
              "purpose": "Filter items based on conditions",
              "nodeType": "nodes-base.if",
              "timestamp": "2025-08-12T12:31:44.518Z"
            },
            {
              "type": "validateNode",
              "nodeId": "task_node_3",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.641Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "post",
                  "authentication": "standard",
                  "binaryPropertyName": "data"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_1",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
              "nodeType": "nodes-base.linkedIn",
              "reasoning": "This configuration sets up LinkedIn enrichment as part of the lead qualification workflow",
              "timestamp": "2025-08-12T12:31:44.641Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "post",
                  "authentication": "standard",
                  "binaryPropertyName": "data"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_1",
              "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
              "nodeType": "nodes-base.linkedIn",
              "timestamp": "2025-08-12T12:31:44.760Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:44.878Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company",
                  "operation": "enrich"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_2",
              "purpose": "Enrich leads with comprehensive company data and firmographic information",
              "nodeType": "nodes-base.clearbit",
              "reasoning": "Configured Clearbit to enrich company data using domain from Apollo.io leads",
              "timestamp": "2025-08-12T12:31:44.879Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company",
                  "operation": "enrich"
                },
                "typeVersion": "1"
              },
              "nodeId": "search_node_2",
              "purpose": "Enrich leads with comprehensive company data and firmographic information",
              "nodeType": "nodes-base.clearbit",
              "timestamp": "2025-08-12T12:31:45.055Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_2",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:45.186Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                "parameters": {
                  "rule": "interval",
                  "notice": "",
                  "interval": [
                    {
                      "field": "days",
                      "value": 5
                    }
                  ]
                },
                "typeVersion": "1.2"
              },
              "nodeId": "search_node_3",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
              "nodeType": "nodes-base.scheduleTrigger",
              "reasoning": "Configured Schedule Trigger to run every 5 days as specified in the user's requirement for follow-up reminders",
              "timestamp": "2025-08-12T12:31:45.186Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                "parameters": {
                  "rule": "interval",
                  "notice": "",
                  "interval": [
                    {
                      "field": "days",
                      "value": 5
                    }
                  ]
                },
                "typeVersion": "1.2"
              },
              "nodeId": "search_node_3",
              "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
              "nodeType": "nodes-base.scheduleTrigger",
              "timestamp": "2025-08-12T12:31:45.389Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_3",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:45.554Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                  "resource": "message",
                  "emailType": "html",
                  "operation": "send"
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_4",
              "purpose": "Send personalized cold emails and monitor for replies",
              "nodeType": "nodes-base.gmail",
              "reasoning": "Configured Gmail node to send personalized cold emails using the 'message' resource with 'send' operation",
              "timestamp": "2025-08-12T12:31:45.554Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                  "resource": "message",
                  "emailType": "html",
                  "operation": "send"
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_4",
              "purpose": "Send personalized cold emails and monitor for replies",
              "nodeType": "nodes-base.gmail",
              "timestamp": "2025-08-12T12:31:45.685Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_4",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:45.809Z"
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "phone": "={{ $json.phone }}",
                    "company": "={{ $json.company }}",
                    "website": "={{ $json.companyWebsite }}",
                    "jobtitle": "={{ $json.jobTitle }}",
                    "lastname": "={{ $json.lastName }}",
                    "firstname": "={{ $json.firstName }}",
                    "lead_source": "Apollo.io",
                    "lead_status": "new",
                    "ai_lead_score": "={{ $json.aiScore }}",
                    "email_campaign": "Cold Outreach",
                    "hs_lead_status": "NEW",
                    "lifecyclestage": "lead",
                    "last_email_sent": "={{ new Date().toISOString() }}",
                    "linkedin_profile": "={{ $json.linkedinProfile }}",
                    "notes_last_contacted": "Initial cold email sent via automated workflow"
                  }
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_5",
              "purpose": "Log lead activity and email interactions in HubSpot CRM",
              "nodeType": "nodes-base.hubspot",
              "reasoning": "Configured HubSpot to upsert contacts, ensuring leads from Apollo.io are properly logged without creating duplicates",
              "timestamp": "2025-08-12T12:31:45.809Z",
              "operationIndex": 0
            },
            {
              "type": "configureNode",
              "config": {
                "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "phone": "={{ $json.phone }}",
                    "company": "={{ $json.company }}",
                    "website": "={{ $json.companyWebsite }}",
                    "jobtitle": "={{ $json.jobTitle }}",
                    "lastname": "={{ $json.lastName }}",
                    "firstname": "={{ $json.firstName }}",
                    "lead_source": "Apollo.io",
                    "lead_status": "new",
                    "ai_lead_score": "={{ $json.aiScore }}",
                    "email_campaign": "Cold Outreach",
                    "hs_lead_status": "NEW",
                    "lifecyclestage": "lead",
                    "last_email_sent": "={{ new Date().toISOString() }}",
                    "linkedin_profile": "={{ $json.linkedinProfile }}",
                    "notes_last_contacted": "Initial cold email sent via automated workflow"
                  }
                },
                "typeVersion": "2.1"
              },
              "nodeId": "search_node_5",
              "purpose": "Log lead activity and email interactions in HubSpot CRM",
              "nodeType": "nodes-base.hubspot",
              "timestamp": "2025-08-12T12:31:45.995Z"
            },
            {
              "type": "validateNode",
              "nodeId": "search_node_5",
              "result": {
                "valid": true,
                "errors": []
              },
              "timestamp": "2025-08-12T12:31:46.140Z"
            },
            {
              "type": "completePhase",
              "phase": "configuration",
              "timestamp": "2025-08-12T12:31:46.140Z"
            },
            {
              "type": "setPhase",
              "phase": "building",
              "timestamp": "2025-08-12T12:32:18.016Z"
            },
            {
              "type": "setWorkflow",
              "workflow": {
                "name": "Apollo Lead Enrichment & Outreach Automation",
                "nodes": [
                  {
                    "id": "httpRequest_1",
                    "name": "Apollo Lead Retrieval",
                    "type": "n8n-nodes-base.httpRequest",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "position": [
                      250,
                      300
                    ],
                    "parameters": {
                      "qs": {
                        "page_size": "100",
                        "sort_by_field": "created_at",
                        "sort_ascending": "false"
                      },
                      "url": "https://api.apollo.io/v1/mixed_people/search",
                      "method": "GET",
                      "sendQuery": true,
                      "authentication": "predefinedCredentialType",
                      "queryParameters": {
                        "parameters": [
                          {
                            "name": "page_size",
                            "value": "100"
                          },
                          {
                            "name": "sort_by_field",
                            "value": "created_at"
                          }
                        ]
                      },
                      "nodeCredentialType": "apolloApi"
                    },
                    "typeVersion": 4.2
                  },
                  {
                    "id": "linkedIn_1",
                    "name": "LinkedIn Profile Enrichment",
                    "type": "n8n-nodes-base.linkedIn",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      200
                    ],
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "profile"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "clearbit_1",
                    "name": "Company Data Enrichment",
                    "type": "n8n-nodes-base.clearbit",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      400
                    ],
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "openAi_1",
                    "name": "AI Lead Scoring",
                    "type": "n8n-nodes-base.openAi",
                    "onError": "continueRegularOutput",
                    "position": [
                      850,
                      300
                    ],
                    "parameters": {
                      "model": "gpt-4",
                      "options": {
                        "temperature": 0.3
                      },
                      "messages": {
                        "messages": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                          },
                          {
                            "role": "user",
                            "content": "Lead Data: {{ JSON.stringify($json) }}"
                          }
                        ]
                      },
                      "resource": "chat"
                    },
                    "typeVersion": 1.3
                  },
                  {
                    "id": "if_1",
                    "name": "Lead Score Filter",
                    "type": "n8n-nodes-base.if",
                    "onError": "continueRegularOutput",
                    "position": [
                      1150,
                      300
                    ],
                    "parameters": {
                      "conditions": {
                        "combinator": "and",
                        "conditions": [
                          {
                            "id": "score_threshold",
                            "operator": {
                              "type": "number",
                              "operation": "gte"
                            },
                            "leftValue": "={{ $json.score }}",
                            "rightValue": 70
                          }
                        ]
                      }
                    },
                    "typeVersion": 2
                  },
                  {
                    "id": "gmail_1",
                    "name": "Send Cold Email",
                    "type": "n8n-nodes-base.gmail",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      250
                    ],
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "{{ $json.emailSubject }}",
                      "operation": "send"
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "hubspot_1",
                    "name": "Log Activity in HubSpot",
                    "type": "n8n-nodes-base.hubspot",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      400
                    ],
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "leadScore": "={{ $json.score }}",
                        "leadSource": "Apollo.io",
                        "lastContactDate": "={{ new Date().toISOString() }}"
                      }
                    },
                    "typeVersion": 2
                  },
                  {
                    "id": "scheduleTrigger_1",
                    "name": "Follow-up Reminder Scheduler",
                    "type": "n8n-nodes-base.scheduleTrigger",
                    "onError": "stopWorkflow",
                    "position": [
                      1750,
                      300
                    ],
                    "parameters": {
                      "rule": "interval",
                      "unit": "days",
                      "notice": "",
                      "interval": 5
                    },
                    "typeVersion": 1.2
                  }
                ],
                "settings": {
                  "executionOrder": "v1",
                  "saveManualExecutions": true,
                  "saveDataErrorExecution": "all",
                  "saveDataSuccessExecution": "all"
                },
                "connections": {
                  "AI Lead Scoring": {
                    "main": [
                      [
                        {
                          "node": "Lead Score Filter",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Send Cold Email": {
                    "main": [
                      [
                        {
                          "node": "Follow-up Reminder Scheduler",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Lead Score Filter": {
                    "main": [
                      [
                        {
                          "node": "Send Cold Email",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Log Activity in HubSpot",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Apollo Lead Retrieval": {
                    "main": [
                      [
                        {
                          "node": "LinkedIn Profile Enrichment",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Company Data Enrichment",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Company Data Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "LinkedIn Profile Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  }
                }
              },
              "timestamp": "2025-08-12T12:32:18.249Z"
            },
            {
              "type": "setBuildPhases",
              "phases": [
                {
                  "type": "data_collection",
                  "nodeIds": [
                    "httpRequest_1"
                  ],
                  "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "linkedIn_1",
                    "clearbit_1"
                  ],
                  "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "openAi_1"
                  ],
                  "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                },
                {
                  "type": "decision",
                  "nodeIds": [
                    "if_1"
                  ],
                  "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                },
                {
                  "type": "notification",
                  "nodeIds": [
                    "gmail_1",
                    "hubspot_1"
                  ],
                  "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                },
                {
                  "type": "trigger",
                  "nodeIds": [
                    "scheduleTrigger_1"
                  ],
                  "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
                }
              ],
              "timestamp": "2025-08-12T12:32:18.250Z"
            },
            {
              "type": "completePhase",
              "phase": "building",
              "timestamp": "2025-08-12T12:32:18.250Z"
            },
            {
              "type": "setPhase",
              "phase": "validation",
              "timestamp": "2025-08-12T12:32:27.308Z"
            },
            {
              "type": "validateNode",
              "nodeId": "linkedIn_1",
              "result": {
                "valid": false,
                "errors": [
                  "Node replaced entirely"
                ]
              },
              "attempt": 1,
              "reasoning": "Node replaced to fix validation errors",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "openAi_1",
              "result": {
                "valid": false,
                "errors": [
                  "Node replaced entirely"
                ]
              },
              "attempt": 1,
              "reasoning": "Node replaced to fix validation errors",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "if_1",
              "result": {
                "valid": false,
                "errors": [
                  "Node replaced entirely"
                ]
              },
              "attempt": 1,
              "reasoning": "Node replaced to fix validation errors",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "hubspot_1",
              "result": {
                "valid": false,
                "errors": [
                  "Node replaced entirely"
                ]
              },
              "attempt": 1,
              "reasoning": "Node replaced to fix validation errors",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "httpRequest_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "linkedIn_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "clearbit_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "openAi_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "if_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "gmail_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.513Z"
            },
            {
              "type": "validateNode",
              "nodeId": "hubspot_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.786Z"
            },
            {
              "type": "validateNode",
              "nodeId": "scheduleTrigger_1",
              "result": {
                "valid": true,
                "errors": []
              },
              "attempt": 2,
              "reasoning": "Node passed all validation checks",
              "timestamp": "2025-08-12T12:32:27.786Z"
            },
            {
              "type": "setWorkflow",
              "workflow": {
                "name": "Apollo Lead Enrichment & Outreach Automation",
                "nodes": [
                  {
                    "id": "httpRequest_1",
                    "name": "Apollo Lead Retrieval",
                    "type": "n8n-nodes-base.httpRequest",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "position": [
                      250,
                      300
                    ],
                    "parameters": {
                      "qs": {
                        "page_size": "100",
                        "sort_by_field": "created_at",
                        "sort_ascending": "false"
                      },
                      "url": "https://api.apollo.io/v1/mixed_people/search",
                      "method": "GET",
                      "sendQuery": true,
                      "authentication": "predefinedCredentialType",
                      "queryParameters": {
                        "parameters": [
                          {
                            "name": "page_size",
                            "value": "100"
                          },
                          {
                            "name": "sort_by_field",
                            "value": "created_at"
                          }
                        ]
                      },
                      "nodeCredentialType": "apolloApi"
                    },
                    "typeVersion": 4.2
                  },
                  {
                    "id": "linkedIn_1",
                    "name": "LinkedIn Profile Enrichment",
                    "type": "n8n-nodes-base.linkedIn",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      200
                    ],
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "clearbit_1",
                    "name": "Company Data Enrichment",
                    "type": "n8n-nodes-base.clearbit",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      400
                    ],
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "openAi_1",
                    "name": "AI Lead Scoring",
                    "type": "n8n-nodes-base.openAi",
                    "onError": "continueRegularOutput",
                    "position": [
                      850,
                      300
                    ],
                    "parameters": {
                      "model": "gpt-4",
                      "options": {
                        "temperature": 0.3
                      },
                      "messages": {
                        "messages": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                          },
                          {
                            "role": "user",
                            "content": "Lead Data: {{ JSON.stringify($json) }}"
                          }
                        ]
                      },
                      "resource": "chat"
                    },
                    "typeVersion": 1.1
                  },
                  {
                    "id": "if_1",
                    "name": "Lead Score Filter",
                    "type": "n8n-nodes-base.if",
                    "onError": "continueRegularOutput",
                    "position": [
                      1150,
                      300
                    ],
                    "parameters": {
                      "conditions": {
                        "combinator": "and",
                        "conditions": [
                          {
                            "id": "score_threshold",
                            "operator": {
                              "type": "number",
                              "operation": "gte"
                            },
                            "leftValue": "={{ $json.score }}",
                            "rightValue": 70
                          }
                        ]
                      }
                    },
                    "typeVersion": 2.2
                  },
                  {
                    "id": "gmail_1",
                    "name": "Send Cold Email",
                    "type": "n8n-nodes-base.gmail",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      250
                    ],
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "{{ $json.emailSubject }}",
                      "operation": "send"
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "hubspot_1",
                    "name": "Log Activity in HubSpot",
                    "type": "n8n-nodes-base.hubspot",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      400
                    ],
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "leadScore": "={{ $json.score }}",
                        "leadSource": "Apollo.io",
                        "lastContactDate": "={{ new Date().toISOString() }}"
                      }
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "scheduleTrigger_1",
                    "name": "Follow-up Reminder Scheduler",
                    "type": "n8n-nodes-base.scheduleTrigger",
                    "onError": "stopWorkflow",
                    "position": [
                      1750,
                      300
                    ],
                    "parameters": {
                      "rule": "interval",
                      "unit": "days",
                      "notice": "",
                      "interval": 5
                    },
                    "typeVersion": 1.2
                  }
                ],
                "valid": true,
                "settings": {
                  "executionOrder": "v1",
                  "saveManualExecutions": true,
                  "saveDataErrorExecution": "all",
                  "saveDataSuccessExecution": "all"
                },
                "connections": {
                  "AI Lead Scoring": {
                    "main": [
                      [
                        {
                          "node": "Lead Score Filter",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Send Cold Email": {
                    "main": [
                      [
                        {
                          "node": "Follow-up Reminder Scheduler",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Lead Score Filter": {
                    "main": [
                      [
                        {
                          "node": "Send Cold Email",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Log Activity in HubSpot",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Apollo Lead Retrieval": {
                    "main": [
                      [
                        {
                          "node": "LinkedIn Profile Enrichment",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Company Data Enrichment",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Company Data Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "LinkedIn Profile Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  }
                }
              },
              "timestamp": "2025-08-12T12:32:27.786Z"
            },
            {
              "type": "completePhase",
              "phase": "validation",
              "timestamp": "2025-08-12T12:32:27.786Z"
            },
            {
              "type": "setPhase",
              "phase": "documentation",
              "timestamp": "2025-08-12T12:32:28.298Z"
            },
            {
              "type": "setWorkflow",
              "workflow": {
                "name": "Apollo Lead Enrichment & Outreach Automation",
                "nodes": [
                  {
                    "id": "httpRequest_1",
                    "name": "Apollo Lead Retrieval",
                    "type": "n8n-nodes-base.httpRequest",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "position": [
                      420,
                      300
                    ],
                    "parameters": {
                      "qs": {
                        "page_size": "100",
                        "sort_by_field": "created_at",
                        "sort_ascending": "false"
                      },
                      "url": "https://api.apollo.io/v1/mixed_people/search",
                      "method": "GET",
                      "sendQuery": true,
                      "authentication": "predefinedCredentialType",
                      "queryParameters": {
                        "parameters": [
                          {
                            "name": "page_size",
                            "value": "100"
                          },
                          {
                            "name": "sort_by_field",
                            "value": "created_at"
                          }
                        ]
                      },
                      "nodeCredentialType": "apolloApi"
                    },
                    "typeVersion": 4.2
                  },
                  {
                    "id": "linkedIn_1",
                    "name": "LinkedIn Profile Enrichment",
                    "type": "n8n-nodes-base.linkedIn",
                    "onError": "continueRegularOutput",
                    "position": [
                      820,
                      200
                    ],
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "clearbit_1",
                    "name": "Company Data Enrichment",
                    "type": "n8n-nodes-base.clearbit",
                    "onError": "continueRegularOutput",
                    "position": [
                      1020,
                      400
                    ],
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "openAi_1",
                    "name": "AI Lead Scoring",
                    "type": "n8n-nodes-base.openAi",
                    "onError": "continueRegularOutput",
                    "position": [
                      1220,
                      300
                    ],
                    "parameters": {
                      "model": "gpt-4",
                      "options": {
                        "temperature": 0.3
                      },
                      "messages": {
                        "messages": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                          },
                          {
                            "role": "user",
                            "content": "Lead Data: {{ JSON.stringify($json) }}"
                          }
                        ]
                      },
                      "resource": "chat"
                    },
                    "typeVersion": 1.1
                  },
                  {
                    "id": "if_1",
                    "name": "Lead Score Filter",
                    "type": "n8n-nodes-base.if",
                    "onError": "continueRegularOutput",
                    "position": [
                      1620,
                      300
                    ],
                    "parameters": {
                      "conditions": {
                        "combinator": "and",
                        "conditions": [
                          {
                            "id": "score_threshold",
                            "operator": {
                              "type": "number",
                              "operation": "gte"
                            },
                            "leftValue": "={{ $json.score }}",
                            "rightValue": 70
                          }
                        ]
                      }
                    },
                    "typeVersion": 2.2
                  },
                  {
                    "id": "gmail_1",
                    "name": "Send Cold Email",
                    "type": "n8n-nodes-base.gmail",
                    "onError": "continueRegularOutput",
                    "position": [
                      2020,
                      250
                    ],
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "{{ $json.emailSubject }}",
                      "operation": "send"
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "hubspot_1",
                    "name": "Log Activity in HubSpot",
                    "type": "n8n-nodes-base.hubspot",
                    "onError": "continueRegularOutput",
                    "position": [
                      2220,
                      400
                    ],
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "leadScore": "={{ $json.score }}",
                        "leadSource": "Apollo.io",
                        "lastContactDate": "={{ new Date().toISOString() }}"
                      }
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "scheduleTrigger_1",
                    "name": "Follow-up Reminder Scheduler",
                    "type": "n8n-nodes-base.scheduleTrigger",
                    "onError": "stopWorkflow",
                    "position": [
                      1750,
                      300
                    ],
                    "parameters": {
                      "rule": "interval",
                      "unit": "days",
                      "notice": "",
                      "interval": 5
                    },
                    "typeVersion": 1.2
                  },
                  {
                    "id": "sticky_inputs_1755001948297",
                    "name": "Inputs Documentation",
                    "type": "n8n-nodes-base.stickyNote",
                    "position": [
                      340,
                      -90
                    ],
                    "parameters": {
                      "color": 5,
                      "width": 310,
                      "height": 630,
                      "content": "## 📊 Inputs\nRetrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "sticky_transforms_1755001948298",
                    "name": "Transform Documentation",
                    "type": "n8n-nodes-base.stickyNote",
                    "position": [
                      780,
                      -90
                    ],
                    "parameters": {
                      "color": 4,
                      "width": 630,
                      "height": 630,
                      "content": "## ⚙️ Transform\nEnriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data.\n\nUses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "sticky_decision_1755001948298",
                    "name": "Decision Documentation",
                    "type": "n8n-nodes-base.stickyNote",
                    "position": [
                      1540,
                      -90
                    ],
                    "parameters": {
                      "color": 3,
                      "width": 310,
                      "height": 630,
                      "content": "## 🔀 Decision\nFilters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "sticky_outputs_1755001948298",
                    "name": "Outputs Documentation",
                    "type": "n8n-nodes-base.stickyNote",
                    "position": [
                      1980,
                      -90
                    ],
                    "parameters": {
                      "color": 7,
                      "width": 430,
                      "height": 630,
                      "content": "## 🚀 Outputs\nSends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                    },
                    "typeVersion": 1
                  }
                ],
                "valid": true,
                "settings": {
                  "executionOrder": "v1",
                  "saveManualExecutions": true,
                  "saveDataErrorExecution": "all",
                  "saveDataSuccessExecution": "all"
                },
                "connections": {
                  "AI Lead Scoring": {
                    "main": [
                      [
                        {
                          "node": "Lead Score Filter",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Send Cold Email": {
                    "main": [
                      [
                        {
                          "node": "Follow-up Reminder Scheduler",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Lead Score Filter": {
                    "main": [
                      [
                        {
                          "node": "Send Cold Email",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Log Activity in HubSpot",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Apollo Lead Retrieval": {
                    "main": [
                      [
                        {
                          "node": "LinkedIn Profile Enrichment",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Company Data Enrichment",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Company Data Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "LinkedIn Profile Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  }
                }
              },
              "timestamp": "2025-08-12T12:32:28.542Z"
            },
            {
              "type": "completePhase",
              "phase": "documentation",
              "timestamp": "2025-08-12T12:32:28.542Z"
            }
          ],
          "pendingClarifications": [],
          "clarificationHistory": []
        }
      },
      "stateChanges": {},
      "dataFlow": {
        "input": {
          "validatedWorkflow": {
            "name": "Apollo Lead Enrichment & Outreach Automation",
            "nodes": [
              {
                "id": "httpRequest_1",
                "type": "n8n-nodes-base.httpRequest",
                "position": [
                  420,
                  300
                ],
                "parameters": {
                  "qs": {
                    "page_size": "100",
                    "sort_by_field": "created_at",
                    "sort_ascending": "false"
                  },
                  "url": "https://api.apollo.io/v1/mixed_people/search",
                  "method": "GET",
                  "authentication": "predefinedCredentialType",
                  "nodeCredentialType": "apolloApi",
                  "sendQuery": true,
                  "queryParameters": {
                    "parameters": [
                      {
                        "name": "page_size",
                        "value": "100"
                      },
                      {
                        "name": "sort_by_field",
                        "value": "created_at"
                      }
                    ]
                  }
                },
                "name": "Apollo Lead Retrieval",
                "typeVersion": 4.2,
                "onError": "continueRegularOutput",
                "maxTries": 3
              },
              {
                "id": "linkedIn_1",
                "type": "n8n-nodes-base.linkedIn",
                "position": [
                  820,
                  200
                ],
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "post"
                },
                "name": "LinkedIn Profile Enrichment",
                "typeVersion": 1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "clearbit_1",
                "type": "n8n-nodes-base.clearbit",
                "position": [
                  1020,
                  400
                ],
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company"
                },
                "name": "Company Data Enrichment",
                "typeVersion": 1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "openAi_1",
                "type": "n8n-nodes-base.openAi",
                "position": [
                  1220,
                  300
                ],
                "parameters": {
                  "resource": "chat",
                  "model": "gpt-4",
                  "messages": {
                    "messages": [
                      {
                        "role": "system",
                        "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                      },
                      {
                        "role": "user",
                        "content": "Lead Data: {{ JSON.stringify($json) }}"
                      }
                    ]
                  },
                  "options": {
                    "temperature": 0.3
                  }
                },
                "name": "AI Lead Scoring",
                "typeVersion": 1.1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "if_1",
                "type": "n8n-nodes-base.if",
                "position": [
                  1620,
                  300
                ],
                "parameters": {
                  "conditions": {
                    "conditions": [
                      {
                        "id": "score_threshold",
                        "leftValue": "={{ $json.score }}",
                        "rightValue": 70,
                        "operator": {
                          "type": "number",
                          "operation": "gte"
                        }
                      }
                    ],
                    "combinator": "and"
                  }
                },
                "name": "Lead Score Filter",
                "typeVersion": 2.2,
                "onError": "continueRegularOutput"
              },
              {
                "id": "gmail_1",
                "type": "n8n-nodes-base.gmail",
                "position": [
                  2020,
                  250
                ],
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "{{ $json.emailSubject }}",
                  "operation": "send"
                },
                "name": "Send Cold Email",
                "typeVersion": 2.1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "hubspot_1",
                "type": "n8n-nodes-base.hubspot",
                "position": [
                  2220,
                  400
                ],
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "leadScore": "={{ $json.score }}",
                    "lastContactDate": "={{ new Date().toISOString() }}",
                    "leadSource": "Apollo.io"
                  }
                },
                "name": "Log Activity in HubSpot",
                "typeVersion": 2.1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "scheduleTrigger_1",
                "type": "n8n-nodes-base.scheduleTrigger",
                "position": [
                  1750,
                  300
                ],
                "parameters": {
                  "rule": "interval",
                  "notice": "",
                  "interval": 5,
                  "unit": "days"
                },
                "name": "Follow-up Reminder Scheduler",
                "typeVersion": 1.2,
                "onError": "stopWorkflow"
              }
            ],
            "connections": {
              "Apollo Lead Retrieval": {
                "main": [
                  [
                    {
                      "node": "LinkedIn Profile Enrichment",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Company Data Enrichment",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "LinkedIn Profile Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Company Data Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "AI Lead Scoring": {
                "main": [
                  [
                    {
                      "node": "Lead Score Filter",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Lead Score Filter": {
                "main": [
                  [
                    {
                      "node": "Send Cold Email",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Log Activity in HubSpot",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Send Cold Email": {
                "main": [
                  [
                    {
                      "node": "Follow-up Reminder Scheduler",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              }
            },
            "settings": {
              "executionOrder": "v1",
              "saveDataSuccessExecution": "all",
              "saveDataErrorExecution": "all",
              "saveManualExecutions": true
            },
            "valid": true
          }
        },
        "output": {
          "documentedWorkflow": {
            "name": "Apollo Lead Enrichment & Outreach Automation",
            "nodes": [
              {
                "id": "httpRequest_1",
                "type": "n8n-nodes-base.httpRequest",
                "position": [
                  420,
                  300
                ],
                "parameters": {
                  "qs": {
                    "page_size": "100",
                    "sort_by_field": "created_at",
                    "sort_ascending": "false"
                  },
                  "url": "https://api.apollo.io/v1/mixed_people/search",
                  "method": "GET",
                  "authentication": "predefinedCredentialType",
                  "nodeCredentialType": "apolloApi",
                  "sendQuery": true,
                  "queryParameters": {
                    "parameters": [
                      {
                        "name": "page_size",
                        "value": "100"
                      },
                      {
                        "name": "sort_by_field",
                        "value": "created_at"
                      }
                    ]
                  }
                },
                "name": "Apollo Lead Retrieval",
                "typeVersion": 4.2,
                "onError": "continueRegularOutput",
                "maxTries": 3
              },
              {
                "id": "linkedIn_1",
                "type": "n8n-nodes-base.linkedIn",
                "position": [
                  820,
                  200
                ],
                "parameters": {
                  "person": "={{ $json.linkedinProfileId || $json.email }}",
                  "postAs": "person",
                  "resource": "post"
                },
                "name": "LinkedIn Profile Enrichment",
                "typeVersion": 1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "clearbit_1",
                "type": "n8n-nodes-base.clearbit",
                "position": [
                  1020,
                  400
                ],
                "parameters": {
                  "domain": "={{ $json.company_domain || $json.domain }}",
                  "resource": "company"
                },
                "name": "Company Data Enrichment",
                "typeVersion": 1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "openAi_1",
                "type": "n8n-nodes-base.openAi",
                "position": [
                  1220,
                  300
                ],
                "parameters": {
                  "resource": "chat",
                  "model": "gpt-4",
                  "messages": {
                    "messages": [
                      {
                        "role": "system",
                        "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                      },
                      {
                        "role": "user",
                        "content": "Lead Data: {{ JSON.stringify($json) }}"
                      }
                    ]
                  },
                  "options": {
                    "temperature": 0.3
                  }
                },
                "name": "AI Lead Scoring",
                "typeVersion": 1.1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "if_1",
                "type": "n8n-nodes-base.if",
                "position": [
                  1620,
                  300
                ],
                "parameters": {
                  "conditions": {
                    "conditions": [
                      {
                        "id": "score_threshold",
                        "leftValue": "={{ $json.score }}",
                        "rightValue": 70,
                        "operator": {
                          "type": "number",
                          "operation": "gte"
                        }
                      }
                    ],
                    "combinator": "and"
                  }
                },
                "name": "Lead Score Filter",
                "typeVersion": 2.2,
                "onError": "continueRegularOutput"
              },
              {
                "id": "gmail_1",
                "type": "n8n-nodes-base.gmail",
                "position": [
                  2020,
                  250
                ],
                "parameters": {
                  "sendTo": "={{ $json.email }}",
                  "message": "={{ $json.personalizedEmail }}",
                  "subject": "{{ $json.emailSubject }}",
                  "operation": "send"
                },
                "name": "Send Cold Email",
                "typeVersion": 2.1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "hubspot_1",
                "type": "n8n-nodes-base.hubspot",
                "position": [
                  2220,
                  400
                ],
                "parameters": {
                  "email": "={{ $json.email }}",
                  "resource": "contact",
                  "operation": "upsert",
                  "additionalFields": {
                    "leadScore": "={{ $json.score }}",
                    "lastContactDate": "={{ new Date().toISOString() }}",
                    "leadSource": "Apollo.io"
                  }
                },
                "name": "Log Activity in HubSpot",
                "typeVersion": 2.1,
                "onError": "continueRegularOutput"
              },
              {
                "id": "scheduleTrigger_1",
                "type": "n8n-nodes-base.scheduleTrigger",
                "position": [
                  1750,
                  300
                ],
                "parameters": {
                  "rule": "interval",
                  "notice": "",
                  "interval": 5,
                  "unit": "days"
                },
                "name": "Follow-up Reminder Scheduler",
                "typeVersion": 1.2,
                "onError": "stopWorkflow"
              },
              {
                "id": "sticky_inputs_1755001948297",
                "name": "Inputs Documentation",
                "type": "n8n-nodes-base.stickyNote",
                "typeVersion": 1,
                "position": [
                  340,
                  -90
                ],
                "parameters": {
                  "content": "## 📊 Inputs\nRetrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline.",
                  "height": 630,
                  "width": 310,
                  "color": 5
                }
              },
              {
                "id": "sticky_transforms_1755001948298",
                "name": "Transform Documentation",
                "type": "n8n-nodes-base.stickyNote",
                "typeVersion": 1,
                "position": [
                  780,
                  -90
                ],
                "parameters": {
                  "content": "## ⚙️ Transform\nEnriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data.\n\nUses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts.",
                  "height": 630,
                  "width": 630,
                  "color": 4
                }
              },
              {
                "id": "sticky_decision_1755001948298",
                "name": "Decision Documentation",
                "type": "n8n-nodes-base.stickyNote",
                "typeVersion": 1,
                "position": [
                  1540,
                  -90
                ],
                "parameters": {
                  "content": "## 🔀 Decision\nFilters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects.",
                  "height": 630,
                  "width": 310,
                  "color": 3
                }
              },
              {
                "id": "sticky_outputs_1755001948298",
                "name": "Outputs Documentation",
                "type": "n8n-nodes-base.stickyNote",
                "typeVersion": 1,
                "position": [
                  1980,
                  -90
                ],
                "parameters": {
                  "content": "## 🚀 Outputs\nSends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping.",
                  "height": 630,
                  "width": 430,
                  "color": 7
                }
              }
            ],
            "connections": {
              "Apollo Lead Retrieval": {
                "main": [
                  [
                    {
                      "node": "LinkedIn Profile Enrichment",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Company Data Enrichment",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "LinkedIn Profile Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Company Data Enrichment": {
                "main": [
                  [
                    {
                      "node": "AI Lead Scoring",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "AI Lead Scoring": {
                "main": [
                  [
                    {
                      "node": "Lead Score Filter",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Lead Score Filter": {
                "main": [
                  [
                    {
                      "node": "Send Cold Email",
                      "type": "main",
                      "index": 0
                    },
                    {
                      "node": "Log Activity in HubSpot",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              },
              "Send Cold Email": {
                "main": [
                  [
                    {
                      "node": "Follow-up Reminder Scheduler",
                      "type": "main",
                      "index": 0
                    }
                  ]
                ]
              }
            },
            "settings": {
              "executionOrder": "v1",
              "saveDataSuccessExecution": "all",
              "saveDataErrorExecution": "all",
              "saveManualExecutions": true
            },
            "valid": true
          },
          "stickyNotesAdded": 4
        },
        "transformations": [
          "Documentation Generation",
          "Sticky Note Placement",
          "Workflow Finalization"
        ]
      },
      "stateDelta": {
        "added": {},
        "modified": {
          "state": {
            "old": {
              "phase": "documentation",
              "userPrompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days",
              "discovered": [
                {
                  "id": "task_node_2",
                  "type": "nodes-base.openAi",
                  "config": {
                    "modelId": "gpt-3.5-turbo",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "messages": {
                      "values": [
                        {
                          "role": "user",
                          "content": ""
                        }
                      ]
                    },
                    "resource": "chat",
                    "operation": "message",
                    "retryOnFail": true,
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "purpose": "Send a message to an AI model and get response",
                  "displayName": "chat with ai",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_1",
                  "type": "nodes-base.httpRequest",
                  "config": {
                    "url": "",
                    "method": "GET",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "retryOnFail": true,
                    "authentication": "none",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "displayName": "get api data",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_3",
                  "type": "nodes-base.if",
                  "config": {
                    "conditions": {
                      "conditions": [
                        {
                          "operator": {
                            "type": "string",
                            "operation": "equals"
                          },
                          "leftValue": "",
                          "rightValue": ""
                        }
                      ]
                    }
                  },
                  "purpose": "Filter items based on conditions",
                  "displayName": "filter data",
                  "isPreConfigured": true
                },
                {
                  "id": "search_node_1",
                  "type": "nodes-base.linkedIn",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                },
                {
                  "id": "search_node_2",
                  "type": "nodes-base.clearbit",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information"
                },
                {
                  "id": "search_node_3",
                  "type": "nodes-base.scheduleTrigger",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                },
                {
                  "id": "search_node_4",
                  "type": "nodes-base.gmail",
                  "purpose": "Send personalized cold emails and monitor for replies"
                },
                {
                  "id": "search_node_5",
                  "type": "nodes-base.hubspot",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM"
                }
              ],
              "selected": [
                "task_node_2",
                "task_node_1",
                "task_node_3",
                "search_node_1",
                "search_node_2",
                "search_node_3",
                "search_node_4",
                "search_node_5"
              ],
              "configured": {},
              "validated": {},
              "workflow": {
                "name": "Apollo Lead Enrichment & Outreach Automation",
                "nodes": [
                  {
                    "id": "httpRequest_1",
                    "name": "Apollo Lead Retrieval",
                    "type": "n8n-nodes-base.httpRequest",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "position": [
                      250,
                      300
                    ],
                    "parameters": {
                      "qs": {
                        "page_size": "100",
                        "sort_by_field": "created_at",
                        "sort_ascending": "false"
                      },
                      "url": "https://api.apollo.io/v1/mixed_people/search",
                      "method": "GET",
                      "sendQuery": true,
                      "authentication": "predefinedCredentialType",
                      "queryParameters": {
                        "parameters": [
                          {
                            "name": "page_size",
                            "value": "100"
                          },
                          {
                            "name": "sort_by_field",
                            "value": "created_at"
                          }
                        ]
                      },
                      "nodeCredentialType": "apolloApi"
                    },
                    "typeVersion": 4.2
                  },
                  {
                    "id": "linkedIn_1",
                    "name": "LinkedIn Profile Enrichment",
                    "type": "n8n-nodes-base.linkedIn",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      200
                    ],
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "clearbit_1",
                    "name": "Company Data Enrichment",
                    "type": "n8n-nodes-base.clearbit",
                    "onError": "continueRegularOutput",
                    "position": [
                      550,
                      400
                    ],
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "openAi_1",
                    "name": "AI Lead Scoring",
                    "type": "n8n-nodes-base.openAi",
                    "onError": "continueRegularOutput",
                    "position": [
                      850,
                      300
                    ],
                    "parameters": {
                      "model": "gpt-4",
                      "options": {
                        "temperature": 0.3
                      },
                      "messages": {
                        "messages": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                          },
                          {
                            "role": "user",
                            "content": "Lead Data: {{ JSON.stringify($json) }}"
                          }
                        ]
                      },
                      "resource": "chat"
                    },
                    "typeVersion": 1.1
                  },
                  {
                    "id": "if_1",
                    "name": "Lead Score Filter",
                    "type": "n8n-nodes-base.if",
                    "onError": "continueRegularOutput",
                    "position": [
                      1150,
                      300
                    ],
                    "parameters": {
                      "conditions": {
                        "combinator": "and",
                        "conditions": [
                          {
                            "id": "score_threshold",
                            "operator": {
                              "type": "number",
                              "operation": "gte"
                            },
                            "leftValue": "={{ $json.score }}",
                            "rightValue": 70
                          }
                        ]
                      }
                    },
                    "typeVersion": 2.2
                  },
                  {
                    "id": "gmail_1",
                    "name": "Send Cold Email",
                    "type": "n8n-nodes-base.gmail",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      250
                    ],
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "{{ $json.emailSubject }}",
                      "operation": "send"
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "hubspot_1",
                    "name": "Log Activity in HubSpot",
                    "type": "n8n-nodes-base.hubspot",
                    "onError": "continueRegularOutput",
                    "position": [
                      1450,
                      400
                    ],
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "leadScore": "={{ $json.score }}",
                        "leadSource": "Apollo.io",
                        "lastContactDate": "={{ new Date().toISOString() }}"
                      }
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "scheduleTrigger_1",
                    "name": "Follow-up Reminder Scheduler",
                    "type": "n8n-nodes-base.scheduleTrigger",
                    "onError": "stopWorkflow",
                    "position": [
                      1750,
                      300
                    ],
                    "parameters": {
                      "rule": "interval",
                      "unit": "days",
                      "notice": "",
                      "interval": 5
                    },
                    "typeVersion": 1.2
                  }
                ],
                "valid": true,
                "settings": {
                  "executionOrder": "v1",
                  "saveManualExecutions": true,
                  "saveDataErrorExecution": "all",
                  "saveDataSuccessExecution": "all"
                },
                "connections": {
                  "AI Lead Scoring": {
                    "main": [
                      [
                        {
                          "node": "Lead Score Filter",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Send Cold Email": {
                    "main": [
                      [
                        {
                          "node": "Follow-up Reminder Scheduler",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Lead Score Filter": {
                    "main": [
                      [
                        {
                          "node": "Send Cold Email",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Log Activity in HubSpot",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Apollo Lead Retrieval": {
                    "main": [
                      [
                        {
                          "node": "LinkedIn Profile Enrichment",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Company Data Enrichment",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Company Data Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "LinkedIn Profile Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  }
                }
              },
              "buildPhases": [
                {
                  "type": "data_collection",
                  "nodeIds": [
                    "httpRequest_1"
                  ],
                  "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "linkedIn_1",
                    "clearbit_1"
                  ],
                  "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "openAi_1"
                  ],
                  "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                },
                {
                  "type": "decision",
                  "nodeIds": [
                    "if_1"
                  ],
                  "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                },
                {
                  "type": "notification",
                  "nodeIds": [
                    "gmail_1",
                    "hubspot_1"
                  ],
                  "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                },
                {
                  "type": "trigger",
                  "nodeIds": [
                    "scheduleTrigger_1"
                  ],
                  "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
                }
              ],
              "operationHistory": [
                {
                  "type": "completePhase",
                  "phase": "discovery",
                  "timestamp": "2025-08-12T12:31:25.605Z"
                },
                {
                  "node": {
                    "id": "task_node_2",
                    "type": "nodes-base.openAi",
                    "config": {
                      "modelId": "gpt-3.5-turbo",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "messages": {
                        "values": [
                          {
                            "role": "user",
                            "content": ""
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message",
                      "retryOnFail": true,
                      "alwaysOutputData": true,
                      "waitBetweenTries": 5000
                    },
                    "purpose": "Send a message to an AI model and get response",
                    "displayName": "chat with ai",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_1",
                    "type": "nodes-base.httpRequest",
                    "config": {
                      "url": "",
                      "method": "GET",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "retryOnFail": true,
                      "authentication": "none",
                      "alwaysOutputData": true,
                      "waitBetweenTries": 1000
                    },
                    "purpose": "Make a simple GET request to retrieve data from an API",
                    "displayName": "get api data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_3",
                    "type": "nodes-base.if",
                    "config": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "string",
                              "operation": "equals"
                            },
                            "leftValue": "",
                            "rightValue": ""
                          }
                        ]
                      }
                    },
                    "purpose": "Filter items based on conditions",
                    "displayName": "filter data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_3",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_1",
                    "type": "nodes-base.linkedIn",
                    "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_2",
                    "type": "nodes-base.clearbit",
                    "purpose": "Enrich leads with comprehensive company data and firmographic information"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_3",
                    "type": "nodes-base.scheduleTrigger",
                    "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_3",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_4",
                    "type": "nodes-base.gmail",
                    "purpose": "Send personalized cold emails and monitor for replies"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_4",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_5",
                    "type": "nodes-base.hubspot",
                    "purpose": "Log lead activity and email interactions in HubSpot CRM"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_5",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "setPhase",
                  "phase": "configuration",
                  "timestamp": "2025-08-12T12:31:43.947Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "AI Lead Scoring - Uses OpenAI to analyze lead data from Apollo.io and LinkedIn enrichment to score leads against ICP criteria for personalized outreach prioritization",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "parameters": {
                      "modelId": "gpt-4",
                      "options": {
                        "maxTokens": 500,
                        "temperature": 0.3
                      },
                      "messages": {
                        "values": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach."
                          },
                          {
                            "role": "user",
                            "content": "Please score this lead based on our ICP criteria:\n\nLead Data:\n- Name: {{ $json.name }}\n- Company: {{ $json.company }}\n- Title: {{ $json.title }}\n- Industry: {{ $json.industry }}\n- Company Size: {{ $json.company_size }}\n- Location: {{ $json.location }}\n- LinkedIn Profile: {{ $json.linkedin_profile }}\n- Company Description: {{ $json.company_description }}\n- Technologies Used: {{ $json.technologies }}\n- Recent Activity: {{ $json.recent_activity }}\n\nICP Criteria:\n- Target Industries: SaaS, Technology, E-commerce\n- Company Size: 50-500 employees\n- Decision Maker Titles: VP, Director, C-Level\n- Geographic Focus: North America, Europe\n- Tech Stack Alignment: Modern web technologies\n\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes."
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message"
                    },
                    "retryOnFail": true,
                    "typeVersion": "1",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "nodeId": "task_node_2",
                  "purpose": "Send a message to an AI model and get response",
                  "nodeType": "nodes-base.openAi",
                  "timestamp": "2025-08-12T12:31:44.187Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_2",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.365Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Retrieve new leads from Apollo.io API - first step in lead enrichment and scoring workflow",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "parameters": {
                      "qs": {
                        "page": "1",
                        "per_page": "25",
                        "q_keywords": "{{ $json.keywords || 'SaaS,software,technology' }}",
                        "person_titles": "{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}",
                        "organization_num_employees_ranges": "{{ $json.companySizeRange || '11,50' }}"
                      },
                      "url": "https://api.apollo.io/v1/people/search",
                      "method": "GET",
                      "headers": {
                        "Content-Type": "application/json",
                        "Cache-Control": "no-cache"
                      },
                      "options": {
                        "timeout": 30000,
                        "response": {
                          "response": {
                            "fullResponse": false,
                            "responseFormat": "json"
                          }
                        }
                      },
                      "authentication": "predefinedCredentialType",
                      "nodeCredentialType": "apolloApi"
                    },
                    "retryOnFail": true,
                    "typeVersion": "1",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "nodeId": "task_node_1",
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "nodeType": "nodes-base.httpRequest",
                  "timestamp": "2025-08-12T12:31:44.365Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.518Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Filter leads based on AI scoring results - only process leads that meet ICP criteria threshold for personalized outreach",
                    "parameters": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "number",
                              "operation": "largerEqual"
                            },
                            "leftValue": "{{ $json.ai_score }}",
                            "rightValue": 7
                          }
                        ]
                      }
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "task_node_3",
                  "purpose": "Filter items based on conditions",
                  "nodeType": "nodes-base.if",
                  "timestamp": "2025-08-12T12:31:44.518Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_3",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.641Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post",
                      "authentication": "standard",
                      "binaryPropertyName": "data"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_1",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
                  "nodeType": "nodes-base.linkedIn",
                  "reasoning": "This configuration sets up LinkedIn enrichment as part of the lead qualification workflow",
                  "timestamp": "2025-08-12T12:31:44.641Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post",
                      "authentication": "standard",
                      "binaryPropertyName": "data"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_1",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
                  "nodeType": "nodes-base.linkedIn",
                  "timestamp": "2025-08-12T12:31:44.760Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.878Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company",
                      "operation": "enrich"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_2",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information",
                  "nodeType": "nodes-base.clearbit",
                  "reasoning": "Configured Clearbit to enrich company data using domain from Apollo.io leads",
                  "timestamp": "2025-08-12T12:31:44.879Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company",
                      "operation": "enrich"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_2",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information",
                  "nodeType": "nodes-base.clearbit",
                  "timestamp": "2025-08-12T12:31:45.055Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_2",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.186Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                    "parameters": {
                      "rule": "interval",
                      "notice": "",
                      "interval": [
                        {
                          "field": "days",
                          "value": 5
                        }
                      ]
                    },
                    "typeVersion": "1.2"
                  },
                  "nodeId": "search_node_3",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
                  "nodeType": "nodes-base.scheduleTrigger",
                  "reasoning": "Configured Schedule Trigger to run every 5 days as specified in the user's requirement for follow-up reminders",
                  "timestamp": "2025-08-12T12:31:45.186Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                    "parameters": {
                      "rule": "interval",
                      "notice": "",
                      "interval": [
                        {
                          "field": "days",
                          "value": 5
                        }
                      ]
                    },
                    "typeVersion": "1.2"
                  },
                  "nodeId": "search_node_3",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
                  "nodeType": "nodes-base.scheduleTrigger",
                  "timestamp": "2025-08-12T12:31:45.389Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_3",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.554Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                      "resource": "message",
                      "emailType": "html",
                      "operation": "send"
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_4",
                  "purpose": "Send personalized cold emails and monitor for replies",
                  "nodeType": "nodes-base.gmail",
                  "reasoning": "Configured Gmail node to send personalized cold emails using the 'message' resource with 'send' operation",
                  "timestamp": "2025-08-12T12:31:45.554Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                      "resource": "message",
                      "emailType": "html",
                      "operation": "send"
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_4",
                  "purpose": "Send personalized cold emails and monitor for replies",
                  "nodeType": "nodes-base.gmail",
                  "timestamp": "2025-08-12T12:31:45.685Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_4",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.809Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "phone": "={{ $json.phone }}",
                        "company": "={{ $json.company }}",
                        "website": "={{ $json.companyWebsite }}",
                        "jobtitle": "={{ $json.jobTitle }}",
                        "lastname": "={{ $json.lastName }}",
                        "firstname": "={{ $json.firstName }}",
                        "lead_source": "Apollo.io",
                        "lead_status": "new",
                        "ai_lead_score": "={{ $json.aiScore }}",
                        "email_campaign": "Cold Outreach",
                        "hs_lead_status": "NEW",
                        "lifecyclestage": "lead",
                        "last_email_sent": "={{ new Date().toISOString() }}",
                        "linkedin_profile": "={{ $json.linkedinProfile }}",
                        "notes_last_contacted": "Initial cold email sent via automated workflow"
                      }
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_5",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM",
                  "nodeType": "nodes-base.hubspot",
                  "reasoning": "Configured HubSpot to upsert contacts, ensuring leads from Apollo.io are properly logged without creating duplicates",
                  "timestamp": "2025-08-12T12:31:45.809Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "phone": "={{ $json.phone }}",
                        "company": "={{ $json.company }}",
                        "website": "={{ $json.companyWebsite }}",
                        "jobtitle": "={{ $json.jobTitle }}",
                        "lastname": "={{ $json.lastName }}",
                        "firstname": "={{ $json.firstName }}",
                        "lead_source": "Apollo.io",
                        "lead_status": "new",
                        "ai_lead_score": "={{ $json.aiScore }}",
                        "email_campaign": "Cold Outreach",
                        "hs_lead_status": "NEW",
                        "lifecyclestage": "lead",
                        "last_email_sent": "={{ new Date().toISOString() }}",
                        "linkedin_profile": "={{ $json.linkedinProfile }}",
                        "notes_last_contacted": "Initial cold email sent via automated workflow"
                      }
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_5",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM",
                  "nodeType": "nodes-base.hubspot",
                  "timestamp": "2025-08-12T12:31:45.995Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_5",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:46.140Z"
                },
                {
                  "type": "completePhase",
                  "phase": "configuration",
                  "timestamp": "2025-08-12T12:31:46.140Z"
                },
                {
                  "type": "setPhase",
                  "phase": "building",
                  "timestamp": "2025-08-12T12:32:18.016Z"
                },
                {
                  "type": "setWorkflow",
                  "workflow": {
                    "name": "Apollo Lead Enrichment & Outreach Automation",
                    "nodes": [
                      {
                        "id": "httpRequest_1",
                        "name": "Apollo Lead Retrieval",
                        "type": "n8n-nodes-base.httpRequest",
                        "onError": "continueRegularOutput",
                        "maxTries": 3,
                        "position": [
                          250,
                          300
                        ],
                        "parameters": {
                          "qs": {
                            "page_size": "100",
                            "sort_by_field": "created_at",
                            "sort_ascending": "false"
                          },
                          "url": "https://api.apollo.io/v1/mixed_people/search",
                          "method": "GET",
                          "sendQuery": true,
                          "authentication": "predefinedCredentialType",
                          "queryParameters": {
                            "parameters": [
                              {
                                "name": "page_size",
                                "value": "100"
                              },
                              {
                                "name": "sort_by_field",
                                "value": "created_at"
                              }
                            ]
                          },
                          "nodeCredentialType": "apolloApi"
                        },
                        "typeVersion": 4.2
                      },
                      {
                        "id": "linkedIn_1",
                        "name": "LinkedIn Profile Enrichment",
                        "type": "n8n-nodes-base.linkedIn",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          200
                        ],
                        "parameters": {
                          "person": "={{ $json.linkedinProfileId || $json.email }}",
                          "postAs": "person",
                          "resource": "profile"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "clearbit_1",
                        "name": "Company Data Enrichment",
                        "type": "n8n-nodes-base.clearbit",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          400
                        ],
                        "parameters": {
                          "domain": "={{ $json.company_domain || $json.domain }}",
                          "resource": "company"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "openAi_1",
                        "name": "AI Lead Scoring",
                        "type": "n8n-nodes-base.openAi",
                        "onError": "continueRegularOutput",
                        "position": [
                          850,
                          300
                        ],
                        "parameters": {
                          "model": "gpt-4",
                          "options": {
                            "temperature": 0.3
                          },
                          "messages": {
                            "messages": [
                              {
                                "role": "system",
                                "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                              },
                              {
                                "role": "user",
                                "content": "Lead Data: {{ JSON.stringify($json) }}"
                              }
                            ]
                          },
                          "resource": "chat"
                        },
                        "typeVersion": 1.3
                      },
                      {
                        "id": "if_1",
                        "name": "Lead Score Filter",
                        "type": "n8n-nodes-base.if",
                        "onError": "continueRegularOutput",
                        "position": [
                          1150,
                          300
                        ],
                        "parameters": {
                          "conditions": {
                            "combinator": "and",
                            "conditions": [
                              {
                                "id": "score_threshold",
                                "operator": {
                                  "type": "number",
                                  "operation": "gte"
                                },
                                "leftValue": "={{ $json.score }}",
                                "rightValue": 70
                              }
                            ]
                          }
                        },
                        "typeVersion": 2
                      },
                      {
                        "id": "gmail_1",
                        "name": "Send Cold Email",
                        "type": "n8n-nodes-base.gmail",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          250
                        ],
                        "parameters": {
                          "sendTo": "={{ $json.email }}",
                          "message": "={{ $json.personalizedEmail }}",
                          "subject": "{{ $json.emailSubject }}",
                          "operation": "send"
                        },
                        "typeVersion": 2.1
                      },
                      {
                        "id": "hubspot_1",
                        "name": "Log Activity in HubSpot",
                        "type": "n8n-nodes-base.hubspot",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          400
                        ],
                        "parameters": {
                          "email": "={{ $json.email }}",
                          "resource": "contact",
                          "operation": "upsert",
                          "additionalFields": {
                            "leadScore": "={{ $json.score }}",
                            "leadSource": "Apollo.io",
                            "lastContactDate": "={{ new Date().toISOString() }}"
                          }
                        },
                        "typeVersion": 2
                      },
                      {
                        "id": "scheduleTrigger_1",
                        "name": "Follow-up Reminder Scheduler",
                        "type": "n8n-nodes-base.scheduleTrigger",
                        "onError": "stopWorkflow",
                        "position": [
                          1750,
                          300
                        ],
                        "parameters": {
                          "rule": "interval",
                          "unit": "days",
                          "notice": "",
                          "interval": 5
                        },
                        "typeVersion": 1.2
                      }
                    ],
                    "settings": {
                      "executionOrder": "v1",
                      "saveManualExecutions": true,
                      "saveDataErrorExecution": "all",
                      "saveDataSuccessExecution": "all"
                    },
                    "connections": {
                      "AI Lead Scoring": {
                        "main": [
                          [
                            {
                              "node": "Lead Score Filter",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Send Cold Email": {
                        "main": [
                          [
                            {
                              "node": "Follow-up Reminder Scheduler",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Lead Score Filter": {
                        "main": [
                          [
                            {
                              "node": "Send Cold Email",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Log Activity in HubSpot",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Apollo Lead Retrieval": {
                        "main": [
                          [
                            {
                              "node": "LinkedIn Profile Enrichment",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Company Data Enrichment",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Company Data Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "LinkedIn Profile Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      }
                    }
                  },
                  "timestamp": "2025-08-12T12:32:18.249Z"
                },
                {
                  "type": "setBuildPhases",
                  "phases": [
                    {
                      "type": "data_collection",
                      "nodeIds": [
                        "httpRequest_1"
                      ],
                      "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                    },
                    {
                      "type": "data_processing",
                      "nodeIds": [
                        "linkedIn_1",
                        "clearbit_1"
                      ],
                      "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
                    },
                    {
                      "type": "data_processing",
                      "nodeIds": [
                        "openAi_1"
                      ],
                      "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                    },
                    {
                      "type": "decision",
                      "nodeIds": [
                        "if_1"
                      ],
                      "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                    },
                    {
                      "type": "notification",
                      "nodeIds": [
                        "gmail_1",
                        "hubspot_1"
                      ],
                      "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                    },
                    {
                      "type": "trigger",
                      "nodeIds": [
                        "scheduleTrigger_1"
                      ],
                      "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
                    }
                  ],
                  "timestamp": "2025-08-12T12:32:18.250Z"
                },
                {
                  "type": "completePhase",
                  "phase": "building",
                  "timestamp": "2025-08-12T12:32:18.250Z"
                },
                {
                  "type": "setPhase",
                  "phase": "validation",
                  "timestamp": "2025-08-12T12:32:27.308Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "linkedIn_1",
                  "result": {
                    "valid": false,
                    "errors": [
                      "Node replaced entirely"
                    ]
                  },
                  "attempt": 1,
                  "reasoning": "Node replaced to fix validation errors",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "openAi_1",
                  "result": {
                    "valid": false,
                    "errors": [
                      "Node replaced entirely"
                    ]
                  },
                  "attempt": 1,
                  "reasoning": "Node replaced to fix validation errors",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "if_1",
                  "result": {
                    "valid": false,
                    "errors": [
                      "Node replaced entirely"
                    ]
                  },
                  "attempt": 1,
                  "reasoning": "Node replaced to fix validation errors",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "hubspot_1",
                  "result": {
                    "valid": false,
                    "errors": [
                      "Node replaced entirely"
                    ]
                  },
                  "attempt": 1,
                  "reasoning": "Node replaced to fix validation errors",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "httpRequest_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "linkedIn_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "clearbit_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "openAi_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "if_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "gmail_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "hubspot_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.786Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "scheduleTrigger_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.786Z"
                },
                {
                  "type": "setWorkflow",
                  "workflow": {
                    "name": "Apollo Lead Enrichment & Outreach Automation",
                    "nodes": [
                      {
                        "id": "httpRequest_1",
                        "name": "Apollo Lead Retrieval",
                        "type": "n8n-nodes-base.httpRequest",
                        "onError": "continueRegularOutput",
                        "maxTries": 3,
                        "position": [
                          250,
                          300
                        ],
                        "parameters": {
                          "qs": {
                            "page_size": "100",
                            "sort_by_field": "created_at",
                            "sort_ascending": "false"
                          },
                          "url": "https://api.apollo.io/v1/mixed_people/search",
                          "method": "GET",
                          "sendQuery": true,
                          "authentication": "predefinedCredentialType",
                          "queryParameters": {
                            "parameters": [
                              {
                                "name": "page_size",
                                "value": "100"
                              },
                              {
                                "name": "sort_by_field",
                                "value": "created_at"
                              }
                            ]
                          },
                          "nodeCredentialType": "apolloApi"
                        },
                        "typeVersion": 4.2
                      },
                      {
                        "id": "linkedIn_1",
                        "name": "LinkedIn Profile Enrichment",
                        "type": "n8n-nodes-base.linkedIn",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          200
                        ],
                        "parameters": {
                          "person": "={{ $json.linkedinProfileId || $json.email }}",
                          "postAs": "person",
                          "resource": "post"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "clearbit_1",
                        "name": "Company Data Enrichment",
                        "type": "n8n-nodes-base.clearbit",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          400
                        ],
                        "parameters": {
                          "domain": "={{ $json.company_domain || $json.domain }}",
                          "resource": "company"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "openAi_1",
                        "name": "AI Lead Scoring",
                        "type": "n8n-nodes-base.openAi",
                        "onError": "continueRegularOutput",
                        "position": [
                          850,
                          300
                        ],
                        "parameters": {
                          "model": "gpt-4",
                          "options": {
                            "temperature": 0.3
                          },
                          "messages": {
                            "messages": [
                              {
                                "role": "system",
                                "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                              },
                              {
                                "role": "user",
                                "content": "Lead Data: {{ JSON.stringify($json) }}"
                              }
                            ]
                          },
                          "resource": "chat"
                        },
                        "typeVersion": 1.1
                      },
                      {
                        "id": "if_1",
                        "name": "Lead Score Filter",
                        "type": "n8n-nodes-base.if",
                        "onError": "continueRegularOutput",
                        "position": [
                          1150,
                          300
                        ],
                        "parameters": {
                          "conditions": {
                            "combinator": "and",
                            "conditions": [
                              {
                                "id": "score_threshold",
                                "operator": {
                                  "type": "number",
                                  "operation": "gte"
                                },
                                "leftValue": "={{ $json.score }}",
                                "rightValue": 70
                              }
                            ]
                          }
                        },
                        "typeVersion": 2.2
                      },
                      {
                        "id": "gmail_1",
                        "name": "Send Cold Email",
                        "type": "n8n-nodes-base.gmail",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          250
                        ],
                        "parameters": {
                          "sendTo": "={{ $json.email }}",
                          "message": "={{ $json.personalizedEmail }}",
                          "subject": "{{ $json.emailSubject }}",
                          "operation": "send"
                        },
                        "typeVersion": 2.1
                      },
                      {
                        "id": "hubspot_1",
                        "name": "Log Activity in HubSpot",
                        "type": "n8n-nodes-base.hubspot",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          400
                        ],
                        "parameters": {
                          "email": "={{ $json.email }}",
                          "resource": "contact",
                          "operation": "upsert",
                          "additionalFields": {
                            "leadScore": "={{ $json.score }}",
                            "leadSource": "Apollo.io",
                            "lastContactDate": "={{ new Date().toISOString() }}"
                          }
                        },
                        "typeVersion": 2.1
                      },
                      {
                        "id": "scheduleTrigger_1",
                        "name": "Follow-up Reminder Scheduler",
                        "type": "n8n-nodes-base.scheduleTrigger",
                        "onError": "stopWorkflow",
                        "position": [
                          1750,
                          300
                        ],
                        "parameters": {
                          "rule": "interval",
                          "unit": "days",
                          "notice": "",
                          "interval": 5
                        },
                        "typeVersion": 1.2
                      }
                    ],
                    "valid": true,
                    "settings": {
                      "executionOrder": "v1",
                      "saveManualExecutions": true,
                      "saveDataErrorExecution": "all",
                      "saveDataSuccessExecution": "all"
                    },
                    "connections": {
                      "AI Lead Scoring": {
                        "main": [
                          [
                            {
                              "node": "Lead Score Filter",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Send Cold Email": {
                        "main": [
                          [
                            {
                              "node": "Follow-up Reminder Scheduler",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Lead Score Filter": {
                        "main": [
                          [
                            {
                              "node": "Send Cold Email",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Log Activity in HubSpot",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Apollo Lead Retrieval": {
                        "main": [
                          [
                            {
                              "node": "LinkedIn Profile Enrichment",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Company Data Enrichment",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Company Data Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "LinkedIn Profile Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      }
                    }
                  },
                  "timestamp": "2025-08-12T12:32:27.786Z"
                },
                {
                  "type": "completePhase",
                  "phase": "validation",
                  "timestamp": "2025-08-12T12:32:27.786Z"
                }
              ],
              "pendingClarifications": [],
              "clarificationHistory": []
            },
            "new": {
              "phase": "complete",
              "userPrompt": "“Create an n8n workflow that: 1) pulls new leads from Apollo.io, 2) enriches with LinkedIn profile & company data, 3) uses an AI model to score leads based on ICP criteria, 4) sends a personalized cold email via Gmail, 5) logs activity in HubSpot, and 6) schedules follow-up reminders if no reply within 5 days",
              "discovered": [
                {
                  "id": "task_node_2",
                  "type": "nodes-base.openAi",
                  "config": {
                    "modelId": "gpt-3.5-turbo",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "messages": {
                      "values": [
                        {
                          "role": "user",
                          "content": ""
                        }
                      ]
                    },
                    "resource": "chat",
                    "operation": "message",
                    "retryOnFail": true,
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "purpose": "Send a message to an AI model and get response",
                  "displayName": "chat with ai",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_1",
                  "type": "nodes-base.httpRequest",
                  "config": {
                    "url": "",
                    "method": "GET",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "retryOnFail": true,
                    "authentication": "none",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "displayName": "get api data",
                  "isPreConfigured": true
                },
                {
                  "id": "task_node_3",
                  "type": "nodes-base.if",
                  "config": {
                    "conditions": {
                      "conditions": [
                        {
                          "operator": {
                            "type": "string",
                            "operation": "equals"
                          },
                          "leftValue": "",
                          "rightValue": ""
                        }
                      ]
                    }
                  },
                  "purpose": "Filter items based on conditions",
                  "displayName": "filter data",
                  "isPreConfigured": true
                },
                {
                  "id": "search_node_1",
                  "type": "nodes-base.linkedIn",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                },
                {
                  "id": "search_node_2",
                  "type": "nodes-base.clearbit",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information"
                },
                {
                  "id": "search_node_3",
                  "type": "nodes-base.scheduleTrigger",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                },
                {
                  "id": "search_node_4",
                  "type": "nodes-base.gmail",
                  "purpose": "Send personalized cold emails and monitor for replies"
                },
                {
                  "id": "search_node_5",
                  "type": "nodes-base.hubspot",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM"
                }
              ],
              "selected": [
                "task_node_2",
                "task_node_1",
                "task_node_3",
                "search_node_1",
                "search_node_2",
                "search_node_3",
                "search_node_4",
                "search_node_5"
              ],
              "configured": {},
              "validated": {},
              "workflow": {
                "name": "Apollo Lead Enrichment & Outreach Automation",
                "nodes": [
                  {
                    "id": "httpRequest_1",
                    "name": "Apollo Lead Retrieval",
                    "type": "n8n-nodes-base.httpRequest",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "position": [
                      420,
                      300
                    ],
                    "parameters": {
                      "qs": {
                        "page_size": "100",
                        "sort_by_field": "created_at",
                        "sort_ascending": "false"
                      },
                      "url": "https://api.apollo.io/v1/mixed_people/search",
                      "method": "GET",
                      "sendQuery": true,
                      "authentication": "predefinedCredentialType",
                      "queryParameters": {
                        "parameters": [
                          {
                            "name": "page_size",
                            "value": "100"
                          },
                          {
                            "name": "sort_by_field",
                            "value": "created_at"
                          }
                        ]
                      },
                      "nodeCredentialType": "apolloApi"
                    },
                    "typeVersion": 4.2
                  },
                  {
                    "id": "linkedIn_1",
                    "name": "LinkedIn Profile Enrichment",
                    "type": "n8n-nodes-base.linkedIn",
                    "onError": "continueRegularOutput",
                    "position": [
                      820,
                      200
                    ],
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "clearbit_1",
                    "name": "Company Data Enrichment",
                    "type": "n8n-nodes-base.clearbit",
                    "onError": "continueRegularOutput",
                    "position": [
                      1020,
                      400
                    ],
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company"
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "openAi_1",
                    "name": "AI Lead Scoring",
                    "type": "n8n-nodes-base.openAi",
                    "onError": "continueRegularOutput",
                    "position": [
                      1220,
                      300
                    ],
                    "parameters": {
                      "model": "gpt-4",
                      "options": {
                        "temperature": 0.3
                      },
                      "messages": {
                        "messages": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                          },
                          {
                            "role": "user",
                            "content": "Lead Data: {{ JSON.stringify($json) }}"
                          }
                        ]
                      },
                      "resource": "chat"
                    },
                    "typeVersion": 1.1
                  },
                  {
                    "id": "if_1",
                    "name": "Lead Score Filter",
                    "type": "n8n-nodes-base.if",
                    "onError": "continueRegularOutput",
                    "position": [
                      1620,
                      300
                    ],
                    "parameters": {
                      "conditions": {
                        "combinator": "and",
                        "conditions": [
                          {
                            "id": "score_threshold",
                            "operator": {
                              "type": "number",
                              "operation": "gte"
                            },
                            "leftValue": "={{ $json.score }}",
                            "rightValue": 70
                          }
                        ]
                      }
                    },
                    "typeVersion": 2.2
                  },
                  {
                    "id": "gmail_1",
                    "name": "Send Cold Email",
                    "type": "n8n-nodes-base.gmail",
                    "onError": "continueRegularOutput",
                    "position": [
                      2020,
                      250
                    ],
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "{{ $json.emailSubject }}",
                      "operation": "send"
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "hubspot_1",
                    "name": "Log Activity in HubSpot",
                    "type": "n8n-nodes-base.hubspot",
                    "onError": "continueRegularOutput",
                    "position": [
                      2220,
                      400
                    ],
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "leadScore": "={{ $json.score }}",
                        "leadSource": "Apollo.io",
                        "lastContactDate": "={{ new Date().toISOString() }}"
                      }
                    },
                    "typeVersion": 2.1
                  },
                  {
                    "id": "scheduleTrigger_1",
                    "name": "Follow-up Reminder Scheduler",
                    "type": "n8n-nodes-base.scheduleTrigger",
                    "onError": "stopWorkflow",
                    "position": [
                      1750,
                      300
                    ],
                    "parameters": {
                      "rule": "interval",
                      "unit": "days",
                      "notice": "",
                      "interval": 5
                    },
                    "typeVersion": 1.2
                  },
                  {
                    "id": "sticky_inputs_1755001948297",
                    "name": "Inputs Documentation",
                    "type": "n8n-nodes-base.stickyNote",
                    "position": [
                      340,
                      -90
                    ],
                    "parameters": {
                      "color": 5,
                      "width": 310,
                      "height": 630,
                      "content": "## 📊 Inputs\nRetrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "sticky_transforms_1755001948298",
                    "name": "Transform Documentation",
                    "type": "n8n-nodes-base.stickyNote",
                    "position": [
                      780,
                      -90
                    ],
                    "parameters": {
                      "color": 4,
                      "width": 630,
                      "height": 630,
                      "content": "## ⚙️ Transform\nEnriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data.\n\nUses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "sticky_decision_1755001948298",
                    "name": "Decision Documentation",
                    "type": "n8n-nodes-base.stickyNote",
                    "position": [
                      1540,
                      -90
                    ],
                    "parameters": {
                      "color": 3,
                      "width": 310,
                      "height": 630,
                      "content": "## 🔀 Decision\nFilters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                    },
                    "typeVersion": 1
                  },
                  {
                    "id": "sticky_outputs_1755001948298",
                    "name": "Outputs Documentation",
                    "type": "n8n-nodes-base.stickyNote",
                    "position": [
                      1980,
                      -90
                    ],
                    "parameters": {
                      "color": 7,
                      "width": 430,
                      "height": 630,
                      "content": "## 🚀 Outputs\nSends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                    },
                    "typeVersion": 1
                  }
                ],
                "valid": true,
                "settings": {
                  "executionOrder": "v1",
                  "saveManualExecutions": true,
                  "saveDataErrorExecution": "all",
                  "saveDataSuccessExecution": "all"
                },
                "connections": {
                  "AI Lead Scoring": {
                    "main": [
                      [
                        {
                          "node": "Lead Score Filter",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Send Cold Email": {
                    "main": [
                      [
                        {
                          "node": "Follow-up Reminder Scheduler",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Lead Score Filter": {
                    "main": [
                      [
                        {
                          "node": "Send Cold Email",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Log Activity in HubSpot",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Apollo Lead Retrieval": {
                    "main": [
                      [
                        {
                          "node": "LinkedIn Profile Enrichment",
                          "type": "main",
                          "index": 0
                        },
                        {
                          "node": "Company Data Enrichment",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "Company Data Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  },
                  "LinkedIn Profile Enrichment": {
                    "main": [
                      [
                        {
                          "node": "AI Lead Scoring",
                          "type": "main",
                          "index": 0
                        }
                      ]
                    ]
                  }
                }
              },
              "buildPhases": [
                {
                  "type": "data_collection",
                  "nodeIds": [
                    "httpRequest_1"
                  ],
                  "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "linkedIn_1",
                    "clearbit_1"
                  ],
                  "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
                },
                {
                  "type": "data_processing",
                  "nodeIds": [
                    "openAi_1"
                  ],
                  "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                },
                {
                  "type": "decision",
                  "nodeIds": [
                    "if_1"
                  ],
                  "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                },
                {
                  "type": "notification",
                  "nodeIds": [
                    "gmail_1",
                    "hubspot_1"
                  ],
                  "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                },
                {
                  "type": "trigger",
                  "nodeIds": [
                    "scheduleTrigger_1"
                  ],
                  "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
                }
              ],
              "operationHistory": [
                {
                  "type": "completePhase",
                  "phase": "discovery",
                  "timestamp": "2025-08-12T12:31:25.605Z"
                },
                {
                  "node": {
                    "id": "task_node_2",
                    "type": "nodes-base.openAi",
                    "config": {
                      "modelId": "gpt-3.5-turbo",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "messages": {
                        "values": [
                          {
                            "role": "user",
                            "content": ""
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message",
                      "retryOnFail": true,
                      "alwaysOutputData": true,
                      "waitBetweenTries": 5000
                    },
                    "purpose": "Send a message to an AI model and get response",
                    "displayName": "chat with ai",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_1",
                    "type": "nodes-base.httpRequest",
                    "config": {
                      "url": "",
                      "method": "GET",
                      "onError": "continueRegularOutput",
                      "maxTries": 3,
                      "retryOnFail": true,
                      "authentication": "none",
                      "alwaysOutputData": true,
                      "waitBetweenTries": 1000
                    },
                    "purpose": "Make a simple GET request to retrieve data from an API",
                    "displayName": "get api data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "task_node_3",
                    "type": "nodes-base.if",
                    "config": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "string",
                              "operation": "equals"
                            },
                            "leftValue": "",
                            "rightValue": ""
                          }
                        ]
                      }
                    },
                    "purpose": "Filter items based on conditions",
                    "displayName": "filter data",
                    "isPreConfigured": true
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "task_node_3",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_1",
                    "type": "nodes-base.linkedIn",
                    "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_1",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_2",
                    "type": "nodes-base.clearbit",
                    "purpose": "Enrich leads with comprehensive company data and firmographic information"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_2",
                  "timestamp": "2025-08-12T12:31:26.168Z"
                },
                {
                  "node": {
                    "id": "search_node_3",
                    "type": "nodes-base.scheduleTrigger",
                    "purpose": "Schedule follow-up reminders after 5 days if no email reply received"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_3",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_4",
                    "type": "nodes-base.gmail",
                    "purpose": "Send personalized cold emails and monitor for replies"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_4",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "node": {
                    "id": "search_node_5",
                    "type": "nodes-base.hubspot",
                    "purpose": "Log lead activity and email interactions in HubSpot CRM"
                  },
                  "type": "discoverNode",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "selectNode",
                  "nodeId": "search_node_5",
                  "timestamp": "2025-08-12T12:31:26.399Z"
                },
                {
                  "type": "setPhase",
                  "phase": "configuration",
                  "timestamp": "2025-08-12T12:31:43.947Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "AI Lead Scoring - Uses OpenAI to analyze lead data from Apollo.io and LinkedIn enrichment to score leads against ICP criteria for personalized outreach prioritization",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "parameters": {
                      "modelId": "gpt-4",
                      "options": {
                        "maxTokens": 500,
                        "temperature": 0.3
                      },
                      "messages": {
                        "values": [
                          {
                            "role": "system",
                            "content": "You are a lead scoring AI that evaluates prospects against Ideal Customer Profile (ICP) criteria. Analyze the provided lead data and return a JSON response with: score (0-100), reasoning, priority_level (hot/warm/cold), and personalization_notes for outreach."
                          },
                          {
                            "role": "user",
                            "content": "Please score this lead based on our ICP criteria:\n\nLead Data:\n- Name: {{ $json.name }}\n- Company: {{ $json.company }}\n- Title: {{ $json.title }}\n- Industry: {{ $json.industry }}\n- Company Size: {{ $json.company_size }}\n- Location: {{ $json.location }}\n- LinkedIn Profile: {{ $json.linkedin_profile }}\n- Company Description: {{ $json.company_description }}\n- Technologies Used: {{ $json.technologies }}\n- Recent Activity: {{ $json.recent_activity }}\n\nICP Criteria:\n- Target Industries: SaaS, Technology, E-commerce\n- Company Size: 50-500 employees\n- Decision Maker Titles: VP, Director, C-Level\n- Geographic Focus: North America, Europe\n- Tech Stack Alignment: Modern web technologies\n\nReturn your analysis as JSON with score, reasoning, priority_level, and personalization_notes."
                          }
                        ]
                      },
                      "resource": "chat",
                      "operation": "message"
                    },
                    "retryOnFail": true,
                    "typeVersion": "1",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 5000
                  },
                  "nodeId": "task_node_2",
                  "purpose": "Send a message to an AI model and get response",
                  "nodeType": "nodes-base.openAi",
                  "timestamp": "2025-08-12T12:31:44.187Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_2",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.365Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Retrieve new leads from Apollo.io API - first step in lead enrichment and scoring workflow",
                    "onError": "continueRegularOutput",
                    "maxTries": 3,
                    "parameters": {
                      "qs": {
                        "page": "1",
                        "per_page": "25",
                        "q_keywords": "{{ $json.keywords || 'SaaS,software,technology' }}",
                        "person_titles": "{{ $json.targetTitles || 'CEO,CTO,VP Engineering,Head of Engineering' }}",
                        "organization_num_employees_ranges": "{{ $json.companySizeRange || '11,50' }}"
                      },
                      "url": "https://api.apollo.io/v1/people/search",
                      "method": "GET",
                      "headers": {
                        "Content-Type": "application/json",
                        "Cache-Control": "no-cache"
                      },
                      "options": {
                        "timeout": 30000,
                        "response": {
                          "response": {
                            "fullResponse": false,
                            "responseFormat": "json"
                          }
                        }
                      },
                      "authentication": "predefinedCredentialType",
                      "nodeCredentialType": "apolloApi"
                    },
                    "retryOnFail": true,
                    "typeVersion": "1",
                    "alwaysOutputData": true,
                    "waitBetweenTries": 1000
                  },
                  "nodeId": "task_node_1",
                  "purpose": "Make a simple GET request to retrieve data from an API",
                  "nodeType": "nodes-base.httpRequest",
                  "timestamp": "2025-08-12T12:31:44.365Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.518Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Filter leads based on AI scoring results - only process leads that meet ICP criteria threshold for personalized outreach",
                    "parameters": {
                      "conditions": {
                        "conditions": [
                          {
                            "operator": {
                              "type": "number",
                              "operation": "largerEqual"
                            },
                            "leftValue": "{{ $json.ai_score }}",
                            "rightValue": 7
                          }
                        ]
                      }
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "task_node_3",
                  "purpose": "Filter items based on conditions",
                  "nodeType": "nodes-base.if",
                  "timestamp": "2025-08-12T12:31:44.518Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "task_node_3",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.641Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post",
                      "authentication": "standard",
                      "binaryPropertyName": "data"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_1",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
                  "nodeType": "nodes-base.linkedIn",
                  "reasoning": "This configuration sets up LinkedIn enrichment as part of the lead qualification workflow",
                  "timestamp": "2025-08-12T12:31:44.641Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches lead data with LinkedIn profile information for better lead qualification",
                    "parameters": {
                      "person": "={{ $json.linkedinProfileId || $json.email }}",
                      "postAs": "person",
                      "resource": "post",
                      "authentication": "standard",
                      "binaryPropertyName": "data"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_1",
                  "purpose": "Enrich leads with LinkedIn profile data using LinkedIn API",
                  "nodeType": "nodes-base.linkedIn",
                  "timestamp": "2025-08-12T12:31:44.760Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:44.878Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company",
                      "operation": "enrich"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_2",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information",
                  "nodeType": "nodes-base.clearbit",
                  "reasoning": "Configured Clearbit to enrich company data using domain from Apollo.io leads",
                  "timestamp": "2025-08-12T12:31:44.879Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Enriches leads with comprehensive company data and firmographic information using Clearbit API",
                    "parameters": {
                      "domain": "={{ $json.company_domain || $json.domain }}",
                      "resource": "company",
                      "operation": "enrich"
                    },
                    "typeVersion": "1"
                  },
                  "nodeId": "search_node_2",
                  "purpose": "Enrich leads with comprehensive company data and firmographic information",
                  "nodeType": "nodes-base.clearbit",
                  "timestamp": "2025-08-12T12:31:45.055Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_2",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.186Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                    "parameters": {
                      "rule": "interval",
                      "notice": "",
                      "interval": [
                        {
                          "field": "days",
                          "value": 5
                        }
                      ]
                    },
                    "typeVersion": "1.2"
                  },
                  "nodeId": "search_node_3",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
                  "nodeType": "nodes-base.scheduleTrigger",
                  "reasoning": "Configured Schedule Trigger to run every 5 days as specified in the user's requirement for follow-up reminders",
                  "timestamp": "2025-08-12T12:31:45.186Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Triggers follow-up workflow every 5 days to check for email replies and send reminders for unresponded leads",
                    "parameters": {
                      "rule": "interval",
                      "notice": "",
                      "interval": [
                        {
                          "field": "days",
                          "value": 5
                        }
                      ]
                    },
                    "typeVersion": "1.2"
                  },
                  "nodeId": "search_node_3",
                  "purpose": "Schedule follow-up reminders after 5 days if no email reply received",
                  "nodeType": "nodes-base.scheduleTrigger",
                  "timestamp": "2025-08-12T12:31:45.389Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_3",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.554Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                      "resource": "message",
                      "emailType": "html",
                      "operation": "send"
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_4",
                  "purpose": "Send personalized cold emails and monitor for replies",
                  "nodeType": "nodes-base.gmail",
                  "reasoning": "Configured Gmail node to send personalized cold emails using the 'message' resource with 'send' operation",
                  "timestamp": "2025-08-12T12:31:45.554Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Sends personalized cold emails to enriched leads with AI-scored ICP criteria",
                    "parameters": {
                      "sendTo": "={{ $json.email }}",
                      "message": "={{ $json.personalizedEmail }}",
                      "subject": "={{ $json.personalizedSubject || 'Quick question about ' + $json.companyName }}",
                      "resource": "message",
                      "emailType": "html",
                      "operation": "send"
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_4",
                  "purpose": "Send personalized cold emails and monitor for replies",
                  "nodeType": "nodes-base.gmail",
                  "timestamp": "2025-08-12T12:31:45.685Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_4",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:45.809Z"
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "phone": "={{ $json.phone }}",
                        "company": "={{ $json.company }}",
                        "website": "={{ $json.companyWebsite }}",
                        "jobtitle": "={{ $json.jobTitle }}",
                        "lastname": "={{ $json.lastName }}",
                        "firstname": "={{ $json.firstName }}",
                        "lead_source": "Apollo.io",
                        "lead_status": "new",
                        "ai_lead_score": "={{ $json.aiScore }}",
                        "email_campaign": "Cold Outreach",
                        "hs_lead_status": "NEW",
                        "lifecyclestage": "lead",
                        "last_email_sent": "={{ new Date().toISOString() }}",
                        "linkedin_profile": "={{ $json.linkedinProfile }}",
                        "notes_last_contacted": "Initial cold email sent via automated workflow"
                      }
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_5",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM",
                  "nodeType": "nodes-base.hubspot",
                  "reasoning": "Configured HubSpot to upsert contacts, ensuring leads from Apollo.io are properly logged without creating duplicates",
                  "timestamp": "2025-08-12T12:31:45.809Z",
                  "operationIndex": 0
                },
                {
                  "type": "configureNode",
                  "config": {
                    "notes": "Logs lead activity and email interactions in HubSpot CRM by creating or updating contact records with enriched data and engagement tracking",
                    "parameters": {
                      "email": "={{ $json.email }}",
                      "resource": "contact",
                      "operation": "upsert",
                      "additionalFields": {
                        "phone": "={{ $json.phone }}",
                        "company": "={{ $json.company }}",
                        "website": "={{ $json.companyWebsite }}",
                        "jobtitle": "={{ $json.jobTitle }}",
                        "lastname": "={{ $json.lastName }}",
                        "firstname": "={{ $json.firstName }}",
                        "lead_source": "Apollo.io",
                        "lead_status": "new",
                        "ai_lead_score": "={{ $json.aiScore }}",
                        "email_campaign": "Cold Outreach",
                        "hs_lead_status": "NEW",
                        "lifecyclestage": "lead",
                        "last_email_sent": "={{ new Date().toISOString() }}",
                        "linkedin_profile": "={{ $json.linkedinProfile }}",
                        "notes_last_contacted": "Initial cold email sent via automated workflow"
                      }
                    },
                    "typeVersion": "2.1"
                  },
                  "nodeId": "search_node_5",
                  "purpose": "Log lead activity and email interactions in HubSpot CRM",
                  "nodeType": "nodes-base.hubspot",
                  "timestamp": "2025-08-12T12:31:45.995Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "search_node_5",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "timestamp": "2025-08-12T12:31:46.140Z"
                },
                {
                  "type": "completePhase",
                  "phase": "configuration",
                  "timestamp": "2025-08-12T12:31:46.140Z"
                },
                {
                  "type": "setPhase",
                  "phase": "building",
                  "timestamp": "2025-08-12T12:32:18.016Z"
                },
                {
                  "type": "setWorkflow",
                  "workflow": {
                    "name": "Apollo Lead Enrichment & Outreach Automation",
                    "nodes": [
                      {
                        "id": "httpRequest_1",
                        "name": "Apollo Lead Retrieval",
                        "type": "n8n-nodes-base.httpRequest",
                        "onError": "continueRegularOutput",
                        "maxTries": 3,
                        "position": [
                          250,
                          300
                        ],
                        "parameters": {
                          "qs": {
                            "page_size": "100",
                            "sort_by_field": "created_at",
                            "sort_ascending": "false"
                          },
                          "url": "https://api.apollo.io/v1/mixed_people/search",
                          "method": "GET",
                          "sendQuery": true,
                          "authentication": "predefinedCredentialType",
                          "queryParameters": {
                            "parameters": [
                              {
                                "name": "page_size",
                                "value": "100"
                              },
                              {
                                "name": "sort_by_field",
                                "value": "created_at"
                              }
                            ]
                          },
                          "nodeCredentialType": "apolloApi"
                        },
                        "typeVersion": 4.2
                      },
                      {
                        "id": "linkedIn_1",
                        "name": "LinkedIn Profile Enrichment",
                        "type": "n8n-nodes-base.linkedIn",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          200
                        ],
                        "parameters": {
                          "person": "={{ $json.linkedinProfileId || $json.email }}",
                          "postAs": "person",
                          "resource": "profile"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "clearbit_1",
                        "name": "Company Data Enrichment",
                        "type": "n8n-nodes-base.clearbit",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          400
                        ],
                        "parameters": {
                          "domain": "={{ $json.company_domain || $json.domain }}",
                          "resource": "company"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "openAi_1",
                        "name": "AI Lead Scoring",
                        "type": "n8n-nodes-base.openAi",
                        "onError": "continueRegularOutput",
                        "position": [
                          850,
                          300
                        ],
                        "parameters": {
                          "model": "gpt-4",
                          "options": {
                            "temperature": 0.3
                          },
                          "messages": {
                            "messages": [
                              {
                                "role": "system",
                                "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                              },
                              {
                                "role": "user",
                                "content": "Lead Data: {{ JSON.stringify($json) }}"
                              }
                            ]
                          },
                          "resource": "chat"
                        },
                        "typeVersion": 1.3
                      },
                      {
                        "id": "if_1",
                        "name": "Lead Score Filter",
                        "type": "n8n-nodes-base.if",
                        "onError": "continueRegularOutput",
                        "position": [
                          1150,
                          300
                        ],
                        "parameters": {
                          "conditions": {
                            "combinator": "and",
                            "conditions": [
                              {
                                "id": "score_threshold",
                                "operator": {
                                  "type": "number",
                                  "operation": "gte"
                                },
                                "leftValue": "={{ $json.score }}",
                                "rightValue": 70
                              }
                            ]
                          }
                        },
                        "typeVersion": 2
                      },
                      {
                        "id": "gmail_1",
                        "name": "Send Cold Email",
                        "type": "n8n-nodes-base.gmail",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          250
                        ],
                        "parameters": {
                          "sendTo": "={{ $json.email }}",
                          "message": "={{ $json.personalizedEmail }}",
                          "subject": "{{ $json.emailSubject }}",
                          "operation": "send"
                        },
                        "typeVersion": 2.1
                      },
                      {
                        "id": "hubspot_1",
                        "name": "Log Activity in HubSpot",
                        "type": "n8n-nodes-base.hubspot",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          400
                        ],
                        "parameters": {
                          "email": "={{ $json.email }}",
                          "resource": "contact",
                          "operation": "upsert",
                          "additionalFields": {
                            "leadScore": "={{ $json.score }}",
                            "leadSource": "Apollo.io",
                            "lastContactDate": "={{ new Date().toISOString() }}"
                          }
                        },
                        "typeVersion": 2
                      },
                      {
                        "id": "scheduleTrigger_1",
                        "name": "Follow-up Reminder Scheduler",
                        "type": "n8n-nodes-base.scheduleTrigger",
                        "onError": "stopWorkflow",
                        "position": [
                          1750,
                          300
                        ],
                        "parameters": {
                          "rule": "interval",
                          "unit": "days",
                          "notice": "",
                          "interval": 5
                        },
                        "typeVersion": 1.2
                      }
                    ],
                    "settings": {
                      "executionOrder": "v1",
                      "saveManualExecutions": true,
                      "saveDataErrorExecution": "all",
                      "saveDataSuccessExecution": "all"
                    },
                    "connections": {
                      "AI Lead Scoring": {
                        "main": [
                          [
                            {
                              "node": "Lead Score Filter",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Send Cold Email": {
                        "main": [
                          [
                            {
                              "node": "Follow-up Reminder Scheduler",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Lead Score Filter": {
                        "main": [
                          [
                            {
                              "node": "Send Cold Email",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Log Activity in HubSpot",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Apollo Lead Retrieval": {
                        "main": [
                          [
                            {
                              "node": "LinkedIn Profile Enrichment",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Company Data Enrichment",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Company Data Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "LinkedIn Profile Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      }
                    }
                  },
                  "timestamp": "2025-08-12T12:32:18.249Z"
                },
                {
                  "type": "setBuildPhases",
                  "phases": [
                    {
                      "type": "data_collection",
                      "nodeIds": [
                        "httpRequest_1"
                      ],
                      "description": "Retrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                    },
                    {
                      "type": "data_processing",
                      "nodeIds": [
                        "linkedIn_1",
                        "clearbit_1"
                      ],
                      "description": "Enriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data."
                    },
                    {
                      "type": "data_processing",
                      "nodeIds": [
                        "openAi_1"
                      ],
                      "description": "Uses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                    },
                    {
                      "type": "decision",
                      "nodeIds": [
                        "if_1"
                      ],
                      "description": "Filters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                    },
                    {
                      "type": "notification",
                      "nodeIds": [
                        "gmail_1",
                        "hubspot_1"
                      ],
                      "description": "Sends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                    },
                    {
                      "type": "trigger",
                      "nodeIds": [
                        "scheduleTrigger_1"
                      ],
                      "description": "Schedules follow-up reminders every 5 days to check for email replies and trigger additional outreach for unresponded leads. This maintains engagement momentum."
                    }
                  ],
                  "timestamp": "2025-08-12T12:32:18.250Z"
                },
                {
                  "type": "completePhase",
                  "phase": "building",
                  "timestamp": "2025-08-12T12:32:18.250Z"
                },
                {
                  "type": "setPhase",
                  "phase": "validation",
                  "timestamp": "2025-08-12T12:32:27.308Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "linkedIn_1",
                  "result": {
                    "valid": false,
                    "errors": [
                      "Node replaced entirely"
                    ]
                  },
                  "attempt": 1,
                  "reasoning": "Node replaced to fix validation errors",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "openAi_1",
                  "result": {
                    "valid": false,
                    "errors": [
                      "Node replaced entirely"
                    ]
                  },
                  "attempt": 1,
                  "reasoning": "Node replaced to fix validation errors",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "if_1",
                  "result": {
                    "valid": false,
                    "errors": [
                      "Node replaced entirely"
                    ]
                  },
                  "attempt": 1,
                  "reasoning": "Node replaced to fix validation errors",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "hubspot_1",
                  "result": {
                    "valid": false,
                    "errors": [
                      "Node replaced entirely"
                    ]
                  },
                  "attempt": 1,
                  "reasoning": "Node replaced to fix validation errors",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "httpRequest_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "linkedIn_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "clearbit_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "openAi_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "if_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "gmail_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.513Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "hubspot_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.786Z"
                },
                {
                  "type": "validateNode",
                  "nodeId": "scheduleTrigger_1",
                  "result": {
                    "valid": true,
                    "errors": []
                  },
                  "attempt": 2,
                  "reasoning": "Node passed all validation checks",
                  "timestamp": "2025-08-12T12:32:27.786Z"
                },
                {
                  "type": "setWorkflow",
                  "workflow": {
                    "name": "Apollo Lead Enrichment & Outreach Automation",
                    "nodes": [
                      {
                        "id": "httpRequest_1",
                        "name": "Apollo Lead Retrieval",
                        "type": "n8n-nodes-base.httpRequest",
                        "onError": "continueRegularOutput",
                        "maxTries": 3,
                        "position": [
                          250,
                          300
                        ],
                        "parameters": {
                          "qs": {
                            "page_size": "100",
                            "sort_by_field": "created_at",
                            "sort_ascending": "false"
                          },
                          "url": "https://api.apollo.io/v1/mixed_people/search",
                          "method": "GET",
                          "sendQuery": true,
                          "authentication": "predefinedCredentialType",
                          "queryParameters": {
                            "parameters": [
                              {
                                "name": "page_size",
                                "value": "100"
                              },
                              {
                                "name": "sort_by_field",
                                "value": "created_at"
                              }
                            ]
                          },
                          "nodeCredentialType": "apolloApi"
                        },
                        "typeVersion": 4.2
                      },
                      {
                        "id": "linkedIn_1",
                        "name": "LinkedIn Profile Enrichment",
                        "type": "n8n-nodes-base.linkedIn",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          200
                        ],
                        "parameters": {
                          "person": "={{ $json.linkedinProfileId || $json.email }}",
                          "postAs": "person",
                          "resource": "post"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "clearbit_1",
                        "name": "Company Data Enrichment",
                        "type": "n8n-nodes-base.clearbit",
                        "onError": "continueRegularOutput",
                        "position": [
                          550,
                          400
                        ],
                        "parameters": {
                          "domain": "={{ $json.company_domain || $json.domain }}",
                          "resource": "company"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "openAi_1",
                        "name": "AI Lead Scoring",
                        "type": "n8n-nodes-base.openAi",
                        "onError": "continueRegularOutput",
                        "position": [
                          850,
                          300
                        ],
                        "parameters": {
                          "model": "gpt-4",
                          "options": {
                            "temperature": 0.3
                          },
                          "messages": {
                            "messages": [
                              {
                                "role": "system",
                                "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                              },
                              {
                                "role": "user",
                                "content": "Lead Data: {{ JSON.stringify($json) }}"
                              }
                            ]
                          },
                          "resource": "chat"
                        },
                        "typeVersion": 1.1
                      },
                      {
                        "id": "if_1",
                        "name": "Lead Score Filter",
                        "type": "n8n-nodes-base.if",
                        "onError": "continueRegularOutput",
                        "position": [
                          1150,
                          300
                        ],
                        "parameters": {
                          "conditions": {
                            "combinator": "and",
                            "conditions": [
                              {
                                "id": "score_threshold",
                                "operator": {
                                  "type": "number",
                                  "operation": "gte"
                                },
                                "leftValue": "={{ $json.score }}",
                                "rightValue": 70
                              }
                            ]
                          }
                        },
                        "typeVersion": 2.2
                      },
                      {
                        "id": "gmail_1",
                        "name": "Send Cold Email",
                        "type": "n8n-nodes-base.gmail",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          250
                        ],
                        "parameters": {
                          "sendTo": "={{ $json.email }}",
                          "message": "={{ $json.personalizedEmail }}",
                          "subject": "{{ $json.emailSubject }}",
                          "operation": "send"
                        },
                        "typeVersion": 2.1
                      },
                      {
                        "id": "hubspot_1",
                        "name": "Log Activity in HubSpot",
                        "type": "n8n-nodes-base.hubspot",
                        "onError": "continueRegularOutput",
                        "position": [
                          1450,
                          400
                        ],
                        "parameters": {
                          "email": "={{ $json.email }}",
                          "resource": "contact",
                          "operation": "upsert",
                          "additionalFields": {
                            "leadScore": "={{ $json.score }}",
                            "leadSource": "Apollo.io",
                            "lastContactDate": "={{ new Date().toISOString() }}"
                          }
                        },
                        "typeVersion": 2.1
                      },
                      {
                        "id": "scheduleTrigger_1",
                        "name": "Follow-up Reminder Scheduler",
                        "type": "n8n-nodes-base.scheduleTrigger",
                        "onError": "stopWorkflow",
                        "position": [
                          1750,
                          300
                        ],
                        "parameters": {
                          "rule": "interval",
                          "unit": "days",
                          "notice": "",
                          "interval": 5
                        },
                        "typeVersion": 1.2
                      }
                    ],
                    "valid": true,
                    "settings": {
                      "executionOrder": "v1",
                      "saveManualExecutions": true,
                      "saveDataErrorExecution": "all",
                      "saveDataSuccessExecution": "all"
                    },
                    "connections": {
                      "AI Lead Scoring": {
                        "main": [
                          [
                            {
                              "node": "Lead Score Filter",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Send Cold Email": {
                        "main": [
                          [
                            {
                              "node": "Follow-up Reminder Scheduler",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Lead Score Filter": {
                        "main": [
                          [
                            {
                              "node": "Send Cold Email",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Log Activity in HubSpot",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Apollo Lead Retrieval": {
                        "main": [
                          [
                            {
                              "node": "LinkedIn Profile Enrichment",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Company Data Enrichment",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Company Data Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "LinkedIn Profile Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      }
                    }
                  },
                  "timestamp": "2025-08-12T12:32:27.786Z"
                },
                {
                  "type": "completePhase",
                  "phase": "validation",
                  "timestamp": "2025-08-12T12:32:27.786Z"
                },
                {
                  "type": "setPhase",
                  "phase": "documentation",
                  "timestamp": "2025-08-12T12:32:28.298Z"
                },
                {
                  "type": "setWorkflow",
                  "workflow": {
                    "name": "Apollo Lead Enrichment & Outreach Automation",
                    "nodes": [
                      {
                        "id": "httpRequest_1",
                        "name": "Apollo Lead Retrieval",
                        "type": "n8n-nodes-base.httpRequest",
                        "onError": "continueRegularOutput",
                        "maxTries": 3,
                        "position": [
                          420,
                          300
                        ],
                        "parameters": {
                          "qs": {
                            "page_size": "100",
                            "sort_by_field": "created_at",
                            "sort_ascending": "false"
                          },
                          "url": "https://api.apollo.io/v1/mixed_people/search",
                          "method": "GET",
                          "sendQuery": true,
                          "authentication": "predefinedCredentialType",
                          "queryParameters": {
                            "parameters": [
                              {
                                "name": "page_size",
                                "value": "100"
                              },
                              {
                                "name": "sort_by_field",
                                "value": "created_at"
                              }
                            ]
                          },
                          "nodeCredentialType": "apolloApi"
                        },
                        "typeVersion": 4.2
                      },
                      {
                        "id": "linkedIn_1",
                        "name": "LinkedIn Profile Enrichment",
                        "type": "n8n-nodes-base.linkedIn",
                        "onError": "continueRegularOutput",
                        "position": [
                          820,
                          200
                        ],
                        "parameters": {
                          "person": "={{ $json.linkedinProfileId || $json.email }}",
                          "postAs": "person",
                          "resource": "post"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "clearbit_1",
                        "name": "Company Data Enrichment",
                        "type": "n8n-nodes-base.clearbit",
                        "onError": "continueRegularOutput",
                        "position": [
                          1020,
                          400
                        ],
                        "parameters": {
                          "domain": "={{ $json.company_domain || $json.domain }}",
                          "resource": "company"
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "openAi_1",
                        "name": "AI Lead Scoring",
                        "type": "n8n-nodes-base.openAi",
                        "onError": "continueRegularOutput",
                        "position": [
                          1220,
                          300
                        ],
                        "parameters": {
                          "model": "gpt-4",
                          "options": {
                            "temperature": 0.3
                          },
                          "messages": {
                            "messages": [
                              {
                                "role": "system",
                                "content": "You are a lead scoring AI. Analyze the provided lead data and score from 1-100 based on ICP criteria. Return JSON with score and reasoning."
                              },
                              {
                                "role": "user",
                                "content": "Lead Data: {{ JSON.stringify($json) }}"
                              }
                            ]
                          },
                          "resource": "chat"
                        },
                        "typeVersion": 1.1
                      },
                      {
                        "id": "if_1",
                        "name": "Lead Score Filter",
                        "type": "n8n-nodes-base.if",
                        "onError": "continueRegularOutput",
                        "position": [
                          1620,
                          300
                        ],
                        "parameters": {
                          "conditions": {
                            "combinator": "and",
                            "conditions": [
                              {
                                "id": "score_threshold",
                                "operator": {
                                  "type": "number",
                                  "operation": "gte"
                                },
                                "leftValue": "={{ $json.score }}",
                                "rightValue": 70
                              }
                            ]
                          }
                        },
                        "typeVersion": 2.2
                      },
                      {
                        "id": "gmail_1",
                        "name": "Send Cold Email",
                        "type": "n8n-nodes-base.gmail",
                        "onError": "continueRegularOutput",
                        "position": [
                          2020,
                          250
                        ],
                        "parameters": {
                          "sendTo": "={{ $json.email }}",
                          "message": "={{ $json.personalizedEmail }}",
                          "subject": "{{ $json.emailSubject }}",
                          "operation": "send"
                        },
                        "typeVersion": 2.1
                      },
                      {
                        "id": "hubspot_1",
                        "name": "Log Activity in HubSpot",
                        "type": "n8n-nodes-base.hubspot",
                        "onError": "continueRegularOutput",
                        "position": [
                          2220,
                          400
                        ],
                        "parameters": {
                          "email": "={{ $json.email }}",
                          "resource": "contact",
                          "operation": "upsert",
                          "additionalFields": {
                            "leadScore": "={{ $json.score }}",
                            "leadSource": "Apollo.io",
                            "lastContactDate": "={{ new Date().toISOString() }}"
                          }
                        },
                        "typeVersion": 2.1
                      },
                      {
                        "id": "scheduleTrigger_1",
                        "name": "Follow-up Reminder Scheduler",
                        "type": "n8n-nodes-base.scheduleTrigger",
                        "onError": "stopWorkflow",
                        "position": [
                          1750,
                          300
                        ],
                        "parameters": {
                          "rule": "interval",
                          "unit": "days",
                          "notice": "",
                          "interval": 5
                        },
                        "typeVersion": 1.2
                      },
                      {
                        "id": "sticky_inputs_1755001948297",
                        "name": "Inputs Documentation",
                        "type": "n8n-nodes-base.stickyNote",
                        "position": [
                          340,
                          -90
                        ],
                        "parameters": {
                          "color": 5,
                          "width": 310,
                          "height": 630,
                          "content": "## 📊 Inputs\nRetrieves new leads from Apollo.io API using HTTP request. This is the initial data source that feeds the entire lead processing pipeline."
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "sticky_transforms_1755001948298",
                        "name": "Transform Documentation",
                        "type": "n8n-nodes-base.stickyNote",
                        "position": [
                          780,
                          -90
                        ],
                        "parameters": {
                          "color": 4,
                          "width": 630,
                          "height": 630,
                          "content": "## ⚙️ Transform\nEnriches lead data by fetching LinkedIn profile information and company data from Clearbit. These parallel processes enhance lead profiles with social and firmographic data.\n\nUses OpenAI to analyze enriched lead data and generate ICP-based scores. The AI evaluates leads against ideal customer profile criteria to prioritize outreach efforts."
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "sticky_decision_1755001948298",
                        "name": "Decision Documentation",
                        "type": "n8n-nodes-base.stickyNote",
                        "position": [
                          1540,
                          -90
                        ],
                        "parameters": {
                          "color": 3,
                          "width": 310,
                          "height": 630,
                          "content": "## 🔀 Decision\nFilters leads based on AI scoring results, only allowing high-scoring leads (70+ score) to proceed to outreach. This ensures resources focus on the most promising prospects."
                        },
                        "typeVersion": 1
                      },
                      {
                        "id": "sticky_outputs_1755001948298",
                        "name": "Outputs Documentation",
                        "type": "n8n-nodes-base.stickyNote",
                        "position": [
                          1980,
                          -90
                        ],
                        "parameters": {
                          "color": 7,
                          "width": 430,
                          "height": 630,
                          "content": "## 🚀 Outputs\nSends personalized cold emails to qualified leads via Gmail and logs all activity in HubSpot CRM. This dual action ensures outreach execution and proper record keeping."
                        },
                        "typeVersion": 1
                      }
                    ],
                    "valid": true,
                    "settings": {
                      "executionOrder": "v1",
                      "saveManualExecutions": true,
                      "saveDataErrorExecution": "all",
                      "saveDataSuccessExecution": "all"
                    },
                    "connections": {
                      "AI Lead Scoring": {
                        "main": [
                          [
                            {
                              "node": "Lead Score Filter",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Send Cold Email": {
                        "main": [
                          [
                            {
                              "node": "Follow-up Reminder Scheduler",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Lead Score Filter": {
                        "main": [
                          [
                            {
                              "node": "Send Cold Email",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Log Activity in HubSpot",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Apollo Lead Retrieval": {
                        "main": [
                          [
                            {
                              "node": "LinkedIn Profile Enrichment",
                              "type": "main",
                              "index": 0
                            },
                            {
                              "node": "Company Data Enrichment",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "Company Data Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      },
                      "LinkedIn Profile Enrichment": {
                        "main": [
                          [
                            {
                              "node": "AI Lead Scoring",
                              "type": "main",
                              "index": 0
                            }
                          ]
                        ]
                      }
                    }
                  },
                  "timestamp": "2025-08-12T12:32:28.542Z"
                },
                {
                  "type": "completePhase",
                  "phase": "documentation",
                  "timestamp": "2025-08-12T12:32:28.542Z"
                }
              ],
              "pendingClarifications": [],
              "clarificationHistory": []
            }
          }
        },
        "removed": [],
        "unchanged": [
          "sessionId",
          "createdAt"
        ]
      }
    }
  },
  "summary": {
    "totalNodes": 8,
    "totalConnections": 6,
    "validationAttempts": 2,
    "errorsFixed": 1,
    "stickyNotesAdded": 0,
    "performanceScore": 20,
    "qualityScore": 85,
    "completenessScore": 100
  },
  "optimizationSuggestions": [
    "Consider optimizing discovery phase (took 26321ms)",
    "Consider optimizing configuration phase (took 19641ms)",
    "Consider optimizing building phase (took 32251ms)"
  ],
  "errorPatterns": []
}