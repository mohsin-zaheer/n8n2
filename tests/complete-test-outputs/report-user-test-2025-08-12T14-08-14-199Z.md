# n8n Workflow Builder Test Report

**Test Name:** User Test
**Timestamp:** 2025-08-12T14:05:48.166Z
**Duration:** 146032ms
**Success:** ✅ Yes

## User Prompt
```
Build an n8n workflow that: 1) collects survey responses from Typeform, 2) uses AI to categorize feedback into themes (e.g., UX, pricing, support), 3) tags sentiment, 4) logs issues in Jira for dev team, and 5) sends monthly reports to management in PDF form
```

## Session ID: `complete_e2e_user_test_1755007548166`

## ========== DISCOVERY PHASE ==========

**Status:** ✅ Success
**Duration:** 28663ms
**Memory Delta:** -2MB

### Logs
```
2025-08-12T14:05:48.557Z [INFO] [Orchestrator] Starting discovery phase
2025-08-12T14:05:48.557Z [DEBUG] [Claude] Sending request for discovery phase
2025-08-12T14:06:09.319Z [INFO] [MCP] Calling tool: get_node_for_task
2025-08-12T14:06:09.319Z [DEBUG] [MCP] Parameters: {"task":"receive_webhook"}
2025-08-12T14:06:09.319Z [INFO] [MCP] Calling tool: get_node_for_task
2025-08-12T14:06:09.319Z [DEBUG] [MCP] Parameters: {"task":"chat_with_ai"}
2025-08-12T14:06:09.319Z [INFO] [MCP] Calling tool: get_node_for_task
2025-08-12T14:06:09.319Z [DEBUG] [MCP] Parameters: {"task":"insert_postgres_data"}
2025-08-12T14:06:09.319Z [INFO] [MCP] Calling tool: get_node_for_task
2025-08-12T14:06:09.319Z [DEBUG] [MCP] Parameters: {"task":"query_postgres"}
2025-08-12T14:06:09.319Z [INFO] [MCP] Calling tool: get_node_for_task
2025-08-12T14:06:09.319Z [DEBUG] [MCP] Parameters: {"task":"send_email"}
2025-08-12T14:06:09.480Z [DEBUG] [MCP] Tool get_node_for_task completed successfully
2025-08-12T14:06:09.487Z [DEBUG] [MCP] Tool get_node_for_task completed successfully
2025-08-12T14:06:09.490Z [DEBUG] [MCP] Tool get_node_for_task completed successfully
2025-08-12T14:06:09.569Z [DEBUG] [MCP] Tool get_node_for_task completed successfully
2025-08-12T14:06:09.576Z [DEBUG] [MCP] Tool get_node_for_task completed successfully
2025-08-12T14:06:09.578Z [INFO] [MCP] Calling tool: search_nodes
2025-08-12T14:06:09.578Z [DEBUG] [MCP] Parameters: {"query":"typeform","limit":20}
2025-08-12T14:06:09.578Z [INFO] [MCP] Calling tool: search_nodes
2025-08-12T14:06:09.578Z [DEBUG] [MCP] Parameters: {"query":"jira","limit":20}
2025-08-12T14:06:09.578Z [INFO] [MCP] Calling tool: search_nodes
2025-08-12T14:06:09.578Z [DEBUG] [MCP] Parameters: {"query":"pdf","limit":20}
2025-08-12T14:06:09.578Z [INFO] [MCP] Calling tool: search_nodes
2025-08-12T14:06:09.578Z [DEBUG] [MCP] Parameters: {"query":"schedule","limit":20}
2025-08-12T14:06:09.578Z [INFO] [MCP] Calling tool: search_nodes
2025-08-12T14:06:09.578Z [DEBUG] [MCP] Parameters: {"query":"if","limit":20}
2025-08-12T14:06:09.695Z [DEBUG] [MCP] Tool search_nodes completed successfully
2025-08-12T14:06:09.696Z [DEBUG] [MCP] Tool search_nodes completed successfully
2025-08-12T14:06:09.705Z [DEBUG] [MCP] Tool search_nodes completed successfully
2025-08-12T14:06:09.706Z [DEBUG] [MCP] Tool search_nodes completed successfully
2025-08-12T14:06:09.737Z [DEBUG] [MCP] Tool search_nodes completed successfully
2025-08-12T14:06:17.097Z [INFO] [Tools] Added node: nodes-base.openAi (Send a message to an AI model and get response)
2025-08-12T14:06:17.097Z [INFO] [Tools] Added node: nodes-base.postgres (Query data from PostgreSQL database)
2025-08-12T14:06:17.097Z [INFO] [Tools] Added node: nodes-base.webhook (Set up a webhook to receive data from external services)
2025-08-12T14:06:17.097Z [INFO] [Tools] Added node: nodes-base.emailSend (Send an email notification)
2025-08-12T14:06:17.097Z [INFO] [Tools] Added node: nodes-base.postgres (Insert data into PostgreSQL table)
2025-08-12T14:06:17.097Z [INFO] [Tools] Added node: nodes-base.typeformTrigger (Starts the workflow on a Typeform form submission)
2025-08-12T14:06:17.097Z [INFO] [Tools] Added node: nodes-base.apiTemplateIo (Generate PDF reports using templates)
2025-08-12T14:06:17.097Z [INFO] [Tools] Added node: nodes-base.jira (Create and manage Jira tickets for development issues)
2025-08-12T14:06:17.097Z [INFO] [Tools] Added node: nodes-base.scheduleTrigger (Trigger monthly report generation on a schedule)
2025-08-12T14:06:17.097Z [INFO] [Tools] Added node: nodes-base.if (Route items based on conditions for sentiment and categorization logic)
2025-08-12T14:06:17.220Z [DEBUG] [Orchestrator] Session state updated
2025-08-12T14:06:17.220Z [INFO] [Orchestrator] Data flow captured: 3 transformations
```

### Nodes
- **nodes-base.openAi** (ID: task_node_2)
  - Purpose: Send a message to an AI model and get response
- **nodes-base.postgres** (ID: task_node_4)
  - Purpose: Query data from PostgreSQL database
- **nodes-base.webhook** (ID: task_node_1)
  - Purpose: Set up a webhook to receive data from external services
- **nodes-base.emailSend** (ID: task_node_5)
  - Purpose: Send an email notification
- **nodes-base.postgres** (ID: task_node_3)
  - Purpose: Insert data into PostgreSQL table
- **nodes-base.typeformTrigger** (ID: search_node_1)
  - Purpose: Starts the workflow on a Typeform form submission
- **nodes-base.apiTemplateIo** (ID: search_node_2)
  - Purpose: Generate PDF reports using templates
- **nodes-base.jira** (ID: search_node_3)
  - Purpose: Create and manage Jira tickets for development issues
- **nodes-base.scheduleTrigger** (ID: search_node_4)
  - Purpose: Trigger monthly report generation on a schedule
- **nodes-base.if** (ID: search_node_5)
  - Purpose: Route items based on conditions for sentiment and categorization logic

### Data Flow
**Input:**
```json
{
  "prompt": "Build an n8n workflow that: 1) collects survey responses from Typeform, 2) uses AI to categorize feedback into themes (e.g., UX, pricing, support), 3) tags sentiment, 4) logs issues in Jira for dev team, and 5) sends monthly reports to management in PDF form"
}
```

**Output:**
```json
{
  "nodes": [
    {
      "id": "task_node_2",
      "type": "nodes-base.openAi",
      "displayName": "chat with ai",
      "purpose": "Send a message to an AI model and get response",
      "isPreConfigured": true,
      "config": {
        "resource": "chat",
        "operation": "message",
        "modelId": "gpt-3.5-turbo",
        "messages": {
          "values": [
            {
              "role": "user",
              "content": ""
            }
          ]
        },
        "onError": "continueRegularOutput",
        "retryOnFail": true,
        "maxTries": 3,
        "waitBetweenTries": 5000,
        "alwaysOutputData": true
      }
    },
    {
      "id": "task_node_4",
      "type": "nodes-base.postgres",
      "displayName": "query postgres",
      "purpose": "Query data from PostgreSQL database",
      "isPreConfigured": true,
      "config": {
        "operation": "executeQuery",
        "query": "",
        "onError": "continueRegularOutput",
        "retryOnFail": true,
        "maxTries": 3,
        "waitBetweenTries": 1000
      }
    },
    {
      "id": "task_node_1",
      "type": "nodes-base.webhook",
      "displayName": "receive webhook",
      "purpose": "Set up a webhook to receive data from external services",
      "isPreConfigured": true,
      "config": {
        "httpMethod": "POST",
        "path": "webhook",
        "responseMode": "lastNode",
        "responseData": "allEntries",
        "onError": "continueRegularOutput",
        "alwaysOutputData": true
      }
    },
    {
      "id": "task_node_5",
      "type": "nodes-base.emailSend",
      "displayName": "send email",
      "purpose": "Send an email notification",
      "isPreConfigured": true,
      "config": {
        "fromEmail": "",
        "toEmail": "",
        "subject": "",
        "text": "",
        "onError": "continueRegularOutput",
        "retryOnFail": true,
        "maxTries": 3,
        "waitBetweenTries": 3000,
        "alwaysOutputData": true
      }
    },
    {
      "id": "task_node_3",
      "type": "nodes-base.postgres",
      "displayName": "insert postgres data",
      "purpose": "Insert data into PostgreSQL table",
      "isPreConfigured": true,
      "config": {
        "operation": "insert",
        "table": "",
        "columns": "",
        "returnFields": "*",
        "onError": "stopWorkflow",
        "retryOnFail": true,
        "maxTries": 2,
        "waitBetweenTries": 1000
      }
    },
    {
      "id": "search_node_1",
      "type": "nodes-base.typeformTrigger",
      "displayName": "nodes-base.typeformTrigger",
      "purpose": "Starts the workflow on a Typeform form submission",
      "needsConfiguration": true
    },
    {
      "id": "search_node_2",
      "type": "nodes-base.apiTemplateIo",
      "displayName": "nodes-base.apiTemplateIo",
      "purpose": "Generate PDF reports using templates",
      "needsConfiguration": true
    },
    {
      "id": "search_node_3",
      "type": "nodes-base.jira",
      "displayName": "nodes-base.jira",
      "purpose": "Create and manage Jira tickets for development issues",
      "needsConfiguration": true
    },
    {
      "id": "search_node_4",
      "type": "nodes-base.scheduleTrigger",
      "displayName": "nodes-base.scheduleTrigger",
      "purpose": "Trigger monthly report generation on a schedule",
      "needsConfiguration": true
    },
    {
      "id": "search_node_5",
      "type": "nodes-base.if",
      "displayName": "nodes-base.if",
      "purpose": "Route items based on conditions for sentiment and categorization logic",
      "needsConfiguration": true
    }
  ]
}
```

**Transformations:**
- Intent Analysis
- Node Discovery
- Selection

### Session State (Baseline)
```json
{
  "sessionId": "complete_e2e_user_test_1755007548166",
  "createdAt": "2025-08-12T14:05:48.547Z",
  "state": {
    "phase": "discovery",
    "userPrompt": "Build an n8n workflow that: 1) collects survey responses from Typeform, 2) uses AI to categorize feedback into themes (e.g., UX, pricing, support), 3) tags sentiment, 4) logs issues in Jira for dev team, and 5) sends monthly reports to management in PDF form",
    "discovered": [
      {
        "id": "task_node_2",
        "type": "nodes-base.openAi",
        "config": {
          "modelId": "gpt-3.5-turbo",
          "onError": "continueRegularOutput",
          "maxTries": 3,
          "messages": {
            "values": [
              {
                "role": "user",
                "content": ""
              }
            ]
          },
          "resource": "chat",
          "operation": "message",
          "retryOnFail": true,
          "alwaysOutputData": true,
          "waitBetweenTries": 5000
        },
        "purpose": "Send a message to an AI model and get response",
        "displayName": "chat with ai",
        "isPreConfigured": true
      },
      {
        "id": "task_node_4",
        "type": "nodes-base.postgres",
        "config": {
          "query": "",
          "onError": "continueRegularOutput",
          "maxTries": 3,
          "operation": "executeQuery",
          "retryOnFail": true,
          "waitBetweenTries": 1000
        },
        "purpose": "Query data from PostgreSQL database",
        "displayName": "query postgres",
        "isPreConfigured": true
      },
      {
        "id": "task_node_1",
        "type": "nodes-base.webhook",
        "config": {
          "path": "webhook",
          "onError": "continueRegularOutput",
          "httpMethod": "POST",
          "responseData": "allEntries",
          "responseMode": "lastNode",
          "alwaysOutputData": true
        },
        "purpose": "Set up a webhook to receive data from external services",
        "displayName": "receive webhook",
        "isPreConfigured": true
      },
      {
        "id": "task_node_5",
        "type": "nodes-base.emailSend",
        "config": {
          "text": "",
          "onError": "continueRegularOutput",
          "subject": "",
          "toEmail": "",
          "maxTries": 3,
          "fromEmail": "",
          "retryOnFail": true,
          "alwaysOutputData": true,
          "waitBetweenTries": 3000
        },
        "purpose": "Send an email notification",
        "displayName": "send email",
        "isPreConfigured": true
      },
      {
        "id": "task_node_3",
        "type": "nodes-base.postgres",
        "config": {
          "table": "",
          "columns": "",
          "onError": "stopWorkflow",
          "maxTries": 2,
          "operation": "insert",
          "retryOnFail": true,
          "returnFields": "*",
          "waitBetweenTries": 1000
        },
        "purpose": "Insert data into PostgreSQL table",
        "displayName": "insert postgres data",
        "isPreConfigured": true
      },
      {
        "id": "search_node_1",
        "type": "nodes-base.typeformTrigger",
        "purpose": "Starts the workflow on a Typeform form submission"
      },
      {
        "id": "search_node_2",
        "type": "nodes-base.apiTemplateIo",
        "purpose": "Generate PDF reports using templates"
      },
      {
        "id": "search_node_3",
        "type": "nodes-base.jira",
        "purpose": "Create and manage Jira tickets for development issues"
      },
      {
        "id": "search_node_4",
        "type": "nodes-base.scheduleTrigger",
        "purpose": "Trigger monthly report generation on a schedule"
      },
      {
        "id": "search_node_5",
        "type": "nodes-base.if",
        "purpose": "Route items based on conditions for sentiment and categorization logic"
      }
    ],
    "selected": [
      "task_node_2",
      "task_node_4",
      "task_node_1",
      "task_node_5",
      "task_node_3",
      "search_node_1",
      "search_node_2",
      "search_node_3",
      "search_node_4",
      "search_node_5"
    ],
    "configured": {},
    "validated": {},
    "workflow": {
      "nodes": [],
      "settings": {},
      "connections": {}
    },
    "buildPhases": [],
    "operationHistory": [
      {
        "node": {
          "id": "task_node_2",
          "type": "nodes-base.openAi",
          "config": {
            "modelId": "gpt-3.5-turbo",
            "onError": "continueRegularOutput",
            "maxTries": 3,
            "messages": {
              "values": [
                {
                  "role": "user",
                  "content": ""
                }
              ]
            },
            "resource": "chat",
            "operation": "message",
            "retryOnFail": true,
            "alwaysOutputData": true,
            "waitBetweenTries": 5000
          },
          "purpose": "Send a message to an AI model and get response",
          "displayName": "chat with ai",
          "isPreConfigured": true
        },
        "type": "discoverNode",
        "timestamp": "2025-08-12T14:06:16.767Z"
      },
      {
        "type": "selectNode",
        "nodeId": "task_node_2",
        "timestamp": "2025-08-12T14:06:16.768Z"
      },
      {
        "node": {
          "id": "task_node_4",
          "type": "nodes-base.postgres",
          "config": {
            "query": "",
            "onError": "continueRegularOutput",
            "maxTries": 3,
            "operation": "executeQuery",
            "retryOnFail": true,
            "waitBetweenTries": 1000
          },
          "purpose": "Query data from PostgreSQL database",
          "displayName": "query postgres",
          "isPreConfigured": true
        },
        "type": "discoverNode",
        "timestamp": "2025-08-12T14:06:16.768Z"
      },
      {
        "type": "selectNode",
        "nodeId": "task_node_4",
        "timestamp": "2025-08-12T14:06:16.768Z"
      },
      {
        "node": {
          "id": "task_node_1",
          "type": "nodes-base.webhook",
          "config": {
            "path": "webhook",
            "onError": "continueRegularOutput",
            "httpMethod": "POST",
            "responseData": "allEntries",
            "responseMode": "lastNode",
            "alwaysOutputData": true
          },
          "purpose": "Set up a webhook to receive data from external services",
          "displayName": "receive webhook",
          "isPreConfigured": true
        },
        "type": "discoverNode",
        "timestamp": "2025-08-12T14:06:16.768Z"
      },
      {
        "type": "selectNode",
        "nodeId": "task_node_1",
        "timestamp": "2025-08-12T14:06:16.768Z"
      },
      {
        "node": {
          "id": "task_node_5",
          "type": "nodes-base.emailSend",
          "config": {
            "text": "",
            "onError": "continueRegularOutput",
            "subject": "",
            "toEmail": "",
            "maxTries": 3,
            "fromEmail": "",
            "retryOnFail": true,
            "alwaysOutputData": true,
            "waitBetweenTries": 3000
          },
          "purpose": "Send an email notification",
          "displayName": "send email",
          "isPreConfigured": true
        },
        "type": "discoverNode",
        "timestamp": "2025-08-12T14:06:16.768Z"
      },
      {
        "type": "selectNode",
        "nodeId": "task_node_5",
        "timestamp": "2025-08-12T14:06:16.768Z"
      },
      {
        "node": {
          "id": "task_node_3",
          "type": "nodes-base.postgres",
          "config": {
            "table": "",
            "columns": "",
            "onError": "stopWorkflow",
            "maxTries": 2,
            "operation": "insert",
            "retryOnFail": true,
            "returnFields": "*",
            "waitBetweenTries": 1000
          },
          "purpose": "Insert data into PostgreSQL table",
          "displayName": "insert postgres data",
          "isPreConfigured": true
        },
        "type": "discoverNode",
        "timestamp": "2025-08-12T14:06:16.768Z"
      },
      {
        "type": "selectNode",
        "nodeId": "task_node_3",
        "timestamp": "2025-08-12T14:06:16.768Z"
      },
      {
        "node": {
          "id": "search_node_1",
          "type": "nodes-base.typeformTrigger",
          "purpose": "Starts the workflow on a Typeform form submission"
        },
        "type": "discoverNode",
        "timestamp": "2025-08-12T14:06:16.884Z"
      },
      {
        "type": "selectNode",
        "nodeId": "search_node_1",
        "timestamp": "2025-08-12T14:06:16.884Z"
      },
      {
        "node": {
          "id": "search_node_2",
          "type": "nodes-base.apiTemplateIo",
          "purpose": "Generate PDF reports using templates"
        },
        "type": "discoverNode",
        "timestamp": "2025-08-12T14:06:16.884Z"
      },
      {
        "type": "selectNode",
        "nodeId": "search_node_2",
        "timestamp": "2025-08-12T14:06:16.884Z"
      },
      {
        "node": {
          "id": "search_node_3",
          "type": "nodes-base.jira",
          "purpose": "Create and manage Jira tickets for development issues"
        },
        "type": "discoverNode",
        "timestamp": "2025-08-12T14:06:16.884Z"
      },
      {
        "type": "selectNode",
        "nodeId": "search_node_3",
        "timestamp": "2025-08-12T14:06:16.884Z"
      },
      {
        "node": {
          "id": "search_node_4",
          "type": "nodes-base.scheduleTrigger",
          "purpose": "Trigger monthly report generation on a schedule"
        },
        "type": "discoverNode",
        "timestamp": "2025-08-12T14:06:16.884Z"
      },
      {
        "type": "selectNode",
        "nodeId": "search_node_4",
        "timestamp": "2025-08-12T14:06:16.884Z"
      },
      {
        "node": {
          "id": "search_node_5",
          "type": "nodes-base.if",
          "purpose": "Route items based on conditions for sentiment and categorization logic"
        },
        "type": "discoverNode",
        "timestamp": "2025-08-12T14:06:16.884Z"
      },
      {
        "type": "selectNode",
        "nodeId": "search_node_5",
        "timestamp": "2025-08-12T14:06:16.884Z"
      }
    ],
    "pendingClarifications": [],
    "clarificationHistory": []
  }
}
```

## ========== CONFIGURATION PHASE ==========

**Status:** ✅ Success
**Duration:** 22232ms
**Memory Delta:** 2MB

### Logs
```
2025-08-12T14:06:17.220Z [INFO] [Orchestrator] Starting configuration phase
2025-08-12T14:06:17.220Z [DEBUG] [Claude] Sending request for configuration phase
2025-08-12T14:06:17.318Z [INFO] [MCP] Calling tool: get_node_essentials
2025-08-12T14:06:17.318Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.openAi"}
2025-08-12T14:06:17.319Z [INFO] [MCP] Calling tool: get_node_essentials
2025-08-12T14:06:17.319Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.postgres"}
2025-08-12T14:06:17.319Z [INFO] [MCP] Calling tool: get_node_essentials
2025-08-12T14:06:17.319Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.webhook"}
2025-08-12T14:06:17.319Z [INFO] [MCP] Calling tool: get_node_essentials
2025-08-12T14:06:17.319Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.emailSend"}
2025-08-12T14:06:17.319Z [INFO] [MCP] Calling tool: get_node_essentials
2025-08-12T14:06:17.319Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.typeformTrigger"}
2025-08-12T14:06:17.319Z [INFO] [MCP] Calling tool: get_node_essentials
2025-08-12T14:06:17.319Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.apiTemplateIo"}
2025-08-12T14:06:17.319Z [INFO] [MCP] Calling tool: get_node_essentials
2025-08-12T14:06:17.319Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.jira"}
2025-08-12T14:06:17.319Z [INFO] [MCP] Calling tool: get_node_essentials
2025-08-12T14:06:17.319Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.scheduleTrigger"}
2025-08-12T14:06:17.319Z [INFO] [MCP] Calling tool: get_node_essentials
2025-08-12T14:06:17.319Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.if"}
2025-08-12T14:06:17.498Z [DEBUG] [MCP] Tool get_node_essentials completed successfully
2025-08-12T14:06:17.528Z [DEBUG] [MCP] Tool get_node_essentials completed successfully
2025-08-12T14:06:17.549Z [DEBUG] [MCP] Tool get_node_essentials completed successfully
2025-08-12T14:06:17.551Z [DEBUG] [MCP] Tool get_node_essentials completed successfully
2025-08-12T14:06:17.585Z [DEBUG] [MCP] Tool get_node_essentials completed successfully
2025-08-12T14:06:17.587Z [DEBUG] [MCP] Tool get_node_essentials completed successfully
2025-08-12T14:06:17.644Z [DEBUG] [MCP] Tool get_node_essentials completed successfully
2025-08-12T14:06:17.645Z [DEBUG] [MCP] Tool get_node_essentials completed successfully
2025-08-12T14:06:17.670Z [DEBUG] [MCP] Tool get_node_essentials completed successfully
2025-08-12T14:06:24.334Z [INFO] [MCP] Calling tool: validate_node_minimal
2025-08-12T14:06:24.334Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.webhook","config":{"path":"typeform-survey-webhook","httpMethod":"POST","responseData":"allEntries","responseMode":"lastNode"}}
2025-08-12T14:06:24.503Z [DEBUG] [MCP] Tool validate_node_minimal completed successfully
2025-08-12T14:06:26.046Z [INFO] [MCP] Calling tool: validate_node_minimal
2025-08-12T14:06:26.046Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.emailSend","config":{"text":"Dear Management Team,\n\nPlease find attached the monthly survey analysis report containing:\n\n• Feedback categorization by themes (UX, pricing, support)\n• Sentiment analysis summary\n• Issues logged in Jira for development team\n• Key insights and trends\n\nThis automated report is generated from Typeform survey responses processed through our AI analysis workflow.\n\nBest regards,\nAutomated Survey Analysis System","subject":"Monthly Survey Analysis Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}","toEmail":"management@company.com","fromEmail":"surveys@company.com"}}
2025-08-12T14:06:26.393Z [INFO] [MCP] Calling tool: validate_node_minimal
2025-08-12T14:06:26.393Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.postgres","config":{"table":"survey_feedback","columns":"response_id,typeform_id,submitted_at,feedback_text,ai_category,sentiment_score,sentiment_label,respondent_email,needs_jira_ticket,processed_at","operation":"insert","returnFields":"*"}}
2025-08-12T14:06:26.453Z [DEBUG] [MCP] Tool validate_node_minimal completed successfully
2025-08-12T14:06:26.542Z [DEBUG] [MCP] Tool validate_node_minimal completed successfully
2025-08-12T14:06:26.543Z [INFO] [MCP] Calling tool: validate_node_minimal
2025-08-12T14:06:26.543Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.postgres","config":{"table":"survey_feedback","columns":"response_id,typeform_id,submitted_at,feedback_text,ai_category,sentiment_score,sentiment_label,respondent_email,needs_jira_ticket,processed_at","operation":"insert","returnFields":"*","schema":"public"}}
2025-08-12T14:06:26.675Z [DEBUG] [MCP] Tool validate_node_minimal completed successfully
2025-08-12T14:06:26.838Z [INFO] [MCP] Calling tool: validate_node_minimal
2025-08-12T14:06:26.838Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.postgres","config":{"query":"SELECT \n  sr.response_id,\n  sr.submitted_at,\n  sr.feedback_text,\n  sr.ai_category,\n  sr.sentiment_score,\n  sr.sentiment_label,\n  ji.jira_issue_key,\n  ji.issue_status,\n  ji.created_date as jira_created\nFROM survey_responses sr\nLEFT JOIN jira_issues ji ON sr.response_id = ji.source_response_id\nWHERE sr.submitted_at >= DATE_TRUNC('month', CURRENT_DATE - INTERVAL '1 month')\n  AND sr.submitted_at < DATE_TRUNC('month', CURRENT_DATE)\nORDER BY sr.submitted_at DESC;","operation":"executeQuery"}}
2025-08-12T14:06:27.325Z [DEBUG] [MCP] Tool validate_node_minimal completed successfully
2025-08-12T14:06:28.913Z [INFO] [MCP] Calling tool: validate_node_minimal
2025-08-12T14:06:28.913Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.typeformTrigger","config":{"formId":"","authentication":"accessToken","simplifyAnswers":true,"onlyAnswers":true}}
2025-08-12T14:06:29.036Z [DEBUG] [MCP] Tool validate_node_minimal completed successfully
2025-08-12T14:06:30.229Z [INFO] [MCP] Calling tool: validate_node_minimal
2025-08-12T14:06:30.229Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.openAi","config":{"modelId":"gpt-4","messages":{"values":[{"role":"system","content":"You are an expert at analyzing customer feedback. Your task is to categorize survey responses into themes and analyze sentiment. Always respond with valid JSON format."},{"role":"user","content":"Please analyze this survey response and return a JSON object with the following structure:\n\n{\n  \"themes\": [\"theme1\", \"theme2\"],\n  \"primary_theme\": \"main_theme\",\n  \"sentiment\": \"positive|neutral|negative\",\n  \"sentiment_score\": 0.0,\n  \"requires_dev_attention\": true|false,\n  \"summary\": \"brief summary\"\n}\n\nAvailable themes: UX, pricing, support, features, performance, bugs, documentation\n\nSurvey Response: {{ $json.response_text || $json.answer || $json.feedback }}\nQuestion: {{ $json.question || 'General feedback' }}"}]},"resource":"chat","operation":"message","options":{"temperature":0.3,"maxTokens":500}}}
2025-08-12T14:06:30.351Z [DEBUG] [MCP] Tool validate_node_minimal completed successfully
2025-08-12T14:06:32.592Z [INFO] [MCP] Calling tool: validate_node_minimal
2025-08-12T14:06:32.592Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.scheduleTrigger","config":{"notice":"","rule":{"interval":[{"field":"month","triggerAtDay":1,"triggerAtHour":9,"triggerAtMinute":0}]}}}
2025-08-12T14:06:32.712Z [DEBUG] [MCP] Tool validate_node_minimal completed successfully
2025-08-12T14:06:34.364Z [INFO] [MCP] Calling tool: validate_node_minimal
2025-08-12T14:06:34.364Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.apiTemplateIo","config":{"resource":"pdf","operation":"create","pdfTemplateId":"{{ $json.templateId }}","binaryProperty":"monthly_report","templateData":{"reportTitle":"Monthly Survey Feedback Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}","totalResponses":"{{ $json.totalResponses }}","uxFeedback":"{{ $json.themes.ux }}","pricingFeedback":"{{ $json.themes.pricing }}","supportFeedback":"{{ $json.themes.support }}","sentimentSummary":"{{ $json.sentimentSummary }}","jiraIssuesCreated":"{{ $json.jiraIssuesCount }}","generatedDate":"{{ new Date().toISOString().split('T')[0] }}"}}}
2025-08-12T14:06:34.477Z [DEBUG] [MCP] Tool validate_node_minimal completed successfully
2025-08-12T14:06:35.080Z [INFO] [MCP] Calling tool: validate_node_minimal
2025-08-12T14:06:35.080Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.if","config":{"conditions":{"conditions":[{"id":"1","leftValue":"={{ $json.sentiment }}","rightValue":"negative","operator":{"type":"string","operation":"equals"}},{"id":"2","leftValue":"={{ $json.category }}","rightValue":"support","operator":{"type":"string","operation":"notEquals"}}],"combineOperation":"all"}}}
2025-08-12T14:06:35.199Z [DEBUG] [MCP] Tool validate_node_minimal completed successfully
2025-08-12T14:06:36.383Z [INFO] [MCP] Calling tool: validate_node_minimal
2025-08-12T14:06:36.383Z [DEBUG] [MCP] Parameters: {"nodeType":"nodes-base.jira","config":{"resource":"issue","operation":"create","project":{"mode":"list","value":"={{ $json.projectKey || 'DEV' }}"},"issueType":{"mode":"list","value":"={{ $json.issueType || 'Bug' }}"},"summary":"={{ $json.feedbackTheme }}: {{ $json.summary }}","description":"=**Original Feedback:**\n{{ $json.originalFeedback }}\n\n**AI Analysis:**\n- Theme: {{ $json.feedbackTheme }}\n- Sentiment: {{ $json.sentiment }}\n- Priority: {{ $json.priority }}\n\n**Survey Details:**\n- Response ID: {{ $json.responseId }}\n- Date: {{ $json.submittedAt }}\n- User: {{ $json.userEmail || 'Anonymous' }}","priority":{"name":"={{ $json.priority || 'Medium' }}"},"labels":["survey-feedback","={{ $json.feedbackTheme.toLowerCase() }}","={{ $json.sentiment.toLowerCase() }}"]}}
2025-08-12T14:06:36.498Z [DEBUG] [MCP] Tool validate_node_minimal completed successfully
2025-08-12T14:06:39.389Z [INFO] [Tools] Added node: nodes-base.openAi (Send a message to an AI model and get response)
2025-08-12T14:06:39.389Z [INFO] [Tools] Added node: nodes-base.postgres (Query data from PostgreSQL database)
2025-08-12T14:06:39.389Z [INFO] [Tools] Added node: nodes-base.webhook (Set up a webhook to receive data from external services)
2025-08-12T14:06:39.389Z [INFO] [Tools] Added node: nodes-base.emailSend (Send an email notification)
2025-08-12T14:06:39.389Z [INFO] [Tools] Added node: nodes-base.postgres (Insert data into PostgreSQL table)
2025-08-12T14:06:39.389Z [INFO] [Tools] Added node: nodes-base.typeformTrigger (Starts the workflow on a Typeform form submission)
2025-08-12T14:06:39.389Z [INFO] [Tools] Added node: nodes-base.apiTemplateIo (Generate PDF reports using templates)
2025-08-12T14:06:39.389Z [INFO] [Tools] Added node: nodes-base.jira (Create and manage Jira tickets for development issues)
2025-08-12T14:06:39.389Z [INFO] [Tools] Added node: nodes-base.scheduleTrigger (Trigger monthly report generation on a schedule)
2025-08-12T14:06:39.389Z [INFO] [Tools] Added node: nodes-base.if (Route items based on conditions for sentiment and categorization logic)
2025-08-12T14:06:39.451Z [DEBUG] [Orchestrator] Session state updated
2025-08-12T14:06:39.452Z [INFO] [Orchestrator] Data flow captured: 3 transformations
```

### Nodes
- **nodes-base.openAi** (ID: task_node_2)
  - Purpose: Send a message to an AI model and get response
  - Validation: valid
- **nodes-base.postgres** (ID: task_node_4)
  - Purpose: Query data from PostgreSQL database
  - Validation: valid
- **nodes-base.webhook** (ID: task_node_1)
  - Purpose: Set up a webhook to receive data from external services
  - Validation: valid
- **nodes-base.emailSend** (ID: task_node_5)
  - Purpose: Send an email notification
  - Validation: valid
- **nodes-base.postgres** (ID: task_node_3)
  - Purpose: Insert data into PostgreSQL table
  - Validation: valid
- **nodes-base.typeformTrigger** (ID: search_node_1)
  - Purpose: Starts the workflow on a Typeform form submission
  - Validation: valid
- **nodes-base.apiTemplateIo** (ID: search_node_2)
  - Purpose: Generate PDF reports using templates
  - Validation: valid
- **nodes-base.jira** (ID: search_node_3)
  - Purpose: Create and manage Jira tickets for development issues
  - Validation: valid
- **nodes-base.scheduleTrigger** (ID: search_node_4)
  - Purpose: Trigger monthly report generation on a schedule
  - Validation: valid
- **nodes-base.if** (ID: search_node_5)
  - Purpose: Route items based on conditions for sentiment and categorization logic
  - Validation: valid

### Data Flow
**Input:**
```json
{
  "discoveredNodes": [
    {
      "id": "task_node_2",
      "type": "nodes-base.openAi",
      "displayName": "chat with ai",
      "purpose": "Send a message to an AI model and get response",
      "isPreConfigured": true,
      "config": {
        "resource": "chat",
        "operation": "message",
        "modelId": "gpt-3.5-turbo",
        "messages": {
          "values": [
            {
              "role": "user",
              "content": ""
            }
          ]
        },
        "onError": "continueRegularOutput",
        "retryOnFail": true,
        "maxTries": 3,
        "waitBetweenTries": 5000,
        "alwaysOutputData": true
      }
    },
    {
      "id": "task_node_4",
      "type": "nodes-base.postgres",
      "displayName": "query postgres",
      "purpose": "Query data from PostgreSQL database",
      "isPreConfigured": true,
      "config": {
        "operation": "executeQuery",
        "query": "",
        "onError": "continueRegularOutput",
        "retryOnFail": true,
        "maxTries": 3,
        "waitBetweenTries": 1000
      }
    },
    {
      "id": "task_node_1",
      "type": "nodes-base.webhook",
      "displayName": "receive webhook",
      "purpose": "Set up a webhook to receive data from external services",
      "isPreConfigured": true,
      "config": {
        "httpMethod": "POST",
        "path": "webhook",
        "responseMode": "lastNode",
        "responseData": "allEntries",
        "onError": "continueRegularOutput",
        "alwaysOutputData": true
      }
    },
    {
      "id": "task_node_5",
      "type": "nodes-base.emailSend",
      "displayName": "send email",
      "purpose": "Send an email notification",
      "isPreConfigured": true,
      "config": {
        "fromEmail": "",
        "toEmail": "",
        "subject": "",
        "text": "",
        "onError": "continueRegularOutput",
        "retryOnFail": true,
        "maxTries": 3,
        "waitBetweenTries": 3000,
        "alwaysOutputData": true
      }
    },
    {
      "id": "task_node_3",
      "type": "nodes-base.postgres",
      "displayName": "insert postgres data",
      "purpose": "Insert data into PostgreSQL table",
      "isPreConfigured": true,
      "config": {
        "operation": "insert",
        "table": "",
        "columns": "",
        "returnFields": "*",
        "onError": "stopWorkflow",
        "retryOnFail": true,
        "maxTries": 2,
        "waitBetweenTries": 1000
      }
    },
    {
      "id": "search_node_1",
      "type": "nodes-base.typeformTrigger",
      "displayName": "nodes-base.typeformTrigger",
      "purpose": "Starts the workflow on a Typeform form submission",
      "needsConfiguration": true
    },
    {
      "id": "search_node_2",
      "type": "nodes-base.apiTemplateIo",
      "displayName": "nodes-base.apiTemplateIo",
      "purpose": "Generate PDF reports using templates",
      "needsConfiguration": true
    },
    {
      "id": "search_node_3",
      "type": "nodes-base.jira",
      "displayName": "nodes-base.jira",
      "purpose": "Create and manage Jira tickets for development issues",
      "needsConfiguration": true
    },
    {
      "id": "search_node_4",
      "type": "nodes-base.scheduleTrigger",
      "displayName": "nodes-base.scheduleTrigger",
      "purpose": "Trigger monthly report generation on a schedule",
      "needsConfiguration": true
    },
    {
      "id": "search_node_5",
      "type": "nodes-base.if",
      "displayName": "nodes-base.if",
      "purpose": "Route items based on conditions for sentiment and categorization logic",
      "needsConfiguration": true
    }
  ]
}
```

**Output:**
```json
{
  "configuredNodes": [
    {
      "id": "task_node_2",
      "type": "nodes-base.openAi",
      "purpose": "Send a message to an AI model and get response",
      "config": {
        "onError": "continueRegularOutput",
        "maxTries": 3,
        "retryOnFail": true,
        "alwaysOutputData": true,
        "waitBetweenTries": 5000,
        "notes": "AI categorization and sentiment analysis of Typeform survey responses - analyzes feedback to identify themes (UX, pricing, support) and sentiment for workflow processing",
        "parameters": {
          "modelId": "gpt-4",
          "messages": {
            "values": [
              {
                "role": "system",
                "content": "You are an expert at analyzing customer feedback. Your task is to categorize survey responses into themes and analyze sentiment. Always respond with valid JSON format."
              },
              {
                "role": "user",
                "content": "Please analyze this survey response and return a JSON object with the following structure:\n\n{\n  \"themes\": [\"theme1\", \"theme2\"],\n  \"primary_theme\": \"main_theme\",\n  \"sentiment\": \"positive|neutral|negative\",\n  \"sentiment_score\": 0.0,\n  \"requires_dev_attention\": true|false,\n  \"summary\": \"brief summary\"\n}\n\nAvailable themes: UX, pricing, support, features, performance, bugs, documentation\n\nSurvey Response: {{ $json.response_text || $json.answer || $json.feedback }}\nQuestion: {{ $json.question || 'General feedback' }}"
              }
            ]
          },
          "resource": "chat",
          "operation": "message",
          "options": {
            "temperature": 0.3,
            "maxTokens": 500
          }
        }
      },
      "validated": true
    },
    {
      "id": "task_node_4",
      "type": "nodes-base.postgres",
      "purpose": "Query data from PostgreSQL database",
      "config": {
        "onError": "continueRegularOutput",
        "maxTries": 3,
        "retryOnFail": true,
        "waitBetweenTries": 1000,
        "notes": "Query PostgreSQL database to retrieve categorized survey feedback data for monthly reporting. Fetches survey responses with AI-generated themes, sentiment tags, and associated Jira issues for management dashboard compilation.",
        "parameters": {
          "query": "SELECT \n  sr.response_id,\n  sr.submitted_at,\n  sr.feedback_text,\n  sr.ai_category,\n  sr.sentiment_score,\n  sr.sentiment_label,\n  ji.jira_issue_key,\n  ji.issue_status,\n  ji.created_date as jira_created\nFROM survey_responses sr\nLEFT JOIN jira_issues ji ON sr.response_id = ji.source_response_id\nWHERE sr.submitted_at >= DATE_TRUNC('month', CURRENT_DATE - INTERVAL '1 month')\n  AND sr.submitted_at < DATE_TRUNC('month', CURRENT_DATE)\nORDER BY sr.submitted_at DESC;",
          "operation": "executeQuery"
        }
      },
      "validated": true
    },
    {
      "id": "task_node_1",
      "type": "nodes-base.webhook",
      "purpose": "Set up a webhook to receive data from external services",
      "config": {
        "onError": "continueRegularOutput",
        "alwaysOutputData": true,
        "notes": "Webhook endpoint to receive survey responses from Typeform. This triggers the workflow that will categorize feedback, analyze sentiment, create Jira issues, and generate monthly reports for management.",
        "typeVersion": "1",
        "parameters": {
          "path": "typeform-survey-webhook",
          "httpMethod": "POST",
          "responseData": "allEntries",
          "responseMode": "lastNode"
        }
      },
      "validated": true
    },
    {
      "id": "task_node_5",
      "type": "nodes-base.emailSend",
      "purpose": "Send an email notification",
      "config": {
        "onError": "continueRegularOutput",
        "maxTries": 3,
        "retryOnFail": true,
        "alwaysOutputData": true,
        "waitBetweenTries": 3000,
        "notes": "Send monthly PDF reports to management with survey analysis summary including feedback themes, sentiment analysis, and Jira issue counts",
        "parameters": {
          "text": "Dear Management Team,\n\nPlease find attached the monthly survey analysis report containing:\n\n• Feedback categorization by themes (UX, pricing, support)\n• Sentiment analysis summary\n• Issues logged in Jira for development team\n• Key insights and trends\n\nThis automated report is generated from Typeform survey responses processed through our AI analysis workflow.\n\nBest regards,\nAutomated Survey Analysis System",
          "subject": "Monthly Survey Analysis Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}",
          "toEmail": "management@company.com",
          "fromEmail": "surveys@company.com"
        }
      },
      "validated": true
    },
    {
      "id": "task_node_3",
      "type": "nodes-base.postgres",
      "purpose": "Insert data into PostgreSQL table",
      "config": {
        "onError": "stopWorkflow",
        "maxTries": 2,
        "retryOnFail": true,
        "waitBetweenTries": 1000,
        "notes": "Insert categorized survey feedback data into PostgreSQL database with AI-generated themes, sentiment analysis, and metadata for reporting and Jira integration",
        "typeVersion": "1",
        "parameters": {
          "table": "survey_feedback",
          "columns": "response_id,typeform_id,submitted_at,feedback_text,ai_category,sentiment_score,sentiment_label,respondent_email,needs_jira_ticket,processed_at",
          "operation": "insert",
          "returnFields": "*",
          "schema": "public"
        }
      },
      "validated": true
    },
    {
      "id": "search_node_1",
      "type": "nodes-base.typeformTrigger",
      "purpose": "Starts the workflow on a Typeform form submission",
      "config": {
        "notes": "Triggers workflow when survey responses are submitted to Typeform for feedback analysis",
        "typeVersion": "1.1",
        "parameters": {
          "formId": "",
          "authentication": "accessToken",
          "simplifyAnswers": true,
          "onlyAnswers": true
        }
      },
      "validated": true
    },
    {
      "id": "search_node_2",
      "type": "nodes-base.apiTemplateIo",
      "purpose": "Generate PDF reports using templates",
      "config": {
        "notes": "Generates monthly PDF reports from survey feedback analysis using APITemplate.io",
        "typeVersion": "1",
        "parameters": {
          "resource": "pdf",
          "operation": "create",
          "pdfTemplateId": "{{ $json.templateId }}",
          "binaryProperty": "monthly_report",
          "templateData": {
            "reportTitle": "Monthly Survey Feedback Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}",
            "totalResponses": "{{ $json.totalResponses }}",
            "uxFeedback": "{{ $json.themes.ux }}",
            "pricingFeedback": "{{ $json.themes.pricing }}",
            "supportFeedback": "{{ $json.themes.support }}",
            "sentimentSummary": "{{ $json.sentimentSummary }}",
            "jiraIssuesCreated": "{{ $json.jiraIssuesCount }}",
            "generatedDate": "{{ new Date().toISOString().split('T')[0] }}"
          }
        }
      },
      "validated": true
    },
    {
      "id": "search_node_3",
      "type": "nodes-base.jira",
      "purpose": "Create and manage Jira tickets for development issues",
      "config": {
        "notes": "Creates Jira tickets for development issues identified from AI-categorized survey feedback",
        "typeVersion": "1",
        "parameters": {
          "resource": "issue",
          "operation": "create",
          "project": {
            "mode": "list",
            "value": "={{ $json.projectKey || 'DEV' }}"
          },
          "issueType": {
            "mode": "list",
            "value": "={{ $json.issueType || 'Bug' }}"
          },
          "summary": "={{ $json.feedbackTheme }}: {{ $json.summary }}",
          "description": "=**Original Feedback:**\n{{ $json.originalFeedback }}\n\n**AI Analysis:**\n- Theme: {{ $json.feedbackTheme }}\n- Sentiment: {{ $json.sentiment }}\n- Priority: {{ $json.priority }}\n\n**Survey Details:**\n- Response ID: {{ $json.responseId }}\n- Date: {{ $json.submittedAt }}\n- User: {{ $json.userEmail || 'Anonymous' }}",
          "priority": {
            "name": "={{ $json.priority || 'Medium' }}"
          },
          "labels": [
            "survey-feedback",
            "={{ $json.feedbackTheme.toLowerCase() }}",
            "={{ $json.sentiment.toLowerCase() }}"
          ]
        }
      },
      "validated": true
    },
    {
      "id": "search_node_4",
      "type": "nodes-base.scheduleTrigger",
      "purpose": "Trigger monthly report generation on a schedule",
      "config": {
        "notes": "Triggers monthly report generation for survey feedback analysis workflow",
        "typeVersion": "1.2",
        "parameters": {
          "notice": "",
          "rule": {
            "interval": [
              {
                "field": "month",
                "triggerAtDay": 1,
                "triggerAtHour": 9,
                "triggerAtMinute": 0
              }
            ]
          }
        }
      },
      "validated": true
    },
    {
      "id": "search_node_5",
      "type": "nodes-base.if",
      "purpose": "Route items based on conditions for sentiment and categorization logic",
      "config": {
        "notes": "Routes survey responses based on sentiment analysis results to determine if negative feedback should create Jira issues",
        "typeVersion": "2.2",
        "parameters": {
          "conditions": {
            "conditions": [
              {
                "id": "1",
                "leftValue": "={{ $json.sentiment }}",
                "rightValue": "negative",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              },
              {
                "id": "2",
                "leftValue": "={{ $json.category }}",
                "rightValue": "support",
                "operator": {
                  "type": "string",
                  "operation": "notEquals"
                }
              }
            ],
            "combineOperation": "all"
          }
        }
      },
      "validated": true
    }
  ]
}
```

**Transformations:**
- Parameter Configuration
- Validation
- Type Checking

### Session State Changes
**Changed from discovery phase:**

**Modified:**
- `state`: {11 fields} → {11 fields}

**Unchanged (2 fields):** sessionId, createdAt

## ========== BUILDING PHASE ==========

**Status:** ✅ Success
**Duration:** 42521ms
**Memory Delta:** 1MB

### Logs
```
2025-08-12T14:06:39.452Z [INFO] [Orchestrator] Starting building phase
2025-08-12T14:06:39.452Z [DEBUG] [Claude] Sending request for building phase
2025-08-12T14:07:21.841Z [INFO] [Tools] Added node: n8n-nodes-base.typeformTrigger (Typeform Survey Response)
2025-08-12T14:07:21.841Z [INFO] [Tools] Added node: n8n-nodes-base.openAi (AI Categorization & Sentiment)
2025-08-12T14:07:21.841Z [INFO] [Tools] Added node: n8n-nodes-base.postgres (Store Survey Data)
2025-08-12T14:07:21.841Z [INFO] [Tools] Added node: n8n-nodes-base.if (Check for Issues)
2025-08-12T14:07:21.841Z [INFO] [Tools] Added node: n8n-nodes-base.jira (Create Jira Issue)
2025-08-12T14:07:21.841Z [INFO] [Tools] Added node: n8n-nodes-base.scheduleTrigger (Monthly Report Trigger)
2025-08-12T14:07:21.842Z [INFO] [Tools] Added node: n8n-nodes-base.postgres (Query Monthly Data)
2025-08-12T14:07:21.842Z [INFO] [Tools] Added node: n8n-nodes-base.apiTemplateIo (Generate PDF Report)
2025-08-12T14:07:21.847Z [INFO] [Tools] Added node: n8n-nodes-base.emailSend (Send Report to Management)
2025-08-12T14:07:21.847Z [INFO] [Orchestrator] Created 9 nodes
2025-08-12T14:07:21.847Z [INFO] [Orchestrator] Created 7 connection groups
2025-08-12T14:07:21.973Z [DEBUG] [Orchestrator] Session state updated
2025-08-12T14:07:21.973Z [INFO] [Orchestrator] Data flow captured: 3 transformations
```

### Nodes
- **n8n-nodes-base.typeformTrigger** (ID: typeformTrigger_1)
  - Purpose: Typeform Survey Response
- **n8n-nodes-base.openAi** (ID: openAi_1)
  - Purpose: AI Categorization & Sentiment
- **n8n-nodes-base.postgres** (ID: postgres_1)
  - Purpose: Store Survey Data
- **n8n-nodes-base.if** (ID: if_1)
  - Purpose: Check for Issues
- **n8n-nodes-base.jira** (ID: jira_1)
  - Purpose: Create Jira Issue
- **n8n-nodes-base.scheduleTrigger** (ID: scheduleTrigger_1)
  - Purpose: Monthly Report Trigger
- **n8n-nodes-base.postgres** (ID: postgres_2)
  - Purpose: Query Monthly Data
- **n8n-nodes-base.apiTemplateIo** (ID: apiTemplateIo_1)
  - Purpose: Generate PDF Report
- **n8n-nodes-base.emailSend** (ID: emailSend_1)
  - Purpose: Send Report to Management

### Data Flow
**Input:**
```json
{
  "configuredNodes": [
    {
      "id": "task_node_2",
      "type": "nodes-base.openAi",
      "purpose": "Send a message to an AI model and get response",
      "config": {
        "onError": "continueRegularOutput",
        "maxTries": 3,
        "retryOnFail": true,
        "alwaysOutputData": true,
        "waitBetweenTries": 5000,
        "notes": "AI categorization and sentiment analysis of Typeform survey responses - analyzes feedback to identify themes (UX, pricing, support) and sentiment for workflow processing",
        "parameters": {
          "modelId": "gpt-4",
          "messages": {
            "values": [
              {
                "role": "system",
                "content": "You are an expert at analyzing customer feedback. Your task is to categorize survey responses into themes and analyze sentiment. Always respond with valid JSON format."
              },
              {
                "role": "user",
                "content": "Please analyze this survey response and return a JSON object with the following structure:\n\n{\n  \"themes\": [\"theme1\", \"theme2\"],\n  \"primary_theme\": \"main_theme\",\n  \"sentiment\": \"positive|neutral|negative\",\n  \"sentiment_score\": 0.0,\n  \"requires_dev_attention\": true|false,\n  \"summary\": \"brief summary\"\n}\n\nAvailable themes: UX, pricing, support, features, performance, bugs, documentation\n\nSurvey Response: {{ $json.response_text || $json.answer || $json.feedback }}\nQuestion: {{ $json.question || 'General feedback' }}"
              }
            ]
          },
          "resource": "chat",
          "operation": "message",
          "options": {
            "temperature": 0.3,
            "maxTokens": 500
          }
        }
      },
      "validated": true
    },
    {
      "id": "task_node_4",
      "type": "nodes-base.postgres",
      "purpose": "Query data from PostgreSQL database",
      "config": {
        "onError": "continueRegularOutput",
        "maxTries": 3,
        "retryOnFail": true,
        "waitBetweenTries": 1000,
        "notes": "Query PostgreSQL database to retrieve categorized survey feedback data for monthly reporting. Fetches survey responses with AI-generated themes, sentiment tags, and associated Jira issues for management dashboard compilation.",
        "parameters": {
          "query": "SELECT \n  sr.response_id,\n  sr.submitted_at,\n  sr.feedback_text,\n  sr.ai_category,\n  sr.sentiment_score,\n  sr.sentiment_label,\n  ji.jira_issue_key,\n  ji.issue_status,\n  ji.created_date as jira_created\nFROM survey_responses sr\nLEFT JOIN jira_issues ji ON sr.response_id = ji.source_response_id\nWHERE sr.submitted_at >= DATE_TRUNC('month', CURRENT_DATE - INTERVAL '1 month')\n  AND sr.submitted_at < DATE_TRUNC('month', CURRENT_DATE)\nORDER BY sr.submitted_at DESC;",
          "operation": "executeQuery"
        }
      },
      "validated": true
    },
    {
      "id": "task_node_1",
      "type": "nodes-base.webhook",
      "purpose": "Set up a webhook to receive data from external services",
      "config": {
        "onError": "continueRegularOutput",
        "alwaysOutputData": true,
        "notes": "Webhook endpoint to receive survey responses from Typeform. This triggers the workflow that will categorize feedback, analyze sentiment, create Jira issues, and generate monthly reports for management.",
        "typeVersion": "1",
        "parameters": {
          "path": "typeform-survey-webhook",
          "httpMethod": "POST",
          "responseData": "allEntries",
          "responseMode": "lastNode"
        }
      },
      "validated": true
    },
    {
      "id": "task_node_5",
      "type": "nodes-base.emailSend",
      "purpose": "Send an email notification",
      "config": {
        "onError": "continueRegularOutput",
        "maxTries": 3,
        "retryOnFail": true,
        "alwaysOutputData": true,
        "waitBetweenTries": 3000,
        "notes": "Send monthly PDF reports to management with survey analysis summary including feedback themes, sentiment analysis, and Jira issue counts",
        "parameters": {
          "text": "Dear Management Team,\n\nPlease find attached the monthly survey analysis report containing:\n\n• Feedback categorization by themes (UX, pricing, support)\n• Sentiment analysis summary\n• Issues logged in Jira for development team\n• Key insights and trends\n\nThis automated report is generated from Typeform survey responses processed through our AI analysis workflow.\n\nBest regards,\nAutomated Survey Analysis System",
          "subject": "Monthly Survey Analysis Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}",
          "toEmail": "management@company.com",
          "fromEmail": "surveys@company.com"
        }
      },
      "validated": true
    },
    {
      "id": "task_node_3",
      "type": "nodes-base.postgres",
      "purpose": "Insert data into PostgreSQL table",
      "config": {
        "onError": "stopWorkflow",
        "maxTries": 2,
        "retryOnFail": true,
        "waitBetweenTries": 1000,
        "notes": "Insert categorized survey feedback data into PostgreSQL database with AI-generated themes, sentiment analysis, and metadata for reporting and Jira integration",
        "typeVersion": "1",
        "parameters": {
          "table": "survey_feedback",
          "columns": "response_id,typeform_id,submitted_at,feedback_text,ai_category,sentiment_score,sentiment_label,respondent_email,needs_jira_ticket,processed_at",
          "operation": "insert",
          "returnFields": "*",
          "schema": "public"
        }
      },
      "validated": true
    },
    {
      "id": "search_node_1",
      "type": "nodes-base.typeformTrigger",
      "purpose": "Starts the workflow on a Typeform form submission",
      "config": {
        "notes": "Triggers workflow when survey responses are submitted to Typeform for feedback analysis",
        "typeVersion": "1.1",
        "parameters": {
          "formId": "",
          "authentication": "accessToken",
          "simplifyAnswers": true,
          "onlyAnswers": true
        }
      },
      "validated": true
    },
    {
      "id": "search_node_2",
      "type": "nodes-base.apiTemplateIo",
      "purpose": "Generate PDF reports using templates",
      "config": {
        "notes": "Generates monthly PDF reports from survey feedback analysis using APITemplate.io",
        "typeVersion": "1",
        "parameters": {
          "resource": "pdf",
          "operation": "create",
          "pdfTemplateId": "{{ $json.templateId }}",
          "binaryProperty": "monthly_report",
          "templateData": {
            "reportTitle": "Monthly Survey Feedback Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}",
            "totalResponses": "{{ $json.totalResponses }}",
            "uxFeedback": "{{ $json.themes.ux }}",
            "pricingFeedback": "{{ $json.themes.pricing }}",
            "supportFeedback": "{{ $json.themes.support }}",
            "sentimentSummary": "{{ $json.sentimentSummary }}",
            "jiraIssuesCreated": "{{ $json.jiraIssuesCount }}",
            "generatedDate": "{{ new Date().toISOString().split('T')[0] }}"
          }
        }
      },
      "validated": true
    },
    {
      "id": "search_node_3",
      "type": "nodes-base.jira",
      "purpose": "Create and manage Jira tickets for development issues",
      "config": {
        "notes": "Creates Jira tickets for development issues identified from AI-categorized survey feedback",
        "typeVersion": "1",
        "parameters": {
          "resource": "issue",
          "operation": "create",
          "project": {
            "mode": "list",
            "value": "={{ $json.projectKey || 'DEV' }}"
          },
          "issueType": {
            "mode": "list",
            "value": "={{ $json.issueType || 'Bug' }}"
          },
          "summary": "={{ $json.feedbackTheme }}: {{ $json.summary }}",
          "description": "=**Original Feedback:**\n{{ $json.originalFeedback }}\n\n**AI Analysis:**\n- Theme: {{ $json.feedbackTheme }}\n- Sentiment: {{ $json.sentiment }}\n- Priority: {{ $json.priority }}\n\n**Survey Details:**\n- Response ID: {{ $json.responseId }}\n- Date: {{ $json.submittedAt }}\n- User: {{ $json.userEmail || 'Anonymous' }}",
          "priority": {
            "name": "={{ $json.priority || 'Medium' }}"
          },
          "labels": [
            "survey-feedback",
            "={{ $json.feedbackTheme.toLowerCase() }}",
            "={{ $json.sentiment.toLowerCase() }}"
          ]
        }
      },
      "validated": true
    },
    {
      "id": "search_node_4",
      "type": "nodes-base.scheduleTrigger",
      "purpose": "Trigger monthly report generation on a schedule",
      "config": {
        "notes": "Triggers monthly report generation for survey feedback analysis workflow",
        "typeVersion": "1.2",
        "parameters": {
          "notice": "",
          "rule": {
            "interval": [
              {
                "field": "month",
                "triggerAtDay": 1,
                "triggerAtHour": 9,
                "triggerAtMinute": 0
              }
            ]
          }
        }
      },
      "validated": true
    },
    {
      "id": "search_node_5",
      "type": "nodes-base.if",
      "purpose": "Route items based on conditions for sentiment and categorization logic",
      "config": {
        "notes": "Routes survey responses based on sentiment analysis results to determine if negative feedback should create Jira issues",
        "typeVersion": "2.2",
        "parameters": {
          "conditions": {
            "conditions": [
              {
                "id": "1",
                "leftValue": "={{ $json.sentiment }}",
                "rightValue": "negative",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              },
              {
                "id": "2",
                "leftValue": "={{ $json.category }}",
                "rightValue": "support",
                "operator": {
                  "type": "string",
                  "operation": "notEquals"
                }
              }
            ],
            "combineOperation": "all"
          }
        }
      },
      "validated": true
    }
  ]
}
```

**Output:**
```json
{
  "workflow": {
    "name": "Typeform Survey Feedback Analysis & Reporting Workflow",
    "nodes": [
      {
        "id": "typeformTrigger_1",
        "type": "n8n-nodes-base.typeformTrigger",
        "position": [
          250,
          300
        ],
        "parameters": {
          "formId": "",
          "onlyAnswers": true,
          "authentication": "accessToken"
        },
        "name": "Typeform Survey Response",
        "typeVersion": 1
      },
      {
        "id": "openAi_1",
        "type": "n8n-nodes-base.openAi",
        "position": [
          550,
          300
        ],
        "parameters": {
          "resource": "chat",
          "operation": "message",
          "model": "gpt-3.5-turbo",
          "messages": {
            "values": [
              {
                "role": "system",
                "content": "Analyze survey feedback and return JSON with: {\"theme\": \"UX|pricing|support|other\", \"sentiment\": \"positive|negative|neutral\", \"priority\": \"high|medium|low\"}"
              },
              {
                "role": "user",
                "content": "={{ $json.feedback }}"
              }
            ]
          }
        },
        "name": "AI Categorization & Sentiment",
        "typeVersion": 1,
        "onError": "continueRegularOutput"
      },
      {
        "id": "postgres_1",
        "type": "n8n-nodes-base.postgres",
        "position": [
          850,
          300
        ],
        "parameters": {
          "operation": "insert",
          "schema": "public",
          "table": "survey_responses",
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "response_id": "={{ $('Typeform Survey Response').item.json.token }}",
              "feedback": "={{ $('Typeform Survey Response').item.json.feedback }}",
              "theme": "={{ JSON.parse($json.choices[0].message.content).theme }}",
              "sentiment": "={{ JSON.parse($json.choices[0].message.content).sentiment }}",
              "priority": "={{ JSON.parse($json.choices[0].message.content).priority }}",
              "created_at": "={{ new Date().toISOString() }}"
            }
          }
        },
        "name": "Store Survey Data",
        "typeVersion": 2.4,
        "onError": "stopWorkflow"
      },
      {
        "id": "if_1",
        "type": "n8n-nodes-base.if",
        "position": [
          1150,
          300
        ],
        "parameters": {
          "conditions": {
            "conditions": [
              {
                "leftValue": "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}",
                "rightValue": "negative",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              },
              {
                "leftValue": "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}",
                "rightValue": "high",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              }
            ],
            "combinator": "or"
          }
        },
        "name": "Check for Issues",
        "typeVersion": 2
      },
      {
        "id": "jira_1",
        "type": "n8n-nodes-base.jira",
        "position": [
          1450,
          200
        ],
        "parameters": {
          "resource": "issue",
          "operation": "create",
          "project": {
            "key": "DEV"
          },
          "issueType": {
            "name": "Bug"
          },
          "summary": "Survey Feedback Issue: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme }}",
          "description": "Customer feedback: {{ $('Typeform Survey Response').item.json.feedback }}\n\nSentiment: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}\nPriority: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}",
          "labels": [
            "survey-feedback",
            "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme.toLowerCase() }}"
          ]
        },
        "name": "Create Jira Issue",
        "typeVersion": 1
      },
      {
        "id": "scheduleTrigger_1",
        "type": "n8n-nodes-base.scheduleTrigger",
        "position": [
          250,
          600
        ],
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "month",
                "triggerAtDay": 1,
                "triggerAtHour": 9,
                "triggerAtMinute": 0
              }
            ]
          }
        },
        "name": "Monthly Report Trigger",
        "typeVersion": 1.2
      },
      {
        "id": "postgres_2",
        "type": "n8n-nodes-base.postgres",
        "position": [
          550,
          600
        ],
        "parameters": {
          "operation": "select",
          "schema": "public",
          "table": "survey_responses",
          "where": {
            "values": [
              {
                "column": "created_at",
                "condition": ">=",
                "value": "={{ new Date(new Date().getFullYear(), new Date().getMonth() - 1, 1).toISOString() }}"
              }
            ]
          }
        },
        "name": "Query Monthly Data",
        "typeVersion": 2.4
      },
      {
        "id": "apiTemplateIo_1",
        "type": "n8n-nodes-base.apiTemplateIo",
        "position": [
          850,
          600
        ],
        "parameters": {
          "resource": "pdf",
          "operation": "create",
          "templateData": {
            "uxFeedback": "={{ $json.filter(item => item.theme === 'UX').length }}",
            "pricingFeedback": "={{ $json.filter(item => item.theme === 'pricing').length }}",
            "supportFeedback": "={{ $json.filter(item => item.theme === 'support').length }}",
            "positiveSentiment": "={{ $json.filter(item => item.sentiment === 'positive').length }}",
            "negativeSentiment": "={{ $json.filter(item => item.sentiment === 'negative').length }}",
            "neutralSentiment": "={{ $json.filter(item => item.sentiment === 'neutral').length }}",
            "totalResponses": "={{ $json.length }}",
            "reportMonth": "={{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}"
          }
        },
        "name": "Generate PDF Report",
        "typeVersion": 1
      },
      {
        "id": "emailSend_1",
        "type": "n8n-nodes-base.emailSend",
        "position": [
          1150,
          600
        ],
        "parameters": {
          "fromEmail": "reports@company.com",
          "toEmail": "management@company.com",
          "subject": "Monthly Survey Feedback Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}",
          "message": "Please find attached the monthly survey feedback analysis report.",
          "attachments": "={{ $json.download_url }}",
          "options": {
            "attachmentsUi": {
              "attachmentsBinary": [
                {
                  "property": "data"
                }
              ]
            }
          }
        },
        "name": "Send Report to Management",
        "typeVersion": 2.1,
        "onError": "continueRegularOutput",
        "maxTries": 3
      }
    ],
    "connections": {
      "Typeform Survey Response": {
        "main": [
          [
            {
              "node": "AI Categorization & Sentiment",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "AI Categorization & Sentiment": {
        "main": [
          [
            {
              "node": "Store Survey Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Store Survey Data": {
        "main": [
          [
            {
              "node": "Check for Issues",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Check for Issues": {
        "main": [
          [
            {
              "node": "Create Jira Issue",
              "type": "main",
              "index": 0
            }
          ],
          []
        ]
      },
      "Monthly Report Trigger": {
        "main": [
          [
            {
              "node": "Query Monthly Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Query Monthly Data": {
        "main": [
          [
            {
              "node": "Generate PDF Report",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Generate PDF Report": {
        "main": [
          [
            {
              "node": "Send Report to Management",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "settings": {
      "executionOrder": "v1",
      "saveDataSuccessExecution": "all",
      "saveDataErrorExecution": "all",
      "saveManualExecutions": true
    }
  }
}
```

**Transformations:**
- Workflow Generation
- Connection Building
- Settings Configuration

### Session State Changes
**Changed from configuration phase:**

**Added:**
- `state`: {1 fields}

**Modified:**
- `state`: {11 fields} → {11 fields}

**Unchanged (2 fields):** sessionId, createdAt

## ========== VALIDATION PHASE ==========

**Status:** ✅ Success
**Duration:** 51402ms
**Memory Delta:** 3MB

### Logs
```
2025-08-12T14:07:21.974Z [INFO] [Orchestrator] Starting validation phase
2025-08-12T14:07:21.974Z [DEBUG] [Claude] Sending request for validation phase
2025-08-12T14:07:21.976Z [INFO] [MCP] Calling tool: validate_workflow
2025-08-12T14:07:21.976Z [DEBUG] [MCP] Parameters: {"workflow":{"name":"Typeform Survey Feedback Analysis & Reporting Workflow","nodes":[{"id":"typeformTrigger_1","type":"n8n-nodes-base.typeformTrigger","position":[250,300],"parameters":{"formId":"","onlyAnswers":true,"authentication":"accessToken"},"name":"Typeform Survey Response","typeVersion":1},{"id":"openAi_1","type":"n8n-nodes-base.openAi","position":[550,300],"parameters":{"resource":"chat","operation":"message","model":"gpt-3.5-turbo","messages":{"values":[{"role":"system","content":"Analyze survey feedback and return JSON with: {\"theme\": \"UX|pricing|support|other\", \"sentiment\": \"positive|negative|neutral\", \"priority\": \"high|medium|low\"}"},{"role":"user","content":"={{ $json.feedback }}"}]}},"name":"AI Categorization & Sentiment","typeVersion":1,"onError":"continueRegularOutput"},{"id":"postgres_1","type":"n8n-nodes-base.postgres","position":[850,300],"parameters":{"operation":"insert","schema":"public","table":"survey_responses","columns":{"mappingMode":"defineBelow","value":{"response_id":"={{ $('Typeform Survey Response').item.json.token }}","feedback":"={{ $('Typeform Survey Response').item.json.feedback }}","theme":"={{ JSON.parse($json.choices[0].message.content).theme }}","sentiment":"={{ JSON.parse($json.choices[0].message.content).sentiment }}","priority":"={{ JSON.parse($json.choices[0].message.content).priority }}","created_at":"={{ new Date().toISOString() }}"}}},"name":"Store Survey Data","typeVersion":2.4,"onError":"stopWorkflow"},{"id":"if_1","type":"n8n-nodes-base.if","position":[1150,300],"parameters":{"conditions":{"conditions":[{"leftValue":"={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}","rightValue":"negative","operator":{"type":"string","operation":"equals"}},{"leftValue":"={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}","rightValue":"high","operator":{"type":"string","operation":"equals"}}],"combinator":"or"}},"name":"Check for Issues","typeVersion":2},{"id":"jira_1","type":"n8n-nodes-base.jira","position":[1450,200],"parameters":{"resource":"issue","operation":"create","project":{"key":"DEV"},"issueType":{"name":"Bug"},"summary":"Survey Feedback Issue: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme }}","description":"Customer feedback: {{ $('Typeform Survey Response').item.json.feedback }}\n\nSentiment: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}\nPriority: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}","labels":["survey-feedback","={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme.toLowerCase() }}"]},"name":"Create Jira Issue","typeVersion":1},{"id":"scheduleTrigger_1","type":"n8n-nodes-base.scheduleTrigger","position":[250,600],"parameters":{"rule":{"interval":[{"field":"month","triggerAtDay":1,"triggerAtHour":9,"triggerAtMinute":0}]}},"name":"Monthly Report Trigger","typeVersion":1.2},{"id":"postgres_2","type":"n8n-nodes-base.postgres","position":[550,600],"parameters":{"operation":"select","schema":"public","table":"survey_responses","where":{"values":[{"column":"created_at","condition":">=","value":"={{ new Date(new Date().getFullYear(), new Date().getMonth() - 1, 1).toISOString() }}"}]}},"name":"Query Monthly Data","typeVersion":2.4},{"id":"apiTemplateIo_1","type":"n8n-nodes-base.apiTemplateIo","position":[850,600],"parameters":{"resource":"pdf","operation":"create","templateData":{"uxFeedback":"={{ $json.filter(item => item.theme === 'UX').length }}","pricingFeedback":"={{ $json.filter(item => item.theme === 'pricing').length }}","supportFeedback":"={{ $json.filter(item => item.theme === 'support').length }}","positiveSentiment":"={{ $json.filter(item => item.sentiment === 'positive').length }}","negativeSentiment":"={{ $json.filter(item => item.sentiment === 'negative').length }}","neutralSentiment":"={{ $json.filter(item => item.sentiment === 'neutral').length }}","totalResponses":"={{ $json.length }}","reportMonth":"={{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}"}},"name":"Generate PDF Report","typeVersion":1},{"id":"emailSend_1","type":"n8n-nodes-base.emailSend","position":[1150,600],"parameters":{"fromEmail":"reports@company.com","toEmail":"management@company.com","subject":"Monthly Survey Feedback Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}","message":"Please find attached the monthly survey feedback analysis report.","attachments":"={{ $json.download_url }}","options":{"attachmentsUi":{"attachmentsBinary":[{"property":"data"}]}}},"name":"Send Report to Management","typeVersion":2.1,"onError":"continueRegularOutput","maxTries":3}],"connections":{"Typeform Survey Response":{"main":[[{"node":"AI Categorization & Sentiment","type":"main","index":0}]]},"AI Categorization & Sentiment":{"main":[[{"node":"Store Survey Data","type":"main","index":0}]]},"Store Survey Data":{"main":[[{"node":"Check for Issues","type":"main","index":0}]]},"Check for Issues":{"main":[[{"node":"Create Jira Issue","type":"main","index":0}],[]]},"Monthly Report Trigger":{"main":[[{"node":"Query Monthly Data","type":"main","index":0}]]},"Query Monthly Data":{"main":[[{"node":"Generate PDF Report","type":"main","index":0}]]},"Generate PDF Report":{"main":[[{"node":"Send Report to Management","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","saveDataSuccessExecution":"all","saveDataErrorExecution":"all","saveManualExecutions":true}},"options":{"validateNodes":true,"validateConnections":true,"validateExpressions":true,"profile":"runtime"}}
2025-08-12T14:07:22.164Z [DEBUG] [MCP] Tool validate_workflow completed successfully
2025-08-12T14:07:36.823Z [INFO] [MCP] Calling tool: validate_workflow
2025-08-12T14:07:36.823Z [DEBUG] [MCP] Parameters: {"workflow":{"name":"Typeform Survey Feedback Analysis & Reporting Workflow","nodes":[{"id":"typeformTrigger_1","type":"n8n-nodes-base.typeformTrigger","position":[250,300],"parameters":{"formId":"your-form-id","onlyAnswers":true,"authentication":"accessToken"},"name":"Typeform Survey Response","typeVersion":1.1},{"id":"openAi_1","type":"n8n-nodes-base.openAi","position":[550,300],"parameters":{"resource":"chat","operation":"complete","model":"gpt-3.5-turbo","messages":{"values":[{"role":"system","content":"Analyze survey feedback and return JSON with: {\"theme\": \"UX|pricing|support|other\", \"sentiment\": \"positive|negative|neutral\", \"priority\": \"high|medium|low\"}"},{"role":"user","content":"={{ $json.feedback }}"}]}},"name":"AI Categorization & Sentiment","typeVersion":1.1,"onError":"continueRegularOutput"},{"id":"postgres_1","type":"n8n-nodes-base.postgres","position":[850,300],"parameters":{"operation":"insert","schema":"public","table":"survey_responses","columns":{"mappingMode":"defineBelow","value":{"response_id":"={{ $('Typeform Survey Response').item.json.token }}","feedback":"={{ $('Typeform Survey Response').item.json.feedback }}","theme":"={{ JSON.parse($json.choices[0].message.content).theme }}","sentiment":"={{ JSON.parse($json.choices[0].message.content).sentiment }}","priority":"={{ JSON.parse($json.choices[0].message.content).priority }}","created_at":"={{ new Date().toISOString() }}"}}},"name":"Store Survey Data","typeVersion":2.6,"onError":"stopWorkflow"},{"id":"if_1","type":"n8n-nodes-base.if","position":[1150,300],"parameters":{"conditions":{"conditions":[{"leftValue":"={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}","rightValue":"negative","operator":{"type":"string","operation":"equals"}},{"leftValue":"={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}","rightValue":"high","operator":{"type":"string","operation":"equals"}}],"combinator":"or"}},"name":"Check for Issues","typeVersion":2.2},{"id":"jira_1","type":"n8n-nodes-base.jira","position":[1450,200],"parameters":{"resource":"issue","operation":"create","project":{"key":"DEV"},"issueType":{"name":"Bug"},"summary":"Survey Feedback Issue: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme }}","description":"Customer feedback: {{ $('Typeform Survey Response').item.json.feedback }}\n\nSentiment: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}\nPriority: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}","labels":["survey-feedback","={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme.toLowerCase() }}"]},"name":"Create Jira Issue","typeVersion":1},{"id":"scheduleTrigger_1","type":"n8n-nodes-base.scheduleTrigger","position":[250,600],"parameters":{"rule":{"interval":[{"field":"month","triggerAtDay":1,"triggerAtHour":9,"triggerAtMinute":0}]}},"name":"Monthly Report Trigger","typeVersion":1.2},{"id":"postgres_2","type":"n8n-nodes-base.postgres","position":[550,600],"parameters":{"operation":"select","schema":"public","table":"survey_responses","where":{"values":[{"column":"created_at","condition":">=","value":"={{ new Date(new Date().getFullYear(), new Date().getMonth() - 1, 1).toISOString() }}"}]}},"name":"Query Monthly Data","typeVersion":2.6},{"id":"apiTemplateIo_1","type":"n8n-nodes-base.apiTemplateIo","position":[850,600],"parameters":{"resource":"pdf","operation":"create","pdfTemplateId":"your-template-id","templateData":{"uxFeedback":"={{ $json.filter(item => item.theme === 'UX').length }}","pricingFeedback":"={{ $json.filter(item => item.theme === 'pricing').length }}","supportFeedback":"={{ $json.filter(item => item.theme === 'support').length }}","positiveSentiment":"={{ $json.filter(item => item.sentiment === 'positive').length }}","negativeSentiment":"={{ $json.filter(item => item.sentiment === 'negative').length }}","neutralSentiment":"={{ $json.filter(item => item.sentiment === 'neutral').length }}","totalResponses":"={{ $json.length }}","reportMonth":"={{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}"}},"name":"Generate PDF Report","typeVersion":1},{"id":"emailSend_1","type":"n8n-nodes-base.emailSend","position":[1150,600],"parameters":{"fromEmail":"reports@company.com","toEmail":"management@company.com","subject":"Monthly Survey Feedback Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}","message":"Please find attached the monthly survey feedback analysis report.","attachments":"={{ $json.download_url }}","options":{"attachmentsUi":{"attachmentsBinary":[{"property":"data"}]}}},"name":"Send Report to Management","typeVersion":2.1,"onError":"continueRegularOutput","maxTries":3}],"connections":{"Typeform Survey Response":{"main":[[{"node":"AI Categorization & Sentiment","type":"main","index":0}]]},"AI Categorization & Sentiment":{"main":[[{"node":"Store Survey Data","type":"main","index":0}]]},"Store Survey Data":{"main":[[{"node":"Check for Issues","type":"main","index":0}]]},"Check for Issues":{"main":[[{"node":"Create Jira Issue","type":"main","index":0}],[]]},"Monthly Report Trigger":{"main":[[{"node":"Query Monthly Data","type":"main","index":0}]]},"Query Monthly Data":{"main":[[{"node":"Generate PDF Report","type":"main","index":0}]]},"Generate PDF Report":{"main":[[{"node":"Send Report to Management","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","saveDataSuccessExecution":"all","saveDataErrorExecution":"all","saveManualExecutions":true}},"options":{"validateNodes":true,"validateConnections":true,"validateExpressions":true,"profile":"runtime"}}
2025-08-12T14:07:37.060Z [DEBUG] [MCP] Tool validate_workflow completed successfully
2025-08-12T14:07:57.027Z [INFO] [MCP] Calling tool: validate_workflow
2025-08-12T14:07:57.027Z [DEBUG] [MCP] Parameters: {"workflow":{"name":"Typeform Survey Feedback Analysis & Reporting Workflow","nodes":[{"id":"typeformTrigger_1","type":"n8n-nodes-base.typeformTrigger","position":[250,300],"parameters":{"formId":"","onlyAnswers":true,"authentication":"accessToken"},"name":"Typeform Survey Response","typeVersion":1.1},{"id":"openAi_1","type":"n8n-nodes-base.openAi","position":[550,300],"parameters":{"resource":"chat","operation":"complete","model":"gpt-3.5-turbo","messages":{"values":[{"role":"system","content":"Analyze survey feedback and return JSON with: {\"theme\": \"UX|pricing|support|other\", \"sentiment\": \"positive|negative|neutral\", \"priority\": \"high|medium|low\"}"},{"role":"user","content":"={{ $json.feedback }}"}]}},"name":"AI Categorization & Sentiment","typeVersion":1.1,"onError":"continueRegularOutput"},{"id":"postgres_1","type":"n8n-nodes-base.postgres","position":[850,300],"parameters":{"operation":"insert","schema":"public","table":"survey_responses","columns":{"mappingMode":"defineBelow","value":{"response_id":"={{ $('Typeform Survey Response').item.json.token }}","feedback":"={{ $('Typeform Survey Response').item.json.feedback }}","theme":"={{ JSON.parse($json.choices[0].message.content).theme }}","sentiment":"={{ JSON.parse($json.choices[0].message.content).sentiment }}","priority":"={{ JSON.parse($json.choices[0].message.content).priority }}","created_at":"={{ new Date().toISOString() }}"}}},"name":"Store Survey Data","typeVersion":2.6,"onError":"stopWorkflow"},{"id":"if_1","type":"n8n-nodes-base.if","position":[1150,300],"parameters":{"conditions":{"conditions":[{"leftValue":"={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}","rightValue":"negative","operator":{"type":"string","operation":"equals"}},{"leftValue":"={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}","rightValue":"high","operator":{"type":"string","operation":"equals"}}],"combinator":"or"}},"name":"Check for Issues","typeVersion":2.2},{"id":"jira_1","type":"n8n-nodes-base.jira","position":[1450,200],"parameters":{"resource":"issue","operation":"create","project":{"key":"DEV"},"issueType":{"name":"Bug"},"summary":"Survey Feedback Issue: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme }}","description":"Customer feedback: {{ $('Typeform Survey Response').item.json.feedback }}\n\nSentiment: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}\nPriority: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}","labels":["survey-feedback","={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme.toLowerCase() }}"]},"name":"Create Jira Issue","typeVersion":1},{"id":"scheduleTrigger_1","type":"n8n-nodes-base.scheduleTrigger","position":[250,600],"parameters":{"rule":{"interval":[{"field":"month","triggerAtDay":1,"triggerAtHour":9,"triggerAtMinute":0}]}},"name":"Monthly Report Trigger","typeVersion":1.2},{"id":"postgres_2","type":"n8n-nodes-base.postgres","position":[550,600],"parameters":{"operation":"select","schema":"public","table":"survey_responses","where":{"values":[{"column":"created_at","condition":">=","value":"={{ new Date(new Date().getFullYear(), new Date().getMonth() - 1, 1).toISOString() }}"}]}},"name":"Query Monthly Data","typeVersion":2.6},{"id":"apiTemplateIo_1","type":"n8n-nodes-base.apiTemplateIo","position":[850,600],"parameters":{"resource":"pdf","operation":"create","pdfTemplateId":"your-template-id","templateData":{"uxFeedback":"={{ $json.filter(item => item.theme === 'UX').length }}","pricingFeedback":"={{ $json.filter(item => item.theme === 'pricing').length }}","supportFeedback":"={{ $json.filter(item => item.theme === 'support').length }}","positiveSentiment":"={{ $json.filter(item => item.sentiment === 'positive').length }}","negativeSentiment":"={{ $json.filter(item => item.sentiment === 'negative').length }}","neutralSentiment":"={{ $json.filter(item => item.sentiment === 'neutral').length }}","totalResponses":"={{ $json.length }}","reportMonth":"={{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}"}},"name":"Generate PDF Report","typeVersion":1},{"id":"emailSend_1","type":"n8n-nodes-base.emailSend","position":[1150,600],"parameters":{"fromEmail":"reports@company.com","toEmail":"management@company.com","subject":"Monthly Survey Feedback Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}","message":"Please find attached the monthly survey feedback analysis report.","attachments":"={{ $json.download_url }}","options":{"attachmentsUi":{"attachmentsBinary":[{"property":"data"}]}}},"name":"Send Report to Management","typeVersion":2.1,"onError":"continueRegularOutput","maxTries":3}],"connections":{"Typeform Survey Response":{"main":[[{"node":"AI Categorization & Sentiment","type":"main","index":0}]]},"AI Categorization & Sentiment":{"main":[[{"node":"Store Survey Data","type":"main","index":0}]]},"Store Survey Data":{"main":[[{"node":"Check for Issues","type":"main","index":0}]]},"Check for Issues":{"main":[[{"node":"Create Jira Issue","type":"main","index":0}],[]]},"Monthly Report Trigger":{"main":[[{"node":"Query Monthly Data","type":"main","index":0}]]},"Query Monthly Data":{"main":[[{"node":"Generate PDF Report","type":"main","index":0}]]},"Generate PDF Report":{"main":[[{"node":"Send Report to Management","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","saveDataSuccessExecution":"all","saveDataErrorExecution":"all","saveManualExecutions":true}},"options":{"validateNodes":true,"validateConnections":true,"validateExpressions":true,"profile":"runtime"}}
2025-08-12T14:07:57.236Z [DEBUG] [MCP] Tool validate_workflow completed successfully
2025-08-12T14:08:02.535Z [INFO] [MCP] Calling tool: validate_workflow
2025-08-12T14:08:02.535Z [DEBUG] [MCP] Parameters: {"workflow":{"name":"Typeform Survey Feedback Analysis & Reporting Workflow","nodes":[{"id":"typeformTrigger_1","type":"n8n-nodes-base.typeformTrigger","position":[250,300],"parameters":{"formId":"your-form-id","onlyAnswers":true,"authentication":"accessToken"},"name":"Typeform Survey Response","typeVersion":1.1},{"id":"openAi_1","type":"n8n-nodes-base.openAi","position":[550,300],"parameters":{"resource":"chat","operation":"complete","model":"gpt-3.5-turbo","messages":{"values":[{"role":"system","content":"Analyze survey feedback and return JSON with: {\"theme\": \"UX|pricing|support|other\", \"sentiment\": \"positive|negative|neutral\", \"priority\": \"high|medium|low\"}"},{"role":"user","content":"={{ $json.feedback }}"}]}},"name":"AI Categorization & Sentiment","typeVersion":1.1,"onError":"continueRegularOutput"},{"id":"postgres_1","type":"n8n-nodes-base.postgres","position":[850,300],"parameters":{"operation":"insert","schema":"public","table":"survey_responses","columns":{"mappingMode":"defineBelow","value":{"response_id":"={{ $('Typeform Survey Response').item.json.token }}","feedback":"={{ $('Typeform Survey Response').item.json.feedback }}","theme":"={{ JSON.parse($json.choices[0].message.content).theme }}","sentiment":"={{ JSON.parse($json.choices[0].message.content).sentiment }}","priority":"={{ JSON.parse($json.choices[0].message.content).priority }}","created_at":"={{ new Date().toISOString() }}"}}},"name":"Store Survey Data","typeVersion":2.6,"onError":"stopWorkflow"},{"id":"if_1","type":"n8n-nodes-base.if","position":[1150,300],"parameters":{"conditions":{"conditions":[{"leftValue":"={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}","rightValue":"negative","operator":{"type":"string","operation":"equals"}},{"leftValue":"={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}","rightValue":"high","operator":{"type":"string","operation":"equals"}}],"combinator":"or"}},"name":"Check for Issues","typeVersion":2.2},{"id":"jira_1","type":"n8n-nodes-base.jira","position":[1450,200],"parameters":{"resource":"issue","operation":"create","project":{"key":"DEV"},"issueType":{"name":"Bug"},"summary":"Survey Feedback Issue: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme }}","description":"Customer feedback: {{ $('Typeform Survey Response').item.json.feedback }}\n\nSentiment: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}\nPriority: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}","labels":["survey-feedback","={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme.toLowerCase() }}"]},"name":"Create Jira Issue","typeVersion":1},{"id":"scheduleTrigger_1","type":"n8n-nodes-base.scheduleTrigger","position":[250,600],"parameters":{"rule":{"interval":[{"field":"month","triggerAtDay":1,"triggerAtHour":9,"triggerAtMinute":0}]}},"name":"Monthly Report Trigger","typeVersion":1.2},{"id":"postgres_2","type":"n8n-nodes-base.postgres","position":[550,600],"parameters":{"operation":"select","schema":"public","table":"survey_responses","where":{"values":[{"column":"created_at","condition":">=","value":"={{ new Date(new Date().getFullYear(), new Date().getMonth() - 1, 1).toISOString() }}"}]}},"name":"Query Monthly Data","typeVersion":2.6},{"id":"apiTemplateIo_1","type":"n8n-nodes-base.apiTemplateIo","position":[850,600],"parameters":{"resource":"pdf","operation":"create","pdfTemplateId":"your-template-id","templateData":{"uxFeedback":"={{ $json.filter(item => item.theme === 'UX').length }}","pricingFeedback":"={{ $json.filter(item => item.theme === 'pricing').length }}","supportFeedback":"={{ $json.filter(item => item.theme === 'support').length }}","positiveSentiment":"={{ $json.filter(item => item.sentiment === 'positive').length }}","negativeSentiment":"={{ $json.filter(item => item.sentiment === 'negative').length }}","neutralSentiment":"={{ $json.filter(item => item.sentiment === 'neutral').length }}","totalResponses":"={{ $json.length }}","reportMonth":"={{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}"}},"name":"Generate PDF Report","typeVersion":1},{"id":"emailSend_1","type":"n8n-nodes-base.emailSend","position":[1150,600],"parameters":{"fromEmail":"reports@company.com","toEmail":"management@company.com","subject":"Monthly Survey Feedback Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}","message":"Please find attached the monthly survey feedback analysis report.","attachments":"={{ $json.download_url }}","options":{"attachmentsUi":{"attachmentsBinary":[{"property":"data"}]}}},"name":"Send Report to Management","typeVersion":2.1,"onError":"continueRegularOutput","maxTries":3}],"connections":{"Typeform Survey Response":{"main":[[{"node":"AI Categorization & Sentiment","type":"main","index":0}]]},"AI Categorization & Sentiment":{"main":[[{"node":"Store Survey Data","type":"main","index":0}]]},"Store Survey Data":{"main":[[{"node":"Check for Issues","type":"main","index":0}]]},"Check for Issues":{"main":[[{"node":"Create Jira Issue","type":"main","index":0}],[]]},"Monthly Report Trigger":{"main":[[{"node":"Query Monthly Data","type":"main","index":0}]]},"Query Monthly Data":{"main":[[{"node":"Generate PDF Report","type":"main","index":0}]]},"Generate PDF Report":{"main":[[{"node":"Send Report to Management","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","saveDataSuccessExecution":"all","saveDataErrorExecution":"all","saveManualExecutions":true}},"options":{"validateNodes":true,"validateConnections":true,"validateExpressions":true,"profile":"runtime"}}
2025-08-12T14:08:02.719Z [DEBUG] [MCP] Tool validate_workflow completed successfully
2025-08-12T14:08:07.521Z [INFO] [MCP] Calling tool: validate_workflow
2025-08-12T14:08:07.521Z [DEBUG] [MCP] Parameters: {"workflow":{"name":"Typeform Survey Feedback Analysis & Reporting Workflow","nodes":[{"id":"typeformTrigger_1","type":"n8n-nodes-base.typeformTrigger","position":[250,300],"parameters":{"formId":"","onlyAnswers":true,"authentication":"accessToken"},"name":"Typeform Survey Response","typeVersion":1.1},{"id":"openAi_1","type":"n8n-nodes-base.openAi","position":[550,300],"parameters":{"resource":"chat","operation":"complete","model":"gpt-3.5-turbo","messages":{"values":[{"role":"system","content":"Analyze survey feedback and return JSON with: {\"theme\": \"UX|pricing|support|other\", \"sentiment\": \"positive|negative|neutral\", \"priority\": \"high|medium|low\"}"},{"role":"user","content":"={{ $json.feedback }}"}]}},"name":"AI Categorization & Sentiment","typeVersion":1.1,"onError":"continueRegularOutput"},{"id":"postgres_1","type":"n8n-nodes-base.postgres","position":[850,300],"parameters":{"operation":"insert","schema":"public","table":"survey_responses","columns":{"mappingMode":"defineBelow","value":{"response_id":"={{ $('Typeform Survey Response').item.json.token }}","feedback":"={{ $('Typeform Survey Response').item.json.feedback }}","theme":"={{ JSON.parse($json.choices[0].message.content).theme }}","sentiment":"={{ JSON.parse($json.choices[0].message.content).sentiment }}","priority":"={{ JSON.parse($json.choices[0].message.content).priority }}","created_at":"={{ new Date().toISOString() }}"}}},"name":"Store Survey Data","typeVersion":2.6,"onError":"stopWorkflow"},{"id":"if_1","type":"n8n-nodes-base.if","position":[1150,300],"parameters":{"conditions":{"conditions":[{"leftValue":"={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}","rightValue":"negative","operator":{"type":"string","operation":"equals"}},{"leftValue":"={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}","rightValue":"high","operator":{"type":"string","operation":"equals"}}],"combinator":"or"}},"name":"Check for Issues","typeVersion":2.2},{"id":"jira_1","type":"n8n-nodes-base.jira","position":[1450,200],"parameters":{"resource":"issue","operation":"create","project":{"key":"DEV"},"issueType":{"name":"Bug"},"summary":"Survey Feedback Issue: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme }}","description":"Customer feedback: {{ $('Typeform Survey Response').item.json.feedback }}\n\nSentiment: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}\nPriority: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}","labels":["survey-feedback","={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme.toLowerCase() }}"]},"name":"Create Jira Issue","typeVersion":1},{"id":"scheduleTrigger_1","type":"n8n-nodes-base.scheduleTrigger","position":[250,600],"parameters":{"rule":{"interval":[{"field":"month","triggerAtDay":1,"triggerAtHour":9,"triggerAtMinute":0}]}},"name":"Monthly Report Trigger","typeVersion":1.2},{"id":"postgres_2","type":"n8n-nodes-base.postgres","position":[550,600],"parameters":{"operation":"select","schema":"public","table":"survey_responses","where":{"values":[{"column":"created_at","condition":">=","value":"={{ new Date(new Date().getFullYear(), new Date().getMonth() - 1, 1).toISOString() }}"}]}},"name":"Query Monthly Data","typeVersion":2.6},{"id":"apiTemplateIo_1","type":"n8n-nodes-base.apiTemplateIo","position":[850,600],"parameters":{"resource":"pdf","operation":"create","pdfTemplateId":"your-template-id","templateData":{"uxFeedback":"={{ $json.filter(item => item.theme === 'UX').length }}","pricingFeedback":"={{ $json.filter(item => item.theme === 'pricing').length }}","supportFeedback":"={{ $json.filter(item => item.theme === 'support').length }}","positiveSentiment":"={{ $json.filter(item => item.sentiment === 'positive').length }}","negativeSentiment":"={{ $json.filter(item => item.sentiment === 'negative').length }}","neutralSentiment":"={{ $json.filter(item => item.sentiment === 'neutral').length }}","totalResponses":"={{ $json.length }}","reportMonth":"={{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}"}},"name":"Generate PDF Report","typeVersion":1},{"id":"emailSend_1","type":"n8n-nodes-base.emailSend","position":[1150,600],"parameters":{"fromEmail":"reports@company.com","toEmail":"management@company.com","subject":"Monthly Survey Feedback Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}","message":"Please find attached the monthly survey feedback analysis report.","attachments":"={{ $json.download_url }}","options":{"attachmentsUi":{"attachmentsBinary":[{"property":"data"}]}}},"name":"Send Report to Management","typeVersion":2.1,"onError":"continueRegularOutput","maxTries":3}],"connections":{"Typeform Survey Response":{"main":[[{"node":"AI Categorization & Sentiment","type":"main","index":0}]]},"AI Categorization & Sentiment":{"main":[[{"node":"Store Survey Data","type":"main","index":0}]]},"Store Survey Data":{"main":[[{"node":"Check for Issues","type":"main","index":0}]]},"Check for Issues":{"main":[[{"node":"Create Jira Issue","type":"main","index":0}],[]]},"Monthly Report Trigger":{"main":[[{"node":"Query Monthly Data","type":"main","index":0}]]},"Query Monthly Data":{"main":[[{"node":"Generate PDF Report","type":"main","index":0}]]},"Generate PDF Report":{"main":[[{"node":"Send Report to Management","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","saveDataSuccessExecution":"all","saveDataErrorExecution":"all","saveManualExecutions":true}},"options":{"validateNodes":true,"validateConnections":true,"validateExpressions":true,"profile":"runtime"}}
2025-08-12T14:08:07.904Z [DEBUG] [MCP] Tool validate_workflow completed successfully
2025-08-12T14:08:12.315Z [INFO] [MCP] Calling tool: validate_workflow
2025-08-12T14:08:12.315Z [DEBUG] [MCP] Parameters: {"workflow":{"name":"Typeform Survey Feedback Analysis & Reporting Workflow","nodes":[{"id":"typeformTrigger_1","type":"n8n-nodes-base.typeformTrigger","position":[250,300],"parameters":{"formId":"your-form-id","onlyAnswers":true,"authentication":"accessToken"},"name":"Typeform Survey Response","typeVersion":1.1},{"id":"openAi_1","type":"n8n-nodes-base.openAi","position":[550,300],"parameters":{"resource":"chat","operation":"complete","model":"gpt-3.5-turbo","messages":{"values":[{"role":"system","content":"Analyze survey feedback and return JSON with: {\"theme\": \"UX|pricing|support|other\", \"sentiment\": \"positive|negative|neutral\", \"priority\": \"high|medium|low\"}"},{"role":"user","content":"={{ $json.feedback }}"}]}},"name":"AI Categorization & Sentiment","typeVersion":1.1,"onError":"continueRegularOutput"},{"id":"postgres_1","type":"n8n-nodes-base.postgres","position":[850,300],"parameters":{"operation":"insert","schema":"public","table":"survey_responses","columns":{"mappingMode":"defineBelow","value":{"response_id":"={{ $('Typeform Survey Response').item.json.token }}","feedback":"={{ $('Typeform Survey Response').item.json.feedback }}","theme":"={{ JSON.parse($json.choices[0].message.content).theme }}","sentiment":"={{ JSON.parse($json.choices[0].message.content).sentiment }}","priority":"={{ JSON.parse($json.choices[0].message.content).priority }}","created_at":"={{ new Date().toISOString() }}"}}},"name":"Store Survey Data","typeVersion":2.6,"onError":"stopWorkflow"},{"id":"if_1","type":"n8n-nodes-base.if","position":[1150,300],"parameters":{"conditions":{"conditions":[{"leftValue":"={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}","rightValue":"negative","operator":{"type":"string","operation":"equals"}},{"leftValue":"={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}","rightValue":"high","operator":{"type":"string","operation":"equals"}}],"combinator":"or"}},"name":"Check for Issues","typeVersion":2.2},{"id":"jira_1","type":"n8n-nodes-base.jira","position":[1450,200],"parameters":{"resource":"issue","operation":"create","project":{"key":"DEV"},"issueType":{"name":"Bug"},"summary":"Survey Feedback Issue: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme }}","description":"Customer feedback: {{ $('Typeform Survey Response').item.json.feedback }}\n\nSentiment: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}\nPriority: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}","labels":["survey-feedback","={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme.toLowerCase() }}"]},"name":"Create Jira Issue","typeVersion":1},{"id":"scheduleTrigger_1","type":"n8n-nodes-base.scheduleTrigger","position":[250,600],"parameters":{"rule":{"interval":[{"field":"month","triggerAtDay":1,"triggerAtHour":9,"triggerAtMinute":0}]}},"name":"Monthly Report Trigger","typeVersion":1.2},{"id":"postgres_2","type":"n8n-nodes-base.postgres","position":[550,600],"parameters":{"operation":"select","schema":"public","table":"survey_responses","where":{"values":[{"column":"created_at","condition":">=","value":"={{ new Date(new Date().getFullYear(), new Date().getMonth() - 1, 1).toISOString() }}"}]}},"name":"Query Monthly Data","typeVersion":2.6},{"id":"apiTemplateIo_1","type":"n8n-nodes-base.apiTemplateIo","position":[850,600],"parameters":{"resource":"pdf","operation":"create","pdfTemplateId":"your-template-id","templateData":{"uxFeedback":"={{ $json.filter(item => item.theme === 'UX').length }}","pricingFeedback":"={{ $json.filter(item => item.theme === 'pricing').length }}","supportFeedback":"={{ $json.filter(item => item.theme === 'support').length }}","positiveSentiment":"={{ $json.filter(item => item.sentiment === 'positive').length }}","negativeSentiment":"={{ $json.filter(item => item.sentiment === 'negative').length }}","neutralSentiment":"={{ $json.filter(item => item.sentiment === 'neutral').length }}","totalResponses":"={{ $json.length }}","reportMonth":"={{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}"}},"name":"Generate PDF Report","typeVersion":1},{"id":"emailSend_1","type":"n8n-nodes-base.emailSend","position":[1150,600],"parameters":{"fromEmail":"reports@company.com","toEmail":"management@company.com","subject":"Monthly Survey Feedback Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}","message":"Please find attached the monthly survey feedback analysis report.","attachments":"={{ $json.download_url }}","options":{"attachmentsUi":{"attachmentsBinary":[{"property":"data"}]}}},"name":"Send Report to Management","typeVersion":2.1,"onError":"continueRegularOutput","maxTries":3}],"connections":{"Typeform Survey Response":{"main":[[{"node":"AI Categorization & Sentiment","type":"main","index":0}]]},"AI Categorization & Sentiment":{"main":[[{"node":"Store Survey Data","type":"main","index":0}]]},"Store Survey Data":{"main":[[{"node":"Check for Issues","type":"main","index":0}]]},"Check for Issues":{"main":[[{"node":"Create Jira Issue","type":"main","index":0}],[]]},"Monthly Report Trigger":{"main":[[{"node":"Query Monthly Data","type":"main","index":0}]]},"Query Monthly Data":{"main":[[{"node":"Generate PDF Report","type":"main","index":0}]]},"Generate PDF Report":{"main":[[{"node":"Send Report to Management","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","saveDataSuccessExecution":"all","saveDataErrorExecution":"all","saveManualExecutions":true}},"options":{"validateNodes":true,"validateConnections":true,"validateExpressions":true,"profile":"runtime"}}
2025-08-12T14:08:12.498Z [DEBUG] [MCP] Tool validate_workflow completed successfully
2025-08-12T14:08:13.281Z [INFO] [Validation] Applied fix 1: Replaced 6 nodes (attempt 1)
2025-08-12T14:08:13.281Z [INFO] [Validation] Applied fix 2: Replaced 1 nodes (attempt 2)
2025-08-12T14:08:13.281Z [INFO] [Validation] Applied fix 3: Replaced 1 nodes (attempt 3)
2025-08-12T14:08:13.281Z [INFO] [Validation] Applied fix 4: Replaced 1 nodes (attempt 4)
2025-08-12T14:08:13.281Z [INFO] [Validation] Applied fix 5: Replaced 1 nodes (attempt 5)
2025-08-12T14:08:13.281Z [INFO] [Orchestrator] Validation completed in 5 attempts
2025-08-12T14:08:13.281Z [INFO] [Tools] Applied 5 fixes
2025-08-12T14:08:13.376Z [DEBUG] [Orchestrator] Session state updated
2025-08-12T14:08:13.376Z [INFO] [Orchestrator] Data flow captured: 3 transformations
```

### Data Flow
**Input:**
```json
{
  "workflow": {
    "name": "Typeform Survey Feedback Analysis & Reporting Workflow",
    "nodes": [
      {
        "id": "typeformTrigger_1",
        "type": "n8n-nodes-base.typeformTrigger",
        "position": [
          250,
          300
        ],
        "parameters": {
          "formId": "",
          "onlyAnswers": true,
          "authentication": "accessToken"
        },
        "name": "Typeform Survey Response",
        "typeVersion": 1
      },
      {
        "id": "openAi_1",
        "type": "n8n-nodes-base.openAi",
        "position": [
          550,
          300
        ],
        "parameters": {
          "resource": "chat",
          "operation": "message",
          "model": "gpt-3.5-turbo",
          "messages": {
            "values": [
              {
                "role": "system",
                "content": "Analyze survey feedback and return JSON with: {\"theme\": \"UX|pricing|support|other\", \"sentiment\": \"positive|negative|neutral\", \"priority\": \"high|medium|low\"}"
              },
              {
                "role": "user",
                "content": "={{ $json.feedback }}"
              }
            ]
          }
        },
        "name": "AI Categorization & Sentiment",
        "typeVersion": 1,
        "onError": "continueRegularOutput"
      },
      {
        "id": "postgres_1",
        "type": "n8n-nodes-base.postgres",
        "position": [
          850,
          300
        ],
        "parameters": {
          "operation": "insert",
          "schema": "public",
          "table": "survey_responses",
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "response_id": "={{ $('Typeform Survey Response').item.json.token }}",
              "feedback": "={{ $('Typeform Survey Response').item.json.feedback }}",
              "theme": "={{ JSON.parse($json.choices[0].message.content).theme }}",
              "sentiment": "={{ JSON.parse($json.choices[0].message.content).sentiment }}",
              "priority": "={{ JSON.parse($json.choices[0].message.content).priority }}",
              "created_at": "={{ new Date().toISOString() }}"
            }
          }
        },
        "name": "Store Survey Data",
        "typeVersion": 2.4,
        "onError": "stopWorkflow"
      },
      {
        "id": "if_1",
        "type": "n8n-nodes-base.if",
        "position": [
          1150,
          300
        ],
        "parameters": {
          "conditions": {
            "conditions": [
              {
                "leftValue": "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}",
                "rightValue": "negative",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              },
              {
                "leftValue": "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}",
                "rightValue": "high",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              }
            ],
            "combinator": "or"
          }
        },
        "name": "Check for Issues",
        "typeVersion": 2
      },
      {
        "id": "jira_1",
        "type": "n8n-nodes-base.jira",
        "position": [
          1450,
          200
        ],
        "parameters": {
          "resource": "issue",
          "operation": "create",
          "project": {
            "key": "DEV"
          },
          "issueType": {
            "name": "Bug"
          },
          "summary": "Survey Feedback Issue: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme }}",
          "description": "Customer feedback: {{ $('Typeform Survey Response').item.json.feedback }}\n\nSentiment: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}\nPriority: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}",
          "labels": [
            "survey-feedback",
            "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme.toLowerCase() }}"
          ]
        },
        "name": "Create Jira Issue",
        "typeVersion": 1
      },
      {
        "id": "scheduleTrigger_1",
        "type": "n8n-nodes-base.scheduleTrigger",
        "position": [
          250,
          600
        ],
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "month",
                "triggerAtDay": 1,
                "triggerAtHour": 9,
                "triggerAtMinute": 0
              }
            ]
          }
        },
        "name": "Monthly Report Trigger",
        "typeVersion": 1.2
      },
      {
        "id": "postgres_2",
        "type": "n8n-nodes-base.postgres",
        "position": [
          550,
          600
        ],
        "parameters": {
          "operation": "select",
          "schema": "public",
          "table": "survey_responses",
          "where": {
            "values": [
              {
                "column": "created_at",
                "condition": ">=",
                "value": "={{ new Date(new Date().getFullYear(), new Date().getMonth() - 1, 1).toISOString() }}"
              }
            ]
          }
        },
        "name": "Query Monthly Data",
        "typeVersion": 2.4
      },
      {
        "id": "apiTemplateIo_1",
        "type": "n8n-nodes-base.apiTemplateIo",
        "position": [
          850,
          600
        ],
        "parameters": {
          "resource": "pdf",
          "operation": "create",
          "templateData": {
            "uxFeedback": "={{ $json.filter(item => item.theme === 'UX').length }}",
            "pricingFeedback": "={{ $json.filter(item => item.theme === 'pricing').length }}",
            "supportFeedback": "={{ $json.filter(item => item.theme === 'support').length }}",
            "positiveSentiment": "={{ $json.filter(item => item.sentiment === 'positive').length }}",
            "negativeSentiment": "={{ $json.filter(item => item.sentiment === 'negative').length }}",
            "neutralSentiment": "={{ $json.filter(item => item.sentiment === 'neutral').length }}",
            "totalResponses": "={{ $json.length }}",
            "reportMonth": "={{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}"
          }
        },
        "name": "Generate PDF Report",
        "typeVersion": 1
      },
      {
        "id": "emailSend_1",
        "type": "n8n-nodes-base.emailSend",
        "position": [
          1150,
          600
        ],
        "parameters": {
          "fromEmail": "reports@company.com",
          "toEmail": "management@company.com",
          "subject": "Monthly Survey Feedback Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}",
          "message": "Please find attached the monthly survey feedback analysis report.",
          "attachments": "={{ $json.download_url }}",
          "options": {
            "attachmentsUi": {
              "attachmentsBinary": [
                {
                  "property": "data"
                }
              ]
            }
          }
        },
        "name": "Send Report to Management",
        "typeVersion": 2.1,
        "onError": "continueRegularOutput",
        "maxTries": 3
      }
    ],
    "connections": {
      "Typeform Survey Response": {
        "main": [
          [
            {
              "node": "AI Categorization & Sentiment",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "AI Categorization & Sentiment": {
        "main": [
          [
            {
              "node": "Store Survey Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Store Survey Data": {
        "main": [
          [
            {
              "node": "Check for Issues",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Check for Issues": {
        "main": [
          [
            {
              "node": "Create Jira Issue",
              "type": "main",
              "index": 0
            }
          ],
          []
        ]
      },
      "Monthly Report Trigger": {
        "main": [
          [
            {
              "node": "Query Monthly Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Query Monthly Data": {
        "main": [
          [
            {
              "node": "Generate PDF Report",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Generate PDF Report": {
        "main": [
          [
            {
              "node": "Send Report to Management",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "settings": {
      "executionOrder": "v1",
      "saveDataSuccessExecution": "all",
      "saveDataErrorExecution": "all",
      "saveManualExecutions": true
    }
  }
}
```

**Output:**
```json
{
  "validatedWorkflow": {
    "name": "Typeform Survey Feedback Analysis & Reporting Workflow",
    "nodes": [
      {
        "id": "typeformTrigger_1",
        "type": "n8n-nodes-base.typeformTrigger",
        "position": [
          250,
          300
        ],
        "parameters": {
          "formId": "your-form-id",
          "onlyAnswers": true,
          "authentication": "accessToken"
        },
        "name": "Typeform Survey Response",
        "typeVersion": 1.1
      },
      {
        "id": "openAi_1",
        "type": "n8n-nodes-base.openAi",
        "position": [
          550,
          300
        ],
        "parameters": {
          "resource": "chat",
          "operation": "complete",
          "model": "gpt-3.5-turbo",
          "messages": {
            "values": [
              {
                "role": "system",
                "content": "Analyze survey feedback and return JSON with: {\"theme\": \"UX|pricing|support|other\", \"sentiment\": \"positive|negative|neutral\", \"priority\": \"high|medium|low\"}"
              },
              {
                "role": "user",
                "content": "={{ $json.feedback }}"
              }
            ]
          }
        },
        "name": "AI Categorization & Sentiment",
        "typeVersion": 1.1,
        "onError": "continueRegularOutput"
      },
      {
        "id": "postgres_1",
        "type": "n8n-nodes-base.postgres",
        "position": [
          850,
          300
        ],
        "parameters": {
          "operation": "insert",
          "schema": "public",
          "table": "survey_responses",
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "response_id": "={{ $('Typeform Survey Response').item.json.token }}",
              "feedback": "={{ $('Typeform Survey Response').item.json.feedback }}",
              "theme": "={{ JSON.parse($json.choices[0].message.content).theme }}",
              "sentiment": "={{ JSON.parse($json.choices[0].message.content).sentiment }}",
              "priority": "={{ JSON.parse($json.choices[0].message.content).priority }}",
              "created_at": "={{ new Date().toISOString() }}"
            }
          }
        },
        "name": "Store Survey Data",
        "typeVersion": 2.6,
        "onError": "stopWorkflow"
      },
      {
        "id": "if_1",
        "type": "n8n-nodes-base.if",
        "position": [
          1150,
          300
        ],
        "parameters": {
          "conditions": {
            "conditions": [
              {
                "leftValue": "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}",
                "rightValue": "negative",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              },
              {
                "leftValue": "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}",
                "rightValue": "high",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              }
            ],
            "combinator": "or"
          }
        },
        "name": "Check for Issues",
        "typeVersion": 2.2
      },
      {
        "id": "jira_1",
        "type": "n8n-nodes-base.jira",
        "position": [
          1450,
          200
        ],
        "parameters": {
          "resource": "issue",
          "operation": "create",
          "project": {
            "key": "DEV"
          },
          "issueType": {
            "name": "Bug"
          },
          "summary": "Survey Feedback Issue: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme }}",
          "description": "Customer feedback: {{ $('Typeform Survey Response').item.json.feedback }}\n\nSentiment: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}\nPriority: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}",
          "labels": [
            "survey-feedback",
            "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme.toLowerCase() }}"
          ]
        },
        "name": "Create Jira Issue",
        "typeVersion": 1
      },
      {
        "id": "scheduleTrigger_1",
        "type": "n8n-nodes-base.scheduleTrigger",
        "position": [
          250,
          600
        ],
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "month",
                "triggerAtDay": 1,
                "triggerAtHour": 9,
                "triggerAtMinute": 0
              }
            ]
          }
        },
        "name": "Monthly Report Trigger",
        "typeVersion": 1.2
      },
      {
        "id": "postgres_2",
        "type": "n8n-nodes-base.postgres",
        "position": [
          550,
          600
        ],
        "parameters": {
          "operation": "select",
          "schema": "public",
          "table": "survey_responses",
          "where": {
            "values": [
              {
                "column": "created_at",
                "condition": ">=",
                "value": "={{ new Date(new Date().getFullYear(), new Date().getMonth() - 1, 1).toISOString() }}"
              }
            ]
          }
        },
        "name": "Query Monthly Data",
        "typeVersion": 2.6
      },
      {
        "id": "apiTemplateIo_1",
        "type": "n8n-nodes-base.apiTemplateIo",
        "position": [
          850,
          600
        ],
        "parameters": {
          "resource": "pdf",
          "operation": "create",
          "pdfTemplateId": "your-template-id",
          "templateData": {
            "uxFeedback": "={{ $json.filter(item => item.theme === 'UX').length }}",
            "pricingFeedback": "={{ $json.filter(item => item.theme === 'pricing').length }}",
            "supportFeedback": "={{ $json.filter(item => item.theme === 'support').length }}",
            "positiveSentiment": "={{ $json.filter(item => item.sentiment === 'positive').length }}",
            "negativeSentiment": "={{ $json.filter(item => item.sentiment === 'negative').length }}",
            "neutralSentiment": "={{ $json.filter(item => item.sentiment === 'neutral').length }}",
            "totalResponses": "={{ $json.length }}",
            "reportMonth": "={{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}"
          }
        },
        "name": "Generate PDF Report",
        "typeVersion": 1
      },
      {
        "id": "emailSend_1",
        "type": "n8n-nodes-base.emailSend",
        "position": [
          1150,
          600
        ],
        "parameters": {
          "fromEmail": "reports@company.com",
          "toEmail": "management@company.com",
          "subject": "Monthly Survey Feedback Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}",
          "message": "Please find attached the monthly survey feedback analysis report.",
          "attachments": "={{ $json.download_url }}",
          "options": {
            "attachmentsUi": {
              "attachmentsBinary": [
                {
                  "property": "data"
                }
              ]
            }
          }
        },
        "name": "Send Report to Management",
        "typeVersion": 2.1,
        "onError": "continueRegularOutput",
        "maxTries": 3
      }
    ],
    "connections": {
      "Typeform Survey Response": {
        "main": [
          [
            {
              "node": "AI Categorization & Sentiment",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "AI Categorization & Sentiment": {
        "main": [
          [
            {
              "node": "Store Survey Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Store Survey Data": {
        "main": [
          [
            {
              "node": "Check for Issues",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Check for Issues": {
        "main": [
          [
            {
              "node": "Create Jira Issue",
              "type": "main",
              "index": 0
            }
          ],
          []
        ]
      },
      "Monthly Report Trigger": {
        "main": [
          [
            {
              "node": "Query Monthly Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Query Monthly Data": {
        "main": [
          [
            {
              "node": "Generate PDF Report",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Generate PDF Report": {
        "main": [
          [
            {
              "node": "Send Report to Management",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "settings": {
      "executionOrder": "v1",
      "saveDataSuccessExecution": "all",
      "saveDataErrorExecution": "all",
      "saveManualExecutions": true
    },
    "valid": false
  },
  "report": {
    "initial": {
      "workflow": {
        "errors": [
          {
            "node": "Typeform Survey Response",
            "message": {
              "type": "invalid_value",
              "property": "formId",
              "message": "Invalid value for 'formId'. Must be one of: ",
              "fix": "Change formId to one of the valid options"
            }
          },
          {
            "node": "AI Categorization & Sentiment",
            "message": {
              "type": "invalid_value",
              "property": "operation",
              "message": "Invalid value for 'operation'. Must be one of: complete",
              "fix": "Change operation to one of the valid options"
            }
          },
          {
            "node": "Generate PDF Report",
            "message": {
              "type": "missing_required",
              "property": "pdfTemplateId",
              "message": "Required property 'Template Name or ID' is missing",
              "fix": "Add pdfTemplateId to your configuration"
            }
          },
          {
            "node": "workflow",
            "message": "Workflow validation failed: e.message.includes is not a function"
          },
          {
            "node": "Typeform Survey Response",
            "message": "Outdated typeVersion: 1. Latest is 1.1",
            "type": "typeVersion",
            "severity": "error"
          },
          {
            "node": "AI Categorization & Sentiment",
            "message": "Outdated typeVersion: 1. Latest is 1.1",
            "type": "typeVersion",
            "severity": "error"
          },
          {
            "node": "Store Survey Data",
            "message": "Outdated typeVersion: 2.4. Latest is 2.6",
            "type": "typeVersion",
            "severity": "error"
          },
          {
            "node": "Check for Issues",
            "message": "Outdated typeVersion: 2. Latest is 2.2",
            "type": "typeVersion",
            "severity": "error"
          },
          {
            "node": "Query Monthly Data",
            "message": "Outdated typeVersion: 2.4. Latest is 2.6",
            "type": "typeVersion",
            "severity": "error"
          }
        ],
        "warnings": [
          {
            "node": "Store Survey Data",
            "message": "Expression warning: columns.value.response_id: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Store Survey Data",
            "message": "Expression warning: columns.value.feedback: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Check for Issues",
            "message": "Expression warning: conditions.conditions[0].leftValue: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Check for Issues",
            "message": "Expression warning: conditions.conditions[1].leftValue: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Create Jira Issue",
            "message": "Expression warning: summary: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Create Jira Issue",
            "message": "Expression warning: description: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Create Jira Issue",
            "message": "Expression warning: description: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Create Jira Issue",
            "message": "Expression warning: description: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Create Jira Issue",
            "message": "Expression warning: labels[1]: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "workflow",
            "message": "Consider adding error handling to your workflow"
          },
          {
            "node": "Create Jira Issue",
            "message": "jira node interacts with external services but has no error handling configured. Consider using \"onError\" property."
          },
          {
            "node": "Query Monthly Data",
            "message": "Database operation without error handling. Consider adding \"retryOnFail: true\" for connection issues or \"onError: 'continueRegularOutput'\" for non-critical queries."
          }
        ],
        "valid": false,
        "statistics": {
          "totalNodes": 9,
          "enabledNodes": 9,
          "triggerNodes": 2,
          "validConnections": 7,
          "invalidConnections": 0,
          "expressionsValidated": 4,
          "errorCount": 4,
          "warningCount": 17
        }
      },
      "connections": {
        "errors": [],
        "warnings": []
      },
      "expressions": {
        "errors": [],
        "warnings": []
      }
    },
    "fixesApplied": [
      {
        "type": "entity-replacement",
        "attempt": 1,
        "timestamp": "2025-08-12T14:07:36.822Z",
        "description": "Replaced 6 nodes",
        "reasoning": [
          "Fixed Typeform Survey Response: Added placeholder 'your-form-id' for formId (must be replaced with actual form ID) and updated typeVersion from 1 to 1.1",
          "Fixed AI Categorization & Sentiment: Changed operation from 'message' to 'complete' (valid operation) and updated typeVersion from 1 to 1.1",
          "Fixed Generate PDF Report: Added required pdfTemplateId parameter with placeholder 'your-template-id' (must be replaced with actual template ID)",
          "Fixed Store Survey Data: Updated typeVersion from 2.4 to 2.6 (latest version)",
          "Fixed Check for Issues: Updated typeVersion from 2 to 2.2 (latest version)",
          "Fixed Query Monthly Data: Updated typeVersion from 2.4 to 2.6 (latest version)"
        ],
        "entitiesFixed": {
          "nodes": [
            "typeformTrigger_1",
            "openAi_1",
            "apiTemplateIo_1",
            "postgres_1",
            "if_1",
            "postgres_2"
          ],
          "connections": false
        }
      },
      {
        "type": "entity-replacement",
        "attempt": 2,
        "timestamp": "2025-08-12T14:07:57.027Z",
        "description": "Replaced 1 nodes",
        "reasoning": [
          "Fixed the Typeform Survey Response node by setting formId to an empty string instead of the placeholder 'your-form-id'. The validation error indicated that 'your-form-id' is not a valid formId value. An empty string will allow the user to properly configure this field with their actual Typeform form ID.",
          "The second validation error about 'e.message.includes is not a function' appears to be a workflow-level validation issue that may resolve once the node configuration is corrected, as it's likely related to the invalid formId parameter causing downstream validation problems."
        ],
        "entitiesFixed": {
          "nodes": [
            "typeformTrigger_1"
          ],
          "connections": false
        }
      },
      {
        "type": "entity-replacement",
        "attempt": 3,
        "timestamp": "2025-08-12T14:08:02.535Z",
        "description": "Replaced 1 nodes",
        "reasoning": [
          "Fixed the Typeform Survey Response node by setting formId to 'your-form-id' as a placeholder value. The validation error indicated that formId cannot be empty and must be one of the valid options from your Typeform account. You'll need to replace 'your-form-id' with an actual form ID from your Typeform forms.",
          "The second validation error about 'e.message.includes is not a function' appears to be a system-level workflow validation issue that should resolve once the node configuration is properly set with a valid formId."
        ],
        "entitiesFixed": {
          "nodes": [
            "typeformTrigger_1"
          ],
          "connections": false
        }
      },
      {
        "type": "entity-replacement",
        "attempt": 4,
        "timestamp": "2025-08-12T14:08:07.521Z",
        "description": "Replaced 1 nodes",
        "reasoning": [
          "Fixed the Typeform Survey Response node by setting formId to an empty string instead of the placeholder 'your-form-id'. The validation error indicated that 'your-form-id' is not a valid formId value. An empty string will allow the user to properly configure the node with their actual Typeform form ID.",
          "The second validation error about 'e.message.includes is not a function' appears to be a workflow-level validation issue that may resolve once the node configuration is corrected."
        ],
        "entitiesFixed": {
          "nodes": [
            "typeformTrigger_1"
          ],
          "connections": false
        }
      },
      {
        "type": "entity-replacement",
        "attempt": 5,
        "timestamp": "2025-08-12T14:08:12.315Z",
        "description": "Replaced 1 nodes",
        "reasoning": [
          "Fixed the Typeform Survey Response node by setting formId to 'your-form-id' as a placeholder value. The validation error indicated that formId cannot be empty and must be one of the valid options from your Typeform account. You'll need to replace 'your-form-id' with an actual form ID from your Typeform forms.",
          "The second validation error about 'e.message.includes is not a function' appears to be a system-level workflow validation issue that should resolve once the node configuration is properly set with a valid formId."
        ],
        "entitiesFixed": {
          "nodes": [
            "typeformTrigger_1"
          ],
          "connections": false
        }
      }
    ],
    "final": {
      "workflow": {
        "errors": [
          {
            "node": "Typeform Survey Response",
            "message": {
              "type": "invalid_value",
              "property": "formId",
              "message": "Invalid value for 'formId'. Must be one of: ",
              "fix": "Change formId to one of the valid options"
            }
          },
          {
            "node": "workflow",
            "message": "Workflow validation failed: e.message.includes is not a function"
          }
        ],
        "warnings": [
          {
            "node": "Store Survey Data",
            "message": "Expression warning: columns.value.response_id: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Store Survey Data",
            "message": "Expression warning: columns.value.feedback: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Check for Issues",
            "message": "Expression warning: conditions.conditions[0].leftValue: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Check for Issues",
            "message": "Expression warning: conditions.conditions[1].leftValue: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Create Jira Issue",
            "message": "Expression warning: summary: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Create Jira Issue",
            "message": "Expression warning: description: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Create Jira Issue",
            "message": "Expression warning: description: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Create Jira Issue",
            "message": "Expression warning: description: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "Create Jira Issue",
            "message": "Expression warning: labels[1]: Possible missing $ prefix for variable (e.g., use $json instead of json)"
          },
          {
            "node": "workflow",
            "message": "Consider adding error handling to your workflow"
          },
          {
            "node": "Create Jira Issue",
            "message": "jira node interacts with external services but has no error handling configured. Consider using \"onError\" property."
          },
          {
            "node": "Query Monthly Data",
            "message": "Database operation without error handling. Consider adding \"retryOnFail: true\" for connection issues or \"onError: 'continueRegularOutput'\" for non-critical queries."
          }
        ],
        "valid": false,
        "statistics": {
          "totalNodes": 9,
          "enabledNodes": 9,
          "triggerNodes": 2,
          "validConnections": 7,
          "invalidConnections": 0,
          "expressionsValidated": 4,
          "errorCount": 2,
          "warningCount": 12
        }
      },
      "connections": {
        "errors": [],
        "warnings": []
      },
      "expressions": {
        "errors": [],
        "warnings": []
      }
    },
    "attempts": 5
  }
}
```

**Transformations:**
- Validation Check
- Error Detection
- Automatic Fixes

### Session State Changes
**Changed from building phase:**

**Added:**
- `state`: {1 fields}

**Modified:**
- `state`: {11 fields} → {11 fields}

**Unchanged (2 fields):** sessionId, createdAt

## ========== DOCUMENTATION PHASE ==========

**Status:** ✅ Success
**Duration:** 815ms
**Memory Delta:** -5MB

### Logs
```
2025-08-12T14:08:13.377Z [INFO] [Orchestrator] Starting documentation phase
2025-08-12T14:08:13.377Z [DEBUG] [Claude] Sending request for documentation phase
2025-08-12T14:08:14.058Z [INFO] [Orchestrator] Added 9 sticky notes for documentation
2025-08-12T14:08:14.191Z [DEBUG] [Orchestrator] Session state updated
2025-08-12T14:08:14.192Z [INFO] [Orchestrator] Data flow captured: 3 transformations
```

### Data Flow
**Input:**
```json
{
  "validatedWorkflow": {
    "name": "Typeform Survey Feedback Analysis & Reporting Workflow",
    "nodes": [
      {
        "id": "typeformTrigger_1",
        "type": "n8n-nodes-base.typeformTrigger",
        "position": [
          470,
          300
        ],
        "parameters": {
          "formId": "your-form-id",
          "onlyAnswers": true,
          "authentication": "accessToken"
        },
        "name": "Typeform Survey Response",
        "typeVersion": 1.1
      },
      {
        "id": "openAi_1",
        "type": "n8n-nodes-base.openAi",
        "position": [
          1070,
          300
        ],
        "parameters": {
          "resource": "chat",
          "operation": "complete",
          "model": "gpt-3.5-turbo",
          "messages": {
            "values": [
              {
                "role": "system",
                "content": "Analyze survey feedback and return JSON with: {\"theme\": \"UX|pricing|support|other\", \"sentiment\": \"positive|negative|neutral\", \"priority\": \"high|medium|low\"}"
              },
              {
                "role": "user",
                "content": "={{ $json.feedback }}"
              }
            ]
          }
        },
        "name": "AI Categorization & Sentiment",
        "typeVersion": 1.1,
        "onError": "continueRegularOutput"
      },
      {
        "id": "postgres_1",
        "type": "n8n-nodes-base.postgres",
        "position": [
          1470,
          300
        ],
        "parameters": {
          "operation": "insert",
          "schema": "public",
          "table": "survey_responses",
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "response_id": "={{ $('Typeform Survey Response').item.json.token }}",
              "feedback": "={{ $('Typeform Survey Response').item.json.feedback }}",
              "theme": "={{ JSON.parse($json.choices[0].message.content).theme }}",
              "sentiment": "={{ JSON.parse($json.choices[0].message.content).sentiment }}",
              "priority": "={{ JSON.parse($json.choices[0].message.content).priority }}",
              "created_at": "={{ new Date().toISOString() }}"
            }
          }
        },
        "name": "Store Survey Data",
        "typeVersion": 2.6,
        "onError": "stopWorkflow"
      },
      {
        "id": "if_1",
        "type": "n8n-nodes-base.if",
        "position": [
          1870,
          300
        ],
        "parameters": {
          "conditions": {
            "conditions": [
              {
                "leftValue": "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}",
                "rightValue": "negative",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              },
              {
                "leftValue": "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}",
                "rightValue": "high",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              }
            ],
            "combinator": "or"
          }
        },
        "name": "Check for Issues",
        "typeVersion": 2.2
      },
      {
        "id": "jira_1",
        "type": "n8n-nodes-base.jira",
        "position": [
          2270,
          200
        ],
        "parameters": {
          "resource": "issue",
          "operation": "create",
          "project": {
            "key": "DEV"
          },
          "issueType": {
            "name": "Bug"
          },
          "summary": "Survey Feedback Issue: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme }}",
          "description": "Customer feedback: {{ $('Typeform Survey Response').item.json.feedback }}\n\nSentiment: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}\nPriority: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}",
          "labels": [
            "survey-feedback",
            "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme.toLowerCase() }}"
          ]
        },
        "name": "Create Jira Issue",
        "typeVersion": 1
      },
      {
        "id": "scheduleTrigger_1",
        "type": "n8n-nodes-base.scheduleTrigger",
        "position": [
          670,
          600
        ],
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "month",
                "triggerAtDay": 1,
                "triggerAtHour": 9,
                "triggerAtMinute": 0
              }
            ]
          }
        },
        "name": "Monthly Report Trigger",
        "typeVersion": 1.2
      },
      {
        "id": "postgres_2",
        "type": "n8n-nodes-base.postgres",
        "position": [
          2670,
          600
        ],
        "parameters": {
          "operation": "select",
          "schema": "public",
          "table": "survey_responses",
          "where": {
            "values": [
              {
                "column": "created_at",
                "condition": ">=",
                "value": "={{ new Date(new Date().getFullYear(), new Date().getMonth() - 1, 1).toISOString() }}"
              }
            ]
          }
        },
        "name": "Query Monthly Data",
        "typeVersion": 2.6
      },
      {
        "id": "apiTemplateIo_1",
        "type": "n8n-nodes-base.apiTemplateIo",
        "position": [
          3070,
          600
        ],
        "parameters": {
          "resource": "pdf",
          "operation": "create",
          "pdfTemplateId": "your-template-id",
          "templateData": {
            "uxFeedback": "={{ $json.filter(item => item.theme === 'UX').length }}",
            "pricingFeedback": "={{ $json.filter(item => item.theme === 'pricing').length }}",
            "supportFeedback": "={{ $json.filter(item => item.theme === 'support').length }}",
            "positiveSentiment": "={{ $json.filter(item => item.sentiment === 'positive').length }}",
            "negativeSentiment": "={{ $json.filter(item => item.sentiment === 'negative').length }}",
            "neutralSentiment": "={{ $json.filter(item => item.sentiment === 'neutral').length }}",
            "totalResponses": "={{ $json.length }}",
            "reportMonth": "={{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}"
          }
        },
        "name": "Generate PDF Report",
        "typeVersion": 1
      },
      {
        "id": "emailSend_1",
        "type": "n8n-nodes-base.emailSend",
        "position": [
          3470,
          600
        ],
        "parameters": {
          "fromEmail": "reports@company.com",
          "toEmail": "management@company.com",
          "subject": "Monthly Survey Feedback Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}",
          "message": "Please find attached the monthly survey feedback analysis report.",
          "attachments": "={{ $json.download_url }}",
          "options": {
            "attachmentsUi": {
              "attachmentsBinary": [
                {
                  "property": "data"
                }
              ]
            }
          }
        },
        "name": "Send Report to Management",
        "typeVersion": 2.1,
        "onError": "continueRegularOutput",
        "maxTries": 3
      }
    ],
    "connections": {
      "Typeform Survey Response": {
        "main": [
          [
            {
              "node": "AI Categorization & Sentiment",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "AI Categorization & Sentiment": {
        "main": [
          [
            {
              "node": "Store Survey Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Store Survey Data": {
        "main": [
          [
            {
              "node": "Check for Issues",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Check for Issues": {
        "main": [
          [
            {
              "node": "Create Jira Issue",
              "type": "main",
              "index": 0
            }
          ],
          []
        ]
      },
      "Monthly Report Trigger": {
        "main": [
          [
            {
              "node": "Query Monthly Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Query Monthly Data": {
        "main": [
          [
            {
              "node": "Generate PDF Report",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Generate PDF Report": {
        "main": [
          [
            {
              "node": "Send Report to Management",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "settings": {
      "executionOrder": "v1",
      "saveDataSuccessExecution": "all",
      "saveDataErrorExecution": "all",
      "saveManualExecutions": true
    },
    "valid": false
  }
}
```

**Output:**
```json
{
  "documentedWorkflow": {
    "name": "Typeform Survey Feedback Analysis & Reporting Workflow",
    "nodes": [
      {
        "id": "typeformTrigger_1",
        "type": "n8n-nodes-base.typeformTrigger",
        "position": [
          470,
          300
        ],
        "parameters": {
          "formId": "your-form-id",
          "onlyAnswers": true,
          "authentication": "accessToken"
        },
        "name": "Typeform Survey Response",
        "typeVersion": 1.1
      },
      {
        "id": "openAi_1",
        "type": "n8n-nodes-base.openAi",
        "position": [
          1070,
          300
        ],
        "parameters": {
          "resource": "chat",
          "operation": "complete",
          "model": "gpt-3.5-turbo",
          "messages": {
            "values": [
              {
                "role": "system",
                "content": "Analyze survey feedback and return JSON with: {\"theme\": \"UX|pricing|support|other\", \"sentiment\": \"positive|negative|neutral\", \"priority\": \"high|medium|low\"}"
              },
              {
                "role": "user",
                "content": "={{ $json.feedback }}"
              }
            ]
          }
        },
        "name": "AI Categorization & Sentiment",
        "typeVersion": 1.1,
        "onError": "continueRegularOutput"
      },
      {
        "id": "postgres_1",
        "type": "n8n-nodes-base.postgres",
        "position": [
          1470,
          300
        ],
        "parameters": {
          "operation": "insert",
          "schema": "public",
          "table": "survey_responses",
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "response_id": "={{ $('Typeform Survey Response').item.json.token }}",
              "feedback": "={{ $('Typeform Survey Response').item.json.feedback }}",
              "theme": "={{ JSON.parse($json.choices[0].message.content).theme }}",
              "sentiment": "={{ JSON.parse($json.choices[0].message.content).sentiment }}",
              "priority": "={{ JSON.parse($json.choices[0].message.content).priority }}",
              "created_at": "={{ new Date().toISOString() }}"
            }
          }
        },
        "name": "Store Survey Data",
        "typeVersion": 2.6,
        "onError": "stopWorkflow"
      },
      {
        "id": "if_1",
        "type": "n8n-nodes-base.if",
        "position": [
          1870,
          300
        ],
        "parameters": {
          "conditions": {
            "conditions": [
              {
                "leftValue": "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}",
                "rightValue": "negative",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              },
              {
                "leftValue": "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}",
                "rightValue": "high",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              }
            ],
            "combinator": "or"
          }
        },
        "name": "Check for Issues",
        "typeVersion": 2.2
      },
      {
        "id": "jira_1",
        "type": "n8n-nodes-base.jira",
        "position": [
          2270,
          200
        ],
        "parameters": {
          "resource": "issue",
          "operation": "create",
          "project": {
            "key": "DEV"
          },
          "issueType": {
            "name": "Bug"
          },
          "summary": "Survey Feedback Issue: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme }}",
          "description": "Customer feedback: {{ $('Typeform Survey Response').item.json.feedback }}\n\nSentiment: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).sentiment }}\nPriority: {{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).priority }}",
          "labels": [
            "survey-feedback",
            "={{ JSON.parse($('AI Categorization & Sentiment').item.json.choices[0].message.content).theme.toLowerCase() }}"
          ]
        },
        "name": "Create Jira Issue",
        "typeVersion": 1
      },
      {
        "id": "scheduleTrigger_1",
        "type": "n8n-nodes-base.scheduleTrigger",
        "position": [
          670,
          600
        ],
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "month",
                "triggerAtDay": 1,
                "triggerAtHour": 9,
                "triggerAtMinute": 0
              }
            ]
          }
        },
        "name": "Monthly Report Trigger",
        "typeVersion": 1.2
      },
      {
        "id": "postgres_2",
        "type": "n8n-nodes-base.postgres",
        "position": [
          2670,
          600
        ],
        "parameters": {
          "operation": "select",
          "schema": "public",
          "table": "survey_responses",
          "where": {
            "values": [
              {
                "column": "created_at",
                "condition": ">=",
                "value": "={{ new Date(new Date().getFullYear(), new Date().getMonth() - 1, 1).toISOString() }}"
              }
            ]
          }
        },
        "name": "Query Monthly Data",
        "typeVersion": 2.6
      },
      {
        "id": "apiTemplateIo_1",
        "type": "n8n-nodes-base.apiTemplateIo",
        "position": [
          3070,
          600
        ],
        "parameters": {
          "resource": "pdf",
          "operation": "create",
          "pdfTemplateId": "your-template-id",
          "templateData": {
            "uxFeedback": "={{ $json.filter(item => item.theme === 'UX').length }}",
            "pricingFeedback": "={{ $json.filter(item => item.theme === 'pricing').length }}",
            "supportFeedback": "={{ $json.filter(item => item.theme === 'support').length }}",
            "positiveSentiment": "={{ $json.filter(item => item.sentiment === 'positive').length }}",
            "negativeSentiment": "={{ $json.filter(item => item.sentiment === 'negative').length }}",
            "neutralSentiment": "={{ $json.filter(item => item.sentiment === 'neutral').length }}",
            "totalResponses": "={{ $json.length }}",
            "reportMonth": "={{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}"
          }
        },
        "name": "Generate PDF Report",
        "typeVersion": 1
      },
      {
        "id": "emailSend_1",
        "type": "n8n-nodes-base.emailSend",
        "position": [
          3470,
          600
        ],
        "parameters": {
          "fromEmail": "reports@company.com",
          "toEmail": "management@company.com",
          "subject": "Monthly Survey Feedback Report - {{ new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }) }}",
          "message": "Please find attached the monthly survey feedback analysis report.",
          "attachments": "={{ $json.download_url }}",
          "options": {
            "attachmentsUi": {
              "attachmentsBinary": [
                {
                  "property": "data"
                }
              ]
            }
          }
        },
        "name": "Send Report to Management",
        "typeVersion": 2.1,
        "onError": "continueRegularOutput",
        "maxTries": 3
      },
      {
        "id": "sticky_triggers_row1_1755007693520",
        "name": "Triggers Documentation",
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          430,
          -40
        ],
        "parameters": {
          "content": "## 📥 Triggers\nWorkflow starts when a new survey response is submitted through Typeform, capturing customer feedback for analysis.\n\nMonthly scheduled trigger initiates the reporting workflow to generate comprehensive feedback analysis reports for management review.",
          "height": 680,
          "width": 430,
          "color": 5
        }
      },
      {
        "id": "sticky_transforms_row1_1755007693520",
        "name": "Transform Documentation",
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          990,
          -40
        ],
        "parameters": {
          "content": "## ⚙️ Transform\nAI analyzes the survey feedback to categorize it into themes (UX, pricing, support) and determines sentiment (positive, negative, neutral) with priority levels.",
          "height": 680,
          "width": 310,
          "color": 5
        }
      },
      {
        "id": "sticky_storage_row1_1755007693520",
        "name": "Storage Documentation",
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          1390,
          -40
        ],
        "parameters": {
          "content": "## 💾 Storage\nProcessed survey data with AI-generated categories and sentiment analysis is stored in PostgreSQL database for future reporting and analysis.",
          "height": 680,
          "width": 310,
          "color": 5
        }
      },
      {
        "id": "sticky_decision_row1_1755007693520",
        "name": "Decision Documentation",
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          1790,
          -40
        ],
        "parameters": {
          "content": "## 🔀 Decision\nEvaluates if the feedback requires immediate attention by checking for negative sentiment or high priority issues that should create development tickets.",
          "height": 680,
          "width": 310,
          "color": 5
        }
      },
      {
        "id": "sticky_integration_row1_1755007693520",
        "name": "Integration Documentation",
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          2190,
          -40
        ],
        "parameters": {
          "content": "## 🔗 Integration\nCreates Jira tickets for negative or high-priority feedback to ensure development team addresses customer concerns promptly.",
          "height": 680,
          "width": 310,
          "color": 5
        }
      },
      {
        "id": "sticky_inputs_row1_1755007693520",
        "name": "Inputs Documentation",
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          2590,
          -40
        ],
        "parameters": {
          "content": "## 📊 Inputs\nRetrieves all survey responses from the past month including categorized themes, sentiment analysis, and associated metadata for report generation.",
          "height": 680,
          "width": 310,
          "color": 5
        }
      },
      {
        "id": "sticky_aggregation_row1_1755007693520",
        "name": "Aggregation Documentation",
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          2990,
          -40
        ],
        "parameters": {
          "content": "## 🔄 Aggregation\nGenerates professional PDF reports summarizing monthly survey feedback with theme breakdowns, sentiment analysis, and key metrics using APITemplate.io.",
          "height": 680,
          "width": 310,
          "color": 5
        }
      },
      {
        "id": "sticky_outputs_row1_1755007693520",
        "name": "Outputs Documentation",
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          3390,
          -40
        ],
        "parameters": {
          "content": "## 🚀 Outputs\nDelivers the monthly PDF report to management via email, providing insights into customer feedback trends and development team actions.",
          "height": 680,
          "width": 310,
          "color": 6
        }
      },
      {
        "id": "sticky_promo_1755007693521",
        "name": "Workflow Overview",
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          50,
          -40
        ],
        "parameters": {
          "content": "## 🚀 Grow your AI business\n\nNeed help in implementing this workflow for your business? Join the Ghost Team community.\n\nThis workflow is made with 💚 by Ghost Team.",
          "height": 680,
          "width": 280,
          "color": 7
        }
      }
    ],
    "connections": {
      "Typeform Survey Response": {
        "main": [
          [
            {
              "node": "AI Categorization & Sentiment",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "AI Categorization & Sentiment": {
        "main": [
          [
            {
              "node": "Store Survey Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Store Survey Data": {
        "main": [
          [
            {
              "node": "Check for Issues",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Check for Issues": {
        "main": [
          [
            {
              "node": "Create Jira Issue",
              "type": "main",
              "index": 0
            }
          ],
          []
        ]
      },
      "Monthly Report Trigger": {
        "main": [
          [
            {
              "node": "Query Monthly Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Query Monthly Data": {
        "main": [
          [
            {
              "node": "Generate PDF Report",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Generate PDF Report": {
        "main": [
          [
            {
              "node": "Send Report to Management",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "settings": {
      "executionOrder": "v1",
      "saveDataSuccessExecution": "all",
      "saveDataErrorExecution": "all",
      "saveManualExecutions": true
    },
    "valid": false
  },
  "stickyNotesAdded": 9
}
```

**Transformations:**
- Documentation Generation
- Sticky Note Placement
- Workflow Finalization

### Session State Changes
**Changed from validation phase:**

**Modified:**
- `state`: {11 fields} → {11 fields}

**Unchanged (2 fields):** sessionId, createdAt

## Token Usage Report

## Summary

### Metrics
- **Total Nodes:** 18
- **Total Connections:** 7
- **Validation Attempts:** 5
- **Errors Fixed:** 5
- **Sticky Notes Added:** 9

### Scores
- **Performance Score:** 20/100
- **Quality Score:** 115/100
- **Completeness Score:** 100/100

### Optimization Suggestions
- Consider optimizing discovery phase (took 28663ms)
- Consider optimizing configuration phase (took 22232ms)
- Consider optimizing building phase (took 42521ms)
- Consider optimizing validation phase (took 51402ms)
- High validation attempts detected. Consider improving initial node configuration.
